/*! For license information please see main.666d6b4b.js.LICENSE.txt */
!function(){var e={7472:function(e){e.exports="object"==typeof self?self.FormData:window.FormData},2110:function(e,t,n){"use strict";var r=n(8309),i={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},a={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},o={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},u={};function s(e){return r.isMemo(e)?o:u[e.$$typeof]||i}u[r.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},u[r.Memo]=o;var c=Object.defineProperty,l=Object.getOwnPropertyNames,f=Object.getOwnPropertySymbols,h=Object.getOwnPropertyDescriptor,d=Object.getPrototypeOf,p=Object.prototype;e.exports=function e(t,n,r){if("string"!==typeof n){if(p){var i=d(n);i&&i!==p&&e(t,i,r)}var o=l(n);f&&(o=o.concat(f(n)));for(var u=s(t),v=s(n),y=0;y<o.length;++y){var m=o[y];if(!a[m]&&(!r||!r[m])&&(!v||!v[m])&&(!u||!u[m])){var g=h(n,m);try{c(t,m,g)}catch(k){}}}}return t}},746:function(e,t){"use strict";var n="function"===typeof Symbol&&Symbol.for,r=n?Symbol.for("react.element"):60103,i=n?Symbol.for("react.portal"):60106,a=n?Symbol.for("react.fragment"):60107,o=n?Symbol.for("react.strict_mode"):60108,u=n?Symbol.for("react.profiler"):60114,s=n?Symbol.for("react.provider"):60109,c=n?Symbol.for("react.context"):60110,l=n?Symbol.for("react.async_mode"):60111,f=n?Symbol.for("react.concurrent_mode"):60111,h=n?Symbol.for("react.forward_ref"):60112,d=n?Symbol.for("react.suspense"):60113,p=n?Symbol.for("react.suspense_list"):60120,v=n?Symbol.for("react.memo"):60115,y=n?Symbol.for("react.lazy"):60116,m=n?Symbol.for("react.block"):60121,g=n?Symbol.for("react.fundamental"):60117,k=n?Symbol.for("react.responder"):60118,b=n?Symbol.for("react.scope"):60119;function w(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case r:switch(e=e.type){case l:case f:case a:case u:case o:case d:return e;default:switch(e=e&&e.$$typeof){case c:case h:case y:case v:case s:return e;default:return t}}case i:return t}}}function _(e){return w(e)===f}t.AsyncMode=l,t.ConcurrentMode=f,t.ContextConsumer=c,t.ContextProvider=s,t.Element=r,t.ForwardRef=h,t.Fragment=a,t.Lazy=y,t.Memo=v,t.Portal=i,t.Profiler=u,t.StrictMode=o,t.Suspense=d,t.isAsyncMode=function(e){return _(e)||w(e)===l},t.isConcurrentMode=_,t.isContextConsumer=function(e){return w(e)===c},t.isContextProvider=function(e){return w(e)===s},t.isElement=function(e){return"object"===typeof e&&null!==e&&e.$$typeof===r},t.isForwardRef=function(e){return w(e)===h},t.isFragment=function(e){return w(e)===a},t.isLazy=function(e){return w(e)===y},t.isMemo=function(e){return w(e)===v},t.isPortal=function(e){return w(e)===i},t.isProfiler=function(e){return w(e)===u},t.isStrictMode=function(e){return w(e)===o},t.isSuspense=function(e){return w(e)===d},t.isValidElementType=function(e){return"string"===typeof e||"function"===typeof e||e===a||e===f||e===u||e===o||e===d||e===p||"object"===typeof e&&null!==e&&(e.$$typeof===y||e.$$typeof===v||e.$$typeof===s||e.$$typeof===c||e.$$typeof===h||e.$$typeof===g||e.$$typeof===k||e.$$typeof===b||e.$$typeof===m)},t.typeOf=w},8309:function(e,t,n){"use strict";e.exports=n(746)},908:function(e,t,n){var r=n(8136)(n(7009),"DataView");e.exports=r},9676:function(e,t,n){var r=n(5403),i=n(2747),a=n(6037),o=n(4154),u=n(7728);function s(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}s.prototype.clear=r,s.prototype.delete=i,s.prototype.get=a,s.prototype.has=o,s.prototype.set=u,e.exports=s},8384:function(e,t,n){var r=n(3894),i=n(8699),a=n(4957),o=n(7184),u=n(7109);function s(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}s.prototype.clear=r,s.prototype.delete=i,s.prototype.get=a,s.prototype.has=o,s.prototype.set=u,e.exports=s},5797:function(e,t,n){var r=n(8136)(n(7009),"Map");e.exports=r},8059:function(e,t,n){var r=n(4086),i=n(9255),a=n(9186),o=n(3423),u=n(3739);function s(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}s.prototype.clear=r,s.prototype.delete=i,s.prototype.get=a,s.prototype.has=o,s.prototype.set=u,e.exports=s},8319:function(e,t,n){var r=n(8136)(n(7009),"Promise");e.exports=r},3924:function(e,t,n){var r=n(8136)(n(7009),"Set");e.exports=r},692:function(e,t,n){var r=n(8059),i=n(5774),a=n(1596);function o(e){var t=-1,n=null==e?0:e.length;for(this.__data__=new r;++t<n;)this.add(e[t])}o.prototype.add=o.prototype.push=i,o.prototype.has=a,e.exports=o},2854:function(e,t,n){var r=n(8384),i=n(511),a=n(835),o=n(707),u=n(8832),s=n(5077);function c(e){var t=this.__data__=new r(e);this.size=t.size}c.prototype.clear=i,c.prototype.delete=a,c.prototype.get=o,c.prototype.has=u,c.prototype.set=s,e.exports=c},7197:function(e,t,n){var r=n(7009).Symbol;e.exports=r},6219:function(e,t,n){var r=n(7009).Uint8Array;e.exports=r},7091:function(e,t,n){var r=n(8136)(n(7009),"WeakMap");e.exports=r},4903:function(e){e.exports=function(e,t){for(var n=-1,r=null==e?0:e.length,i=0,a=[];++n<r;){var o=e[n];t(o,n,e)&&(a[i++]=o)}return a}},7538:function(e,t,n){var r=n(6478),i=n(4963),a=n(3629),o=n(5174),u=n(6800),s=n(9102),c=Object.prototype.hasOwnProperty;e.exports=function(e,t){var n=a(e),l=!n&&i(e),f=!n&&!l&&o(e),h=!n&&!l&&!f&&s(e),d=n||l||f||h,p=d?r(e.length,String):[],v=p.length;for(var y in e)!t&&!c.call(e,y)||d&&("length"==y||f&&("offset"==y||"parent"==y)||h&&("buffer"==y||"byteLength"==y||"byteOffset"==y)||u(y,v))||p.push(y);return p}},8950:function(e){e.exports=function(e,t){for(var n=-1,r=null==e?0:e.length,i=Array(r);++n<r;)i[n]=t(e[n],n,e);return i}},1705:function(e){e.exports=function(e,t){for(var n=-1,r=t.length,i=e.length;++n<r;)e[i+n]=t[n];return e}},2095:function(e){e.exports=function(e,t,n,r){var i=-1,a=null==e?0:e.length;for(r&&a&&(n=e[++i]);++i<a;)n=t(n,e[i],i,e);return n}},7897:function(e){e.exports=function(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(t(e[n],n,e))return!0;return!1}},4622:function(e){e.exports=function(e){return e.split("")}},240:function(e){var t=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g;e.exports=function(e){return e.match(t)||[]}},7112:function(e,t,n){var r=n(9231);e.exports=function(e,t){for(var n=e.length;n--;)if(r(e[n][0],t))return n;return-1}},2526:function(e,t,n){var r=n(8528);e.exports=function(e,t,n){"__proto__"==t&&r?r(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}},5099:function(e,t,n){var r=n(372)();e.exports=r},5358:function(e,t,n){var r=n(5099),i=n(2742);e.exports=function(e,t){return e&&r(e,t,i)}},8667:function(e,t,n){var r=n(3082),i=n(9793);e.exports=function(e,t){for(var n=0,a=(t=r(t,e)).length;null!=e&&n<a;)e=e[i(t[n++])];return n&&n==a?e:void 0}},1986:function(e,t,n){var r=n(1705),i=n(3629);e.exports=function(e,t,n){var a=t(e);return i(e)?a:r(a,n(e))}},9066:function(e,t,n){var r=n(7197),i=n(1587),a=n(3581),o=r?r.toStringTag:void 0;e.exports=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":o&&o in Object(e)?i(e):a(e)}},7852:function(e){var t=Object.prototype.hasOwnProperty;e.exports=function(e,n){return null!=e&&t.call(e,n)}},529:function(e){e.exports=function(e,t){return null!=e&&t in Object(e)}},4906:function(e,t,n){var r=n(9066),i=n(3141);e.exports=function(e){return i(e)&&"[object Arguments]"==r(e)}},1848:function(e,t,n){var r=n(3355),i=n(3141);e.exports=function e(t,n,a,o,u){return t===n||(null==t||null==n||!i(t)&&!i(n)?t!==t&&n!==n:r(t,n,a,o,e,u))}},3355:function(e,t,n){var r=n(2854),i=n(5305),a=n(2206),o=n(8078),u=n(8383),s=n(3629),c=n(5174),l=n(9102),f="[object Arguments]",h="[object Array]",d="[object Object]",p=Object.prototype.hasOwnProperty;e.exports=function(e,t,n,v,y,m){var g=s(e),k=s(t),b=g?h:u(e),w=k?h:u(t),_=(b=b==f?d:b)==d,x=(w=w==f?d:w)==d,E=b==w;if(E&&c(e)){if(!c(t))return!1;g=!0,_=!1}if(E&&!_)return m||(m=new r),g||l(e)?i(e,t,n,v,y,m):a(e,t,b,n,v,y,m);if(!(1&n)){var S=_&&p.call(e,"__wrapped__"),I=x&&p.call(t,"__wrapped__");if(S||I){var T=S?e.value():e,C=I?t.value():t;return m||(m=new r),y(T,C,n,v,m)}}return!!E&&(m||(m=new r),o(e,t,n,v,y,m))}},8856:function(e,t,n){var r=n(2854),i=n(1848);e.exports=function(e,t,n,a){var o=n.length,u=o,s=!a;if(null==e)return!u;for(e=Object(e);o--;){var c=n[o];if(s&&c[2]?c[1]!==e[c[0]]:!(c[0]in e))return!1}for(;++o<u;){var l=(c=n[o])[0],f=e[l],h=c[1];if(s&&c[2]){if(void 0===f&&!(l in e))return!1}else{var d=new r;if(a)var p=a(f,h,l,e,t,d);if(!(void 0===p?i(h,f,3,a,d):p))return!1}}return!0}},6703:function(e,t,n){var r=n(4786),i=n(257),a=n(8092),o=n(7907),u=/^\[object .+?Constructor\]$/,s=Function.prototype,c=Object.prototype,l=s.toString,f=c.hasOwnProperty,h=RegExp("^"+l.call(f).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");e.exports=function(e){return!(!a(e)||i(e))&&(r(e)?h:u).test(o(e))}},8150:function(e,t,n){var r=n(9066),i=n(4635),a=n(3141),o={};o["[object Float32Array]"]=o["[object Float64Array]"]=o["[object Int8Array]"]=o["[object Int16Array]"]=o["[object Int32Array]"]=o["[object Uint8Array]"]=o["[object Uint8ClampedArray]"]=o["[object Uint16Array]"]=o["[object Uint32Array]"]=!0,o["[object Arguments]"]=o["[object Array]"]=o["[object ArrayBuffer]"]=o["[object Boolean]"]=o["[object DataView]"]=o["[object Date]"]=o["[object Error]"]=o["[object Function]"]=o["[object Map]"]=o["[object Number]"]=o["[object Object]"]=o["[object RegExp]"]=o["[object Set]"]=o["[object String]"]=o["[object WeakMap]"]=!1,e.exports=function(e){return a(e)&&i(e.length)&&!!o[r(e)]}},6025:function(e,t,n){var r=n(7080),i=n(4322),a=n(2100),o=n(3629),u=n(38);e.exports=function(e){return"function"==typeof e?e:null==e?a:"object"==typeof e?o(e)?i(e[0],e[1]):r(e):u(e)}},3654:function(e,t,n){var r=n(2936),i=n(8836),a=Object.prototype.hasOwnProperty;e.exports=function(e){if(!r(e))return i(e);var t=[];for(var n in Object(e))a.call(e,n)&&"constructor"!=n&&t.push(n);return t}},7080:function(e,t,n){var r=n(8856),i=n(9091),a=n(284);e.exports=function(e){var t=i(e);return 1==t.length&&t[0][2]?a(t[0][0],t[0][1]):function(n){return n===e||r(n,e,t)}}},4322:function(e,t,n){var r=n(1848),i=n(6181),a=n(5658),o=n(5823),u=n(5072),s=n(284),c=n(9793);e.exports=function(e,t){return o(e)&&u(t)?s(c(e),t):function(n){var o=i(n,e);return void 0===o&&o===t?a(n,e):r(t,o,3)}}},9586:function(e){e.exports=function(e){return function(t){return null==t?void 0:t[e]}}},4084:function(e,t,n){var r=n(8667);e.exports=function(e){return function(t){return r(t,e)}}},4632:function(e){e.exports=function(e){return function(t){return null==e?void 0:e[t]}}},2646:function(e){e.exports=function(e,t,n){var r=-1,i=e.length;t<0&&(t=-t>i?0:i+t),(n=n>i?i:n)<0&&(n+=i),i=t>n?0:n-t>>>0,t>>>=0;for(var a=Array(i);++r<i;)a[r]=e[r+t];return a}},6478:function(e){e.exports=function(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}},2446:function(e,t,n){var r=n(7197),i=n(8950),a=n(3629),o=n(152),u=r?r.prototype:void 0,s=u?u.toString:void 0;e.exports=function e(t){if("string"==typeof t)return t;if(a(t))return i(t,e)+"";if(o(t))return s?s.call(t):"";var n=t+"";return"0"==n&&1/t==-Infinity?"-0":n}},6194:function(e){e.exports=function(e){return function(t){return e(t)}}},75:function(e){e.exports=function(e,t){return e.has(t)}},3082:function(e,t,n){var r=n(3629),i=n(5823),a=n(170),o=n(3518);e.exports=function(e,t){return r(e)?e:i(e,t)?[e]:a(o(e))}},9813:function(e,t,n){var r=n(2646);e.exports=function(e,t,n){var i=e.length;return n=void 0===n?i:n,!t&&n>=i?e:r(e,t,n)}},5525:function(e,t,n){var r=n(7009)["__core-js_shared__"];e.exports=r},372:function(e){e.exports=function(e){return function(t,n,r){for(var i=-1,a=Object(t),o=r(t),u=o.length;u--;){var s=o[e?u:++i];if(!1===n(a[s],s,a))break}return t}}},322:function(e,t,n){var r=n(9813),i=n(7302),a=n(7580),o=n(3518);e.exports=function(e){return function(t){t=o(t);var n=i(t)?a(t):void 0,u=n?n[0]:t.charAt(0),s=n?r(n,1).join(""):t.slice(1);return u[e]()+s}}},7810:function(e,t,n){var r=n(2095),i=n(4857),a=n(5660),o=RegExp("['\u2019]","g");e.exports=function(e){return function(t){return r(a(i(t).replace(o,"")),e,"")}}},5868:function(e,t,n){var r=n(4632)({"\xc0":"A","\xc1":"A","\xc2":"A","\xc3":"A","\xc4":"A","\xc5":"A","\xe0":"a","\xe1":"a","\xe2":"a","\xe3":"a","\xe4":"a","\xe5":"a","\xc7":"C","\xe7":"c","\xd0":"D","\xf0":"d","\xc8":"E","\xc9":"E","\xca":"E","\xcb":"E","\xe8":"e","\xe9":"e","\xea":"e","\xeb":"e","\xcc":"I","\xcd":"I","\xce":"I","\xcf":"I","\xec":"i","\xed":"i","\xee":"i","\xef":"i","\xd1":"N","\xf1":"n","\xd2":"O","\xd3":"O","\xd4":"O","\xd5":"O","\xd6":"O","\xd8":"O","\xf2":"o","\xf3":"o","\xf4":"o","\xf5":"o","\xf6":"o","\xf8":"o","\xd9":"U","\xda":"U","\xdb":"U","\xdc":"U","\xf9":"u","\xfa":"u","\xfb":"u","\xfc":"u","\xdd":"Y","\xfd":"y","\xff":"y","\xc6":"Ae","\xe6":"ae","\xde":"Th","\xfe":"th","\xdf":"ss","\u0100":"A","\u0102":"A","\u0104":"A","\u0101":"a","\u0103":"a","\u0105":"a","\u0106":"C","\u0108":"C","\u010a":"C","\u010c":"C","\u0107":"c","\u0109":"c","\u010b":"c","\u010d":"c","\u010e":"D","\u0110":"D","\u010f":"d","\u0111":"d","\u0112":"E","\u0114":"E","\u0116":"E","\u0118":"E","\u011a":"E","\u0113":"e","\u0115":"e","\u0117":"e","\u0119":"e","\u011b":"e","\u011c":"G","\u011e":"G","\u0120":"G","\u0122":"G","\u011d":"g","\u011f":"g","\u0121":"g","\u0123":"g","\u0124":"H","\u0126":"H","\u0125":"h","\u0127":"h","\u0128":"I","\u012a":"I","\u012c":"I","\u012e":"I","\u0130":"I","\u0129":"i","\u012b":"i","\u012d":"i","\u012f":"i","\u0131":"i","\u0134":"J","\u0135":"j","\u0136":"K","\u0137":"k","\u0138":"k","\u0139":"L","\u013b":"L","\u013d":"L","\u013f":"L","\u0141":"L","\u013a":"l","\u013c":"l","\u013e":"l","\u0140":"l","\u0142":"l","\u0143":"N","\u0145":"N","\u0147":"N","\u014a":"N","\u0144":"n","\u0146":"n","\u0148":"n","\u014b":"n","\u014c":"O","\u014e":"O","\u0150":"O","\u014d":"o","\u014f":"o","\u0151":"o","\u0154":"R","\u0156":"R","\u0158":"R","\u0155":"r","\u0157":"r","\u0159":"r","\u015a":"S","\u015c":"S","\u015e":"S","\u0160":"S","\u015b":"s","\u015d":"s","\u015f":"s","\u0161":"s","\u0162":"T","\u0164":"T","\u0166":"T","\u0163":"t","\u0165":"t","\u0167":"t","\u0168":"U","\u016a":"U","\u016c":"U","\u016e":"U","\u0170":"U","\u0172":"U","\u0169":"u","\u016b":"u","\u016d":"u","\u016f":"u","\u0171":"u","\u0173":"u","\u0174":"W","\u0175":"w","\u0176":"Y","\u0177":"y","\u0178":"Y","\u0179":"Z","\u017b":"Z","\u017d":"Z","\u017a":"z","\u017c":"z","\u017e":"z","\u0132":"IJ","\u0133":"ij","\u0152":"Oe","\u0153":"oe","\u0149":"'n","\u017f":"s"});e.exports=r},8528:function(e,t,n){var r=n(8136),i=function(){try{var e=r(Object,"defineProperty");return e({},"",{}),e}catch(t){}}();e.exports=i},5305:function(e,t,n){var r=n(692),i=n(7897),a=n(75);e.exports=function(e,t,n,o,u,s){var c=1&n,l=e.length,f=t.length;if(l!=f&&!(c&&f>l))return!1;var h=s.get(e),d=s.get(t);if(h&&d)return h==t&&d==e;var p=-1,v=!0,y=2&n?new r:void 0;for(s.set(e,t),s.set(t,e);++p<l;){var m=e[p],g=t[p];if(o)var k=c?o(g,m,p,t,e,s):o(m,g,p,e,t,s);if(void 0!==k){if(k)continue;v=!1;break}if(y){if(!i(t,(function(e,t){if(!a(y,t)&&(m===e||u(m,e,n,o,s)))return y.push(t)}))){v=!1;break}}else if(m!==g&&!u(m,g,n,o,s)){v=!1;break}}return s.delete(e),s.delete(t),v}},2206:function(e,t,n){var r=n(7197),i=n(6219),a=n(9231),o=n(5305),u=n(234),s=n(2230),c=r?r.prototype:void 0,l=c?c.valueOf:void 0;e.exports=function(e,t,n,r,c,f,h){switch(n){case"[object DataView]":if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case"[object ArrayBuffer]":return!(e.byteLength!=t.byteLength||!f(new i(e),new i(t)));case"[object Boolean]":case"[object Date]":case"[object Number]":return a(+e,+t);case"[object Error]":return e.name==t.name&&e.message==t.message;case"[object RegExp]":case"[object String]":return e==t+"";case"[object Map]":var d=u;case"[object Set]":var p=1&r;if(d||(d=s),e.size!=t.size&&!p)return!1;var v=h.get(e);if(v)return v==t;r|=2,h.set(e,t);var y=o(d(e),d(t),r,c,f,h);return h.delete(e),y;case"[object Symbol]":if(l)return l.call(e)==l.call(t)}return!1}},8078:function(e,t,n){var r=n(8248),i=Object.prototype.hasOwnProperty;e.exports=function(e,t,n,a,o,u){var s=1&n,c=r(e),l=c.length;if(l!=r(t).length&&!s)return!1;for(var f=l;f--;){var h=c[f];if(!(s?h in t:i.call(t,h)))return!1}var d=u.get(e),p=u.get(t);if(d&&p)return d==t&&p==e;var v=!0;u.set(e,t),u.set(t,e);for(var y=s;++f<l;){var m=e[h=c[f]],g=t[h];if(a)var k=s?a(g,m,h,t,e,u):a(m,g,h,e,t,u);if(!(void 0===k?m===g||o(m,g,n,a,u):k)){v=!1;break}y||(y="constructor"==h)}if(v&&!y){var b=e.constructor,w=t.constructor;b==w||!("constructor"in e)||!("constructor"in t)||"function"==typeof b&&b instanceof b&&"function"==typeof w&&w instanceof w||(v=!1)}return u.delete(e),u.delete(t),v}},1032:function(e,t,n){var r="object"==typeof n.g&&n.g&&n.g.Object===Object&&n.g;e.exports=r},8248:function(e,t,n){var r=n(1986),i=n(5918),a=n(2742);e.exports=function(e){return r(e,a,i)}},2799:function(e,t,n){var r=n(5964);e.exports=function(e,t){var n=e.__data__;return r(t)?n["string"==typeof t?"string":"hash"]:n.map}},9091:function(e,t,n){var r=n(5072),i=n(2742);e.exports=function(e){for(var t=i(e),n=t.length;n--;){var a=t[n],o=e[a];t[n]=[a,o,r(o)]}return t}},8136:function(e,t,n){var r=n(6703),i=n(40);e.exports=function(e,t){var n=i(e,t);return r(n)?n:void 0}},1587:function(e,t,n){var r=n(7197),i=Object.prototype,a=i.hasOwnProperty,o=i.toString,u=r?r.toStringTag:void 0;e.exports=function(e){var t=a.call(e,u),n=e[u];try{e[u]=void 0;var r=!0}catch(s){}var i=o.call(e);return r&&(t?e[u]=n:delete e[u]),i}},5918:function(e,t,n){var r=n(4903),i=n(8174),a=Object.prototype.propertyIsEnumerable,o=Object.getOwnPropertySymbols,u=o?function(e){return null==e?[]:(e=Object(e),r(o(e),(function(t){return a.call(e,t)})))}:i;e.exports=u},8383:function(e,t,n){var r=n(908),i=n(5797),a=n(8319),o=n(3924),u=n(7091),s=n(9066),c=n(7907),l="[object Map]",f="[object Promise]",h="[object Set]",d="[object WeakMap]",p="[object DataView]",v=c(r),y=c(i),m=c(a),g=c(o),k=c(u),b=s;(r&&b(new r(new ArrayBuffer(1)))!=p||i&&b(new i)!=l||a&&b(a.resolve())!=f||o&&b(new o)!=h||u&&b(new u)!=d)&&(b=function(e){var t=s(e),n="[object Object]"==t?e.constructor:void 0,r=n?c(n):"";if(r)switch(r){case v:return p;case y:return l;case m:return f;case g:return h;case k:return d}return t}),e.exports=b},40:function(e){e.exports=function(e,t){return null==e?void 0:e[t]}},6417:function(e,t,n){var r=n(3082),i=n(4963),a=n(3629),o=n(6800),u=n(4635),s=n(9793);e.exports=function(e,t,n){for(var c=-1,l=(t=r(t,e)).length,f=!1;++c<l;){var h=s(t[c]);if(!(f=null!=e&&n(e,h)))break;e=e[h]}return f||++c!=l?f:!!(l=null==e?0:e.length)&&u(l)&&o(h,l)&&(a(e)||i(e))}},7302:function(e){var t=RegExp("[\\u200d\\ud800-\\udfff\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff\\ufe0e\\ufe0f]");e.exports=function(e){return t.test(e)}},7137:function(e){var t=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/;e.exports=function(e){return t.test(e)}},5403:function(e,t,n){var r=n(9620);e.exports=function(){this.__data__=r?r(null):{},this.size=0}},2747:function(e){e.exports=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}},6037:function(e,t,n){var r=n(9620),i=Object.prototype.hasOwnProperty;e.exports=function(e){var t=this.__data__;if(r){var n=t[e];return"__lodash_hash_undefined__"===n?void 0:n}return i.call(t,e)?t[e]:void 0}},4154:function(e,t,n){var r=n(9620),i=Object.prototype.hasOwnProperty;e.exports=function(e){var t=this.__data__;return r?void 0!==t[e]:i.call(t,e)}},7728:function(e,t,n){var r=n(9620);e.exports=function(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=r&&void 0===t?"__lodash_hash_undefined__":t,this}},6800:function(e){var t=/^(?:0|[1-9]\d*)$/;e.exports=function(e,n){var r=typeof e;return!!(n=null==n?9007199254740991:n)&&("number"==r||"symbol"!=r&&t.test(e))&&e>-1&&e%1==0&&e<n}},5823:function(e,t,n){var r=n(3629),i=n(152),a=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,o=/^\w*$/;e.exports=function(e,t){if(r(e))return!1;var n=typeof e;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=e&&!i(e))||(o.test(e)||!a.test(e)||null!=t&&e in Object(t))}},5964:function(e){e.exports=function(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}},257:function(e,t,n){var r=n(5525),i=function(){var e=/[^.]+$/.exec(r&&r.keys&&r.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();e.exports=function(e){return!!i&&i in e}},2936:function(e){var t=Object.prototype;e.exports=function(e){var n=e&&e.constructor;return e===("function"==typeof n&&n.prototype||t)}},5072:function(e,t,n){var r=n(8092);e.exports=function(e){return e===e&&!r(e)}},3894:function(e){e.exports=function(){this.__data__=[],this.size=0}},8699:function(e,t,n){var r=n(7112),i=Array.prototype.splice;e.exports=function(e){var t=this.__data__,n=r(t,e);return!(n<0)&&(n==t.length-1?t.pop():i.call(t,n,1),--this.size,!0)}},4957:function(e,t,n){var r=n(7112);e.exports=function(e){var t=this.__data__,n=r(t,e);return n<0?void 0:t[n][1]}},7184:function(e,t,n){var r=n(7112);e.exports=function(e){return r(this.__data__,e)>-1}},7109:function(e,t,n){var r=n(7112);e.exports=function(e,t){var n=this.__data__,i=r(n,e);return i<0?(++this.size,n.push([e,t])):n[i][1]=t,this}},4086:function(e,t,n){var r=n(9676),i=n(8384),a=n(5797);e.exports=function(){this.size=0,this.__data__={hash:new r,map:new(a||i),string:new r}}},9255:function(e,t,n){var r=n(2799);e.exports=function(e){var t=r(this,e).delete(e);return this.size-=t?1:0,t}},9186:function(e,t,n){var r=n(2799);e.exports=function(e){return r(this,e).get(e)}},3423:function(e,t,n){var r=n(2799);e.exports=function(e){return r(this,e).has(e)}},3739:function(e,t,n){var r=n(2799);e.exports=function(e,t){var n=r(this,e),i=n.size;return n.set(e,t),this.size+=n.size==i?0:1,this}},234:function(e){e.exports=function(e){var t=-1,n=Array(e.size);return e.forEach((function(e,r){n[++t]=[r,e]})),n}},284:function(e){e.exports=function(e,t){return function(n){return null!=n&&(n[e]===t&&(void 0!==t||e in Object(n)))}}},4634:function(e,t,n){var r=n(9151);e.exports=function(e){var t=r(e,(function(e){return 500===n.size&&n.clear(),e})),n=t.cache;return t}},9620:function(e,t,n){var r=n(8136)(Object,"create");e.exports=r},8836:function(e,t,n){var r=n(2709)(Object.keys,Object);e.exports=r},9494:function(e,t,n){e=n.nmd(e);var r=n(1032),i=t&&!t.nodeType&&t,a=i&&e&&!e.nodeType&&e,o=a&&a.exports===i&&r.process,u=function(){try{var e=a&&a.require&&a.require("util").types;return e||o&&o.binding&&o.binding("util")}catch(t){}}();e.exports=u},3581:function(e){var t=Object.prototype.toString;e.exports=function(e){return t.call(e)}},2709:function(e){e.exports=function(e,t){return function(n){return e(t(n))}}},7009:function(e,t,n){var r=n(1032),i="object"==typeof self&&self&&self.Object===Object&&self,a=r||i||Function("return this")();e.exports=a},5774:function(e){e.exports=function(e){return this.__data__.set(e,"__lodash_hash_undefined__"),this}},1596:function(e){e.exports=function(e){return this.__data__.has(e)}},2230:function(e){e.exports=function(e){var t=-1,n=Array(e.size);return e.forEach((function(e){n[++t]=e})),n}},511:function(e,t,n){var r=n(8384);e.exports=function(){this.__data__=new r,this.size=0}},835:function(e){e.exports=function(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n}},707:function(e){e.exports=function(e){return this.__data__.get(e)}},8832:function(e){e.exports=function(e){return this.__data__.has(e)}},5077:function(e,t,n){var r=n(8384),i=n(5797),a=n(8059);e.exports=function(e,t){var n=this.__data__;if(n instanceof r){var o=n.__data__;if(!i||o.length<199)return o.push([e,t]),this.size=++n.size,this;n=this.__data__=new a(o)}return n.set(e,t),this.size=n.size,this}},7580:function(e,t,n){var r=n(4622),i=n(7302),a=n(2129);e.exports=function(e){return i(e)?a(e):r(e)}},170:function(e,t,n){var r=n(4634),i=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,a=/\\(\\)?/g,o=r((function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace(i,(function(e,n,r,i){t.push(r?i.replace(a,"$1"):n||e)})),t}));e.exports=o},9793:function(e,t,n){var r=n(152);e.exports=function(e){if("string"==typeof e||r(e))return e;var t=e+"";return"0"==t&&1/e==-Infinity?"-0":t}},7907:function(e){var t=Function.prototype.toString;e.exports=function(e){if(null!=e){try{return t.call(e)}catch(n){}try{return e+""}catch(n){}}return""}},2129:function(e){var t="[\\ud800-\\udfff]",n="[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]",r="\\ud83c[\\udffb-\\udfff]",i="[^\\ud800-\\udfff]",a="(?:\\ud83c[\\udde6-\\uddff]){2}",o="[\\ud800-\\udbff][\\udc00-\\udfff]",u="(?:"+n+"|"+r+")"+"?",s="[\\ufe0e\\ufe0f]?",c=s+u+("(?:\\u200d(?:"+[i,a,o].join("|")+")"+s+u+")*"),l="(?:"+[i+n+"?",n,a,o,t].join("|")+")",f=RegExp(r+"(?="+r+")|"+l+c,"g");e.exports=function(e){return e.match(f)||[]}},1029:function(e){var t="\\u2700-\\u27bf",n="a-z\\xdf-\\xf6\\xf8-\\xff",r="A-Z\\xc0-\\xd6\\xd8-\\xde",i="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",a="["+i+"]",o="\\d+",u="[\\u2700-\\u27bf]",s="["+n+"]",c="[^\\ud800-\\udfff"+i+o+t+n+r+"]",l="(?:\\ud83c[\\udde6-\\uddff]){2}",f="[\\ud800-\\udbff][\\udc00-\\udfff]",h="["+r+"]",d="(?:"+s+"|"+c+")",p="(?:"+h+"|"+c+")",v="(?:['\u2019](?:d|ll|m|re|s|t|ve))?",y="(?:['\u2019](?:D|LL|M|RE|S|T|VE))?",m="(?:[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]|\\ud83c[\\udffb-\\udfff])?",g="[\\ufe0e\\ufe0f]?",k=g+m+("(?:\\u200d(?:"+["[^\\ud800-\\udfff]",l,f].join("|")+")"+g+m+")*"),b="(?:"+[u,l,f].join("|")+")"+k,w=RegExp([h+"?"+s+"+"+v+"(?="+[a,h,"$"].join("|")+")",p+"+"+y+"(?="+[a,h+d,"$"].join("|")+")",h+"?"+d+"+"+v,h+"+"+y,"\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])","\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",o,b].join("|"),"g");e.exports=function(e){return e.match(w)||[]}},567:function(e,t,n){var r=n(3131),i=n(7810)((function(e,t,n){return t=t.toLowerCase(),e+(n?r(t):t)}));e.exports=i},3131:function(e,t,n){var r=n(3518),i=n(2085);e.exports=function(e){return i(r(e).toLowerCase())}},4857:function(e,t,n){var r=n(5868),i=n(3518),a=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,o=RegExp("[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]","g");e.exports=function(e){return(e=i(e))&&e.replace(a,r).replace(o,"")}},9231:function(e){e.exports=function(e,t){return e===t||e!==e&&t!==t}},6181:function(e,t,n){var r=n(8667);e.exports=function(e,t,n){var i=null==e?void 0:r(e,t);return void 0===i?n:i}},7805:function(e,t,n){var r=n(7852),i=n(6417);e.exports=function(e,t){return null!=e&&i(e,t,r)}},5658:function(e,t,n){var r=n(529),i=n(6417);e.exports=function(e,t){return null!=e&&i(e,t,r)}},2100:function(e){e.exports=function(e){return e}},4963:function(e,t,n){var r=n(4906),i=n(3141),a=Object.prototype,o=a.hasOwnProperty,u=a.propertyIsEnumerable,s=r(function(){return arguments}())?r:function(e){return i(e)&&o.call(e,"callee")&&!u.call(e,"callee")};e.exports=s},3629:function(e){var t=Array.isArray;e.exports=t},1473:function(e,t,n){var r=n(4786),i=n(4635);e.exports=function(e){return null!=e&&i(e.length)&&!r(e)}},5174:function(e,t,n){e=n.nmd(e);var r=n(7009),i=n(9488),a=t&&!t.nodeType&&t,o=a&&e&&!e.nodeType&&e,u=o&&o.exports===a?r.Buffer:void 0,s=(u?u.isBuffer:void 0)||i;e.exports=s},4786:function(e,t,n){var r=n(9066),i=n(8092);e.exports=function(e){if(!i(e))return!1;var t=r(e);return"[object Function]"==t||"[object GeneratorFunction]"==t||"[object AsyncFunction]"==t||"[object Proxy]"==t}},4635:function(e){e.exports=function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=9007199254740991}},8092:function(e){e.exports=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}},3141:function(e){e.exports=function(e){return null!=e&&"object"==typeof e}},152:function(e,t,n){var r=n(9066),i=n(3141);e.exports=function(e){return"symbol"==typeof e||i(e)&&"[object Symbol]"==r(e)}},9102:function(e,t,n){var r=n(8150),i=n(6194),a=n(9494),o=a&&a.isTypedArray,u=o?i(o):r;e.exports=u},2742:function(e,t,n){var r=n(7538),i=n(3654),a=n(1473);e.exports=function(e){return a(e)?r(e):i(e)}},9029:function(e,t,n){var r=n(2526),i=n(5358),a=n(6025);e.exports=function(e,t){var n={};return t=a(t,3),i(e,(function(e,i,a){r(n,t(e,i,a),e)})),n}},7702:function(e,t,n){var r=n(2526),i=n(5358),a=n(6025);e.exports=function(e,t){var n={};return t=a(t,3),i(e,(function(e,i,a){r(n,i,t(e,i,a))})),n}},9151:function(e,t,n){var r=n(8059);function i(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new TypeError("Expected a function");var n=function n(){var r=arguments,i=t?t.apply(this,r):r[0],a=n.cache;if(a.has(i))return a.get(i);var o=e.apply(this,r);return n.cache=a.set(i,o)||a,o};return n.cache=new(i.Cache||r),n}i.Cache=r,e.exports=i},38:function(e,t,n){var r=n(9586),i=n(4084),a=n(5823),o=n(9793);e.exports=function(e){return a(e)?r(o(e)):i(e)}},7499:function(e,t,n){var r=n(7810)((function(e,t,n){return e+(n?"_":"")+t.toLowerCase()}));e.exports=r},8174:function(e){e.exports=function(){return[]}},9488:function(e){e.exports=function(){return!1}},3518:function(e,t,n){var r=n(2446);e.exports=function(e){return null==e?"":r(e)}},2085:function(e,t,n){var r=n(322)("toUpperCase");e.exports=r},5660:function(e,t,n){var r=n(240),i=n(7137),a=n(3518),o=n(1029);e.exports=function(e,t,n){return e=a(e),void 0===(t=n?void 0:t)?i(e)?o(e):r(e):e.match(t)||[]}},2758:function(e){"use strict";function t(e){this._maxSize=e,this.clear()}t.prototype.clear=function(){this._size=0,this._values=Object.create(null)},t.prototype.get=function(e){return this._values[e]},t.prototype.set=function(e,t){return this._size>=this._maxSize&&this.clear(),e in this._values||this._size++,this._values[e]=t};var n=/[^.^\]^[]+|(?=\[\]|\.\.)/g,r=/^\d+$/,i=/^\d/,a=/[~`!#$%\^&*+=\-\[\]\\';,/{}|\\":<>\?]/g,o=/^\s*(['"]?)(.*?)(\1)\s*$/,u=new t(512),s=new t(512),c=new t(512);function l(e){return u.get(e)||u.set(e,f(e).map((function(e){return e.replace(o,"$2")})))}function f(e){return e.match(n)||[""]}function h(e){return"string"===typeof e&&e&&-1!==["'",'"'].indexOf(e.charAt(0))}function d(e){return!h(e)&&(function(e){return e.match(i)&&!e.match(r)}(e)||function(e){return a.test(e)}(e))}e.exports={Cache:t,split:f,normalizePath:l,setter:function(e){var t=l(e);return s.get(e)||s.set(e,(function(e,n){for(var r=0,i=t.length,a=e;r<i-1;){var o=t[r];if("__proto__"===o||"constructor"===o||"prototype"===o)return e;a=a[t[r++]]}a[t[r]]=n}))},getter:function(e,t){var n=l(e);return c.get(e)||c.set(e,(function(e){for(var r=0,i=n.length;r<i;){if(null==e&&t)return;e=e[n[r++]]}return e}))},join:function(e){return e.reduce((function(e,t){return e+(h(t)||r.test(t)?"["+t+"]":(e?".":"")+t)}),"")},forEach:function(e,t,n){!function(e,t,n){var r,i,a,o,u=e.length;for(i=0;i<u;i++)(r=e[i])&&(d(r)&&(r='"'+r+'"'),a=!(o=h(r))&&/^\d+$/.test(r),t.call(n,r,o,a,i,e))}(Array.isArray(e)?e:f(e),t,n)}}},4463:function(e,t,n){"use strict";var r=n(2791),i=n(5296);function a(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var o=new Set,u={};function s(e,t){c(e,t),c(e+"Capture",t)}function c(e,t){for(u[e]=t,e=0;e<t.length;e++)o.add(t[e])}var l=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),f=Object.prototype.hasOwnProperty,h=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,d={},p={};function v(e,t,n,r,i,a,o){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=a,this.removeEmptyString=o}var y={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){y[e]=new v(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];y[t]=new v(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){y[e]=new v(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){y[e]=new v(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){y[e]=new v(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){y[e]=new v(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){y[e]=new v(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){y[e]=new v(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){y[e]=new v(e,5,!1,e.toLowerCase(),null,!1,!1)}));var m=/[\-:]([a-z])/g;function g(e){return e[1].toUpperCase()}function k(e,t,n,r){var i=y.hasOwnProperty(t)?y[t]:null;(null!==i?0!==i.type:r||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,n,r){if(null===t||"undefined"===typeof t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,i,r)&&(n=null),r||null===i?function(e){return!!f.call(p,e)||!f.call(d,e)&&(h.test(e)?p[e]=!0:(d[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=null===n?3!==i.type&&"":n:(t=i.attributeName,r=i.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(m,g);y[t]=new v(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(m,g);y[t]=new v(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(m,g);y[t]=new v(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){y[e]=new v(e,1,!1,e.toLowerCase(),null,!1,!1)})),y.xlinkHref=new v("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){y[e]=new v(e,1,!1,e.toLowerCase(),null,!0,!0)}));var b=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,w=Symbol.for("react.element"),_=Symbol.for("react.portal"),x=Symbol.for("react.fragment"),E=Symbol.for("react.strict_mode"),S=Symbol.for("react.profiler"),I=Symbol.for("react.provider"),T=Symbol.for("react.context"),C=Symbol.for("react.forward_ref"),N=Symbol.for("react.suspense"),A=Symbol.for("react.suspense_list"),O=Symbol.for("react.memo"),P=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var R=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var D=Symbol.iterator;function F(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=D&&e[D]||e["@@iterator"])?e:null}var L,j=Object.assign;function M(e){if(void 0===L)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);L=t&&t[1]||""}return"\n"+L+e}var U=!1;function V(e,t){if(!e||U)return"";U=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var r=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){r=c}e.call(t.prototype)}else{try{throw Error()}catch(c){r=c}e()}}catch(c){if(c&&r&&"string"===typeof c.stack){for(var i=c.stack.split("\n"),a=r.stack.split("\n"),o=i.length-1,u=a.length-1;1<=o&&0<=u&&i[o]!==a[u];)u--;for(;1<=o&&0<=u;o--,u--)if(i[o]!==a[u]){if(1!==o||1!==u)do{if(o--,0>--u||i[o]!==a[u]){var s="\n"+i[o].replace(" at new "," at ");return e.displayName&&s.includes("<anonymous>")&&(s=s.replace("<anonymous>",e.displayName)),s}}while(1<=o&&0<=u);break}}}finally{U=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?M(e):""}function q(e){switch(e.tag){case 5:return M(e.type);case 16:return M("Lazy");case 13:return M("Suspense");case 19:return M("SuspenseList");case 0:case 2:case 15:return e=V(e.type,!1);case 11:return e=V(e.type.render,!1);case 1:return e=V(e.type,!0);default:return""}}function B(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case x:return"Fragment";case _:return"Portal";case S:return"Profiler";case E:return"StrictMode";case N:return"Suspense";case A:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case T:return(e.displayName||"Context")+".Consumer";case I:return(e._context.displayName||"Context")+".Provider";case C:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case O:return null!==(t=e.displayName||null)?t:B(e.type)||"Memo";case P:t=e._payload,e=e._init;try{return B(e(t))}catch(n){}}return null}function z(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return B(t);case 8:return t===E?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t}return null}function W(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function K(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function G(e){e._valueTracker||(e._valueTracker=function(e){var t=K(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var i=n.get,a=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,a.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function H(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=K(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function Q(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function Y(e,t){var n=t.checked;return j({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function $(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=W(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function J(e,t){null!=(t=t.checked)&&k(e,"checked",t,!1)}function X(e,t){J(e,t);var n=W(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?ee(e,t.type,n):t.hasOwnProperty("defaultValue")&&ee(e,t.type,W(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function Z(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ee(e,t,n){"number"===t&&Q(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var te=Array.isArray;function ne(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+W(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function re(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(a(91));return j({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ie(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(a(92));if(te(n)){if(1<n.length)throw Error(a(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:W(n)}}function ae(e,t){var n=W(t.value),r=W(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function oe(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function ue(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function se(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?ue(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var ce,le,fe=(le=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((ce=ce||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ce.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction((function(){return le(e,t)}))}:le);function he(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var de={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},pe=["Webkit","ms","Moz","O"];function ve(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||de.hasOwnProperty(e)&&de[e]?(""+t).trim():t+"px"}function ye(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=ve(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}Object.keys(de).forEach((function(e){pe.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),de[t]=de[e]}))}));var me=j({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ge(e,t){if(t){if(me[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(a(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(a(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(a(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(a(62))}}function ke(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var be=null;function we(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var _e=null,xe=null,Ee=null;function Se(e){if(e=ki(e)){if("function"!==typeof _e)throw Error(a(280));var t=e.stateNode;t&&(t=wi(t),_e(e.stateNode,e.type,t))}}function Ie(e){xe?Ee?Ee.push(e):Ee=[e]:xe=e}function Te(){if(xe){var e=xe,t=Ee;if(Ee=xe=null,Se(e),t)for(e=0;e<t.length;e++)Se(t[e])}}function Ce(e,t){return e(t)}function Ne(){}var Ae=!1;function Oe(e,t,n){if(Ae)return e(t,n);Ae=!0;try{return Ce(e,t,n)}finally{Ae=!1,(null!==xe||null!==Ee)&&(Ne(),Te())}}function Pe(e,t){var n=e.stateNode;if(null===n)return null;var r=wi(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(a(231,t,typeof n));return n}var Re=!1;if(l)try{var De={};Object.defineProperty(De,"passive",{get:function(){Re=!0}}),window.addEventListener("test",De,De),window.removeEventListener("test",De,De)}catch(le){Re=!1}function Fe(e,t,n,r,i,a,o,u,s){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(l){this.onError(l)}}var Le=!1,je=null,Me=!1,Ue=null,Ve={onError:function(e){Le=!0,je=e}};function qe(e,t,n,r,i,a,o,u,s){Le=!1,je=null,Fe.apply(Ve,arguments)}function Be(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function ze(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function We(e){if(Be(e)!==e)throw Error(a(188))}function Ke(e){return null!==(e=function(e){var t=e.alternate;if(!t){if(null===(t=Be(e)))throw Error(a(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var o=i.alternate;if(null===o){if(null!==(r=i.return)){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return We(i),e;if(o===r)return We(i),t;o=o.sibling}throw Error(a(188))}if(n.return!==r.return)n=i,r=o;else{for(var u=!1,s=i.child;s;){if(s===n){u=!0,n=i,r=o;break}if(s===r){u=!0,r=i,n=o;break}s=s.sibling}if(!u){for(s=o.child;s;){if(s===n){u=!0,n=o,r=i;break}if(s===r){u=!0,r=o,n=i;break}s=s.sibling}if(!u)throw Error(a(189))}}if(n.alternate!==r)throw Error(a(190))}if(3!==n.tag)throw Error(a(188));return n.stateNode.current===n?e:t}(e))?Ge(e):null}function Ge(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=Ge(e);if(null!==t)return t;e=e.sibling}return null}var He=i.unstable_scheduleCallback,Qe=i.unstable_cancelCallback,Ye=i.unstable_shouldYield,$e=i.unstable_requestPaint,Je=i.unstable_now,Xe=i.unstable_getCurrentPriorityLevel,Ze=i.unstable_ImmediatePriority,et=i.unstable_UserBlockingPriority,tt=i.unstable_NormalPriority,nt=i.unstable_LowPriority,rt=i.unstable_IdlePriority,it=null,at=null;var ot=Math.clz32?Math.clz32:function(e){return 0===(e>>>=0)?32:31-(ut(e)/st|0)|0},ut=Math.log,st=Math.LN2;var ct=64,lt=4194304;function ft(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function ht(e,t){var n=e.pendingLanes;if(0===n)return 0;var r=0,i=e.suspendedLanes,a=e.pingedLanes,o=268435455&n;if(0!==o){var u=o&~i;0!==u?r=ft(u):0!==(a&=o)&&(r=ft(a))}else 0!==(o=n&~i)?r=ft(o):0!==a&&(r=ft(a));if(0===r)return 0;if(0!==t&&t!==r&&0===(t&i)&&((i=r&-r)>=(a=t&-t)||16===i&&0!==(4194240&a)))return t;if(0!==(4&r)&&(r|=16&n),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)i=1<<(n=31-ot(t)),r|=e[n],t&=~i;return r}function dt(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function pt(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function vt(){var e=ct;return 0===(4194240&(ct<<=1))&&(ct=64),e}function yt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function mt(e,t,n){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-ot(t)]=n}function gt(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-ot(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var kt=0;function bt(e){return 1<(e&=-e)?4<e?0!==(268435455&e)?16:536870912:4:1}var wt,_t,xt,Et,St,It=!1,Tt=[],Ct=null,Nt=null,At=null,Ot=new Map,Pt=new Map,Rt=[],Dt="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Ft(e,t){switch(e){case"focusin":case"focusout":Ct=null;break;case"dragenter":case"dragleave":Nt=null;break;case"mouseover":case"mouseout":At=null;break;case"pointerover":case"pointerout":Ot.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Pt.delete(t.pointerId)}}function Lt(e,t,n,r,i,a){return null===e||e.nativeEvent!==a?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:a,targetContainers:[i]},null!==t&&(null!==(t=ki(t))&&_t(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i),e)}function jt(e){var t=gi(e.target);if(null!==t){var n=Be(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=ze(n)))return e.blockedOn=t,void St(e.priority,(function(){xt(n)}))}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function Mt(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Yt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=ki(n))&&_t(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);be=r,n.target.dispatchEvent(r),be=null,t.shift()}return!0}function Ut(e,t,n){Mt(e)&&n.delete(t)}function Vt(){It=!1,null!==Ct&&Mt(Ct)&&(Ct=null),null!==Nt&&Mt(Nt)&&(Nt=null),null!==At&&Mt(At)&&(At=null),Ot.forEach(Ut),Pt.forEach(Ut)}function qt(e,t){e.blockedOn===t&&(e.blockedOn=null,It||(It=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,Vt)))}function Bt(e){function t(t){return qt(t,e)}if(0<Tt.length){qt(Tt[0],e);for(var n=1;n<Tt.length;n++){var r=Tt[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==Ct&&qt(Ct,e),null!==Nt&&qt(Nt,e),null!==At&&qt(At,e),Ot.forEach(t),Pt.forEach(t),n=0;n<Rt.length;n++)(r=Rt[n]).blockedOn===e&&(r.blockedOn=null);for(;0<Rt.length&&null===(n=Rt[0]).blockedOn;)jt(n),null===n.blockedOn&&Rt.shift()}var zt=b.ReactCurrentBatchConfig,Wt=!0;function Kt(e,t,n,r){var i=kt,a=zt.transition;zt.transition=null;try{kt=1,Ht(e,t,n,r)}finally{kt=i,zt.transition=a}}function Gt(e,t,n,r){var i=kt,a=zt.transition;zt.transition=null;try{kt=4,Ht(e,t,n,r)}finally{kt=i,zt.transition=a}}function Ht(e,t,n,r){if(Wt){var i=Yt(e,t,n,r);if(null===i)Wr(e,t,r,Qt,n),Ft(e,r);else if(function(e,t,n,r,i){switch(t){case"focusin":return Ct=Lt(Ct,e,t,n,r,i),!0;case"dragenter":return Nt=Lt(Nt,e,t,n,r,i),!0;case"mouseover":return At=Lt(At,e,t,n,r,i),!0;case"pointerover":var a=i.pointerId;return Ot.set(a,Lt(Ot.get(a)||null,e,t,n,r,i)),!0;case"gotpointercapture":return a=i.pointerId,Pt.set(a,Lt(Pt.get(a)||null,e,t,n,r,i)),!0}return!1}(i,e,t,n,r))r.stopPropagation();else if(Ft(e,r),4&t&&-1<Dt.indexOf(e)){for(;null!==i;){var a=ki(i);if(null!==a&&wt(a),null===(a=Yt(e,t,n,r))&&Wr(e,t,r,Qt,n),a===i)break;i=a}null!==i&&r.stopPropagation()}else Wr(e,t,r,null,n)}}var Qt=null;function Yt(e,t,n,r){if(Qt=null,null!==(e=gi(e=we(r))))if(null===(t=Be(e)))e=null;else if(13===(n=t.tag)){if(null!==(e=ze(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Qt=e,null}function $t(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Xe()){case Ze:return 1;case et:return 4;case tt:case nt:return 16;case rt:return 536870912;default:return 16}default:return 16}}var Jt=null,Xt=null,Zt=null;function en(){if(Zt)return Zt;var e,t,n=Xt,r=n.length,i="value"in Jt?Jt.value:Jt.textContent,a=i.length;for(e=0;e<r&&n[e]===i[e];e++);var o=r-e;for(t=1;t<=o&&n[r-t]===i[a-t];t++);return Zt=i.slice(e,1<t?1-t:void 0)}function tn(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function nn(){return!0}function rn(){return!1}function an(e){function t(t,n,r,i,a){for(var o in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=a,this.currentTarget=null,e)e.hasOwnProperty(o)&&(t=e[o],this[o]=t?t(i):i[o]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?nn:rn,this.isPropagationStopped=rn,this}return j(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=nn)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=nn)},persist:function(){},isPersistent:nn}),t}var on,un,sn,cn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ln=an(cn),fn=j({},cn,{view:0,detail:0}),hn=an(fn),dn=j({},fn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Sn,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==sn&&(sn&&"mousemove"===e.type?(on=e.screenX-sn.screenX,un=e.screenY-sn.screenY):un=on=0,sn=e),on)},movementY:function(e){return"movementY"in e?e.movementY:un}}),pn=an(dn),vn=an(j({},dn,{dataTransfer:0})),yn=an(j({},fn,{relatedTarget:0})),mn=an(j({},cn,{animationName:0,elapsedTime:0,pseudoElement:0})),gn=j({},cn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),kn=an(gn),bn=an(j({},cn,{data:0})),wn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},_n={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},xn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function En(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=xn[e])&&!!t[e]}function Sn(){return En}var In=j({},fn,{key:function(e){if(e.key){var t=wn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=tn(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?_n[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Sn,charCode:function(e){return"keypress"===e.type?tn(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?tn(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),Tn=an(In),Cn=an(j({},dn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),Nn=an(j({},fn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Sn})),An=an(j({},cn,{propertyName:0,elapsedTime:0,pseudoElement:0})),On=j({},dn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Pn=an(On),Rn=[9,13,27,32],Dn=l&&"CompositionEvent"in window,Fn=null;l&&"documentMode"in document&&(Fn=document.documentMode);var Ln=l&&"TextEvent"in window&&!Fn,jn=l&&(!Dn||Fn&&8<Fn&&11>=Fn),Mn=String.fromCharCode(32),Un=!1;function Vn(e,t){switch(e){case"keyup":return-1!==Rn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function qn(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var Bn=!1;var zn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Wn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!zn[e.type]:"textarea"===t}function Kn(e,t,n,r){Ie(r),0<(t=Gr(t,"onChange")).length&&(n=new ln("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Gn=null,Hn=null;function Qn(e){Mr(e,0)}function Yn(e){if(H(bi(e)))return e}function $n(e,t){if("change"===e)return t}var Jn=!1;if(l){var Xn;if(l){var Zn="oninput"in document;if(!Zn){var er=document.createElement("div");er.setAttribute("oninput","return;"),Zn="function"===typeof er.oninput}Xn=Zn}else Xn=!1;Jn=Xn&&(!document.documentMode||9<document.documentMode)}function tr(){Gn&&(Gn.detachEvent("onpropertychange",nr),Hn=Gn=null)}function nr(e){if("value"===e.propertyName&&Yn(Hn)){var t=[];Kn(t,Hn,e,we(e)),Oe(Qn,t)}}function rr(e,t,n){"focusin"===e?(tr(),Hn=n,(Gn=t).attachEvent("onpropertychange",nr)):"focusout"===e&&tr()}function ir(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Yn(Hn)}function ar(e,t){if("click"===e)return Yn(t)}function or(e,t){if("input"===e||"change"===e)return Yn(t)}var ur="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function sr(e,t){if(ur(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!f.call(t,i)||!ur(e[i],t[i]))return!1}return!0}function cr(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function lr(e,t){var n,r=cr(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=cr(r)}}function fr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?fr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function hr(){for(var e=window,t=Q();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=Q((e=t.contentWindow).document)}return t}function dr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function pr(e){var t=hr(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&fr(n.ownerDocument.documentElement,n)){if(null!==r&&dr(n))if(t=r.start,void 0===(e=r.end)&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if((e=(t=n.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var i=n.textContent.length,a=Math.min(r.start,i);r=void 0===r.end?a:Math.min(r.end,i),!e.extend&&a>r&&(i=r,r=a,a=i),i=lr(n,a);var o=lr(n,r);i&&o&&(1!==e.rangeCount||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&((t=t.createRange()).setStart(i.node,i.offset),e.removeAllRanges(),a>r?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}for(t=[],e=n;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"===typeof n.focus&&n.focus(),n=0;n<t.length;n++)(e=t[n]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var vr=l&&"documentMode"in document&&11>=document.documentMode,yr=null,mr=null,gr=null,kr=!1;function br(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;kr||null==yr||yr!==Q(r)||("selectionStart"in(r=yr)&&dr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},gr&&sr(gr,r)||(gr=r,0<(r=Gr(mr,"onSelect")).length&&(t=new ln("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=yr)))}function wr(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var _r={animationend:wr("Animation","AnimationEnd"),animationiteration:wr("Animation","AnimationIteration"),animationstart:wr("Animation","AnimationStart"),transitionend:wr("Transition","TransitionEnd")},xr={},Er={};function Sr(e){if(xr[e])return xr[e];if(!_r[e])return e;var t,n=_r[e];for(t in n)if(n.hasOwnProperty(t)&&t in Er)return xr[e]=n[t];return e}l&&(Er=document.createElement("div").style,"AnimationEvent"in window||(delete _r.animationend.animation,delete _r.animationiteration.animation,delete _r.animationstart.animation),"TransitionEvent"in window||delete _r.transitionend.transition);var Ir=Sr("animationend"),Tr=Sr("animationiteration"),Cr=Sr("animationstart"),Nr=Sr("transitionend"),Ar=new Map,Or="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Pr(e,t){Ar.set(e,t),s(t,[e])}for(var Rr=0;Rr<Or.length;Rr++){var Dr=Or[Rr];Pr(Dr.toLowerCase(),"on"+(Dr[0].toUpperCase()+Dr.slice(1)))}Pr(Ir,"onAnimationEnd"),Pr(Tr,"onAnimationIteration"),Pr(Cr,"onAnimationStart"),Pr("dblclick","onDoubleClick"),Pr("focusin","onFocus"),Pr("focusout","onBlur"),Pr(Nr,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),s("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),s("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),s("onBeforeInput",["compositionend","keypress","textInput","paste"]),s("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),s("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),s("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Fr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Lr=new Set("cancel close invalid load scroll toggle".split(" ").concat(Fr));function jr(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,i,o,u,s,c){if(qe.apply(this,arguments),Le){if(!Le)throw Error(a(198));var l=je;Le=!1,je=null,Me||(Me=!0,Ue=l)}}(r,t,void 0,e),e.currentTarget=null}function Mr(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var a=void 0;if(t)for(var o=r.length-1;0<=o;o--){var u=r[o],s=u.instance,c=u.currentTarget;if(u=u.listener,s!==a&&i.isPropagationStopped())break e;jr(i,u,c),a=s}else for(o=0;o<r.length;o++){if(s=(u=r[o]).instance,c=u.currentTarget,u=u.listener,s!==a&&i.isPropagationStopped())break e;jr(i,u,c),a=s}}}if(Me)throw e=Ue,Me=!1,Ue=null,e}function Ur(e,t){var n=t[vi];void 0===n&&(n=t[vi]=new Set);var r=e+"__bubble";n.has(r)||(zr(t,e,2,!1),n.add(r))}function Vr(e,t,n){var r=0;t&&(r|=4),zr(n,e,r,t)}var qr="_reactListening"+Math.random().toString(36).slice(2);function Br(e){if(!e[qr]){e[qr]=!0,o.forEach((function(t){"selectionchange"!==t&&(Lr.has(t)||Vr(t,!1,e),Vr(t,!0,e))}));var t=9===e.nodeType?e:e.ownerDocument;null===t||t[qr]||(t[qr]=!0,Vr("selectionchange",!1,t))}}function zr(e,t,n,r){switch($t(t)){case 1:var i=Kt;break;case 4:i=Gt;break;default:i=Ht}n=i.bind(null,t,n,e),i=void 0,!Re||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(i=!0),r?void 0!==i?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):void 0!==i?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function Wr(e,t,n,r,i){var a=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var o=r.tag;if(3===o||4===o){var u=r.stateNode.containerInfo;if(u===i||8===u.nodeType&&u.parentNode===i)break;if(4===o)for(o=r.return;null!==o;){var s=o.tag;if((3===s||4===s)&&((s=o.stateNode.containerInfo)===i||8===s.nodeType&&s.parentNode===i))return;o=o.return}for(;null!==u;){if(null===(o=gi(u)))return;if(5===(s=o.tag)||6===s){r=a=o;continue e}u=u.parentNode}}r=r.return}Oe((function(){var r=a,i=we(n),o=[];e:{var u=Ar.get(e);if(void 0!==u){var s=ln,c=e;switch(e){case"keypress":if(0===tn(n))break e;case"keydown":case"keyup":s=Tn;break;case"focusin":c="focus",s=yn;break;case"focusout":c="blur",s=yn;break;case"beforeblur":case"afterblur":s=yn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":s=pn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":s=vn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":s=Nn;break;case Ir:case Tr:case Cr:s=mn;break;case Nr:s=An;break;case"scroll":s=hn;break;case"wheel":s=Pn;break;case"copy":case"cut":case"paste":s=kn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":s=Cn}var l=0!==(4&t),f=!l&&"scroll"===e,h=l?null!==u?u+"Capture":null:u;l=[];for(var d,p=r;null!==p;){var v=(d=p).stateNode;if(5===d.tag&&null!==v&&(d=v,null!==h&&(null!=(v=Pe(p,h))&&l.push(Kr(p,v,d)))),f)break;p=p.return}0<l.length&&(u=new s(u,c,null,n,i),o.push({event:u,listeners:l}))}}if(0===(7&t)){if(s="mouseout"===e||"pointerout"===e,(!(u="mouseover"===e||"pointerover"===e)||n===be||!(c=n.relatedTarget||n.fromElement)||!gi(c)&&!c[pi])&&(s||u)&&(u=i.window===i?i:(u=i.ownerDocument)?u.defaultView||u.parentWindow:window,s?(s=r,null!==(c=(c=n.relatedTarget||n.toElement)?gi(c):null)&&(c!==(f=Be(c))||5!==c.tag&&6!==c.tag)&&(c=null)):(s=null,c=r),s!==c)){if(l=pn,v="onMouseLeave",h="onMouseEnter",p="mouse","pointerout"!==e&&"pointerover"!==e||(l=Cn,v="onPointerLeave",h="onPointerEnter",p="pointer"),f=null==s?u:bi(s),d=null==c?u:bi(c),(u=new l(v,p+"leave",s,n,i)).target=f,u.relatedTarget=d,v=null,gi(i)===r&&((l=new l(h,p+"enter",c,n,i)).target=d,l.relatedTarget=f,v=l),f=v,s&&c)e:{for(h=c,p=0,d=l=s;d;d=Hr(d))p++;for(d=0,v=h;v;v=Hr(v))d++;for(;0<p-d;)l=Hr(l),p--;for(;0<d-p;)h=Hr(h),d--;for(;p--;){if(l===h||null!==h&&l===h.alternate)break e;l=Hr(l),h=Hr(h)}l=null}else l=null;null!==s&&Qr(o,u,s,l,!1),null!==c&&null!==f&&Qr(o,f,c,l,!0)}if("select"===(s=(u=r?bi(r):window).nodeName&&u.nodeName.toLowerCase())||"input"===s&&"file"===u.type)var y=$n;else if(Wn(u))if(Jn)y=or;else{y=ir;var m=rr}else(s=u.nodeName)&&"input"===s.toLowerCase()&&("checkbox"===u.type||"radio"===u.type)&&(y=ar);switch(y&&(y=y(e,r))?Kn(o,y,n,i):(m&&m(e,u,r),"focusout"===e&&(m=u._wrapperState)&&m.controlled&&"number"===u.type&&ee(u,"number",u.value)),m=r?bi(r):window,e){case"focusin":(Wn(m)||"true"===m.contentEditable)&&(yr=m,mr=r,gr=null);break;case"focusout":gr=mr=yr=null;break;case"mousedown":kr=!0;break;case"contextmenu":case"mouseup":case"dragend":kr=!1,br(o,n,i);break;case"selectionchange":if(vr)break;case"keydown":case"keyup":br(o,n,i)}var g;if(Dn)e:{switch(e){case"compositionstart":var k="onCompositionStart";break e;case"compositionend":k="onCompositionEnd";break e;case"compositionupdate":k="onCompositionUpdate";break e}k=void 0}else Bn?Vn(e,n)&&(k="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(k="onCompositionStart");k&&(jn&&"ko"!==n.locale&&(Bn||"onCompositionStart"!==k?"onCompositionEnd"===k&&Bn&&(g=en()):(Xt="value"in(Jt=i)?Jt.value:Jt.textContent,Bn=!0)),0<(m=Gr(r,k)).length&&(k=new bn(k,e,null,n,i),o.push({event:k,listeners:m}),g?k.data=g:null!==(g=qn(n))&&(k.data=g))),(g=Ln?function(e,t){switch(e){case"compositionend":return qn(t);case"keypress":return 32!==t.which?null:(Un=!0,Mn);case"textInput":return(e=t.data)===Mn&&Un?null:e;default:return null}}(e,n):function(e,t){if(Bn)return"compositionend"===e||!Dn&&Vn(e,t)?(e=en(),Zt=Xt=Jt=null,Bn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return jn&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(r=Gr(r,"onBeforeInput")).length&&(i=new bn("onBeforeInput","beforeinput",null,n,i),o.push({event:i,listeners:r}),i.data=g))}Mr(o,t)}))}function Kr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Gr(e,t){for(var n=t+"Capture",r=[];null!==e;){var i=e,a=i.stateNode;5===i.tag&&null!==a&&(i=a,null!=(a=Pe(e,n))&&r.unshift(Kr(e,a,i)),null!=(a=Pe(e,t))&&r.push(Kr(e,a,i))),e=e.return}return r}function Hr(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Qr(e,t,n,r,i){for(var a=t._reactName,o=[];null!==n&&n!==r;){var u=n,s=u.alternate,c=u.stateNode;if(null!==s&&s===r)break;5===u.tag&&null!==c&&(u=c,i?null!=(s=Pe(n,a))&&o.unshift(Kr(n,s,u)):i||null!=(s=Pe(n,a))&&o.push(Kr(n,s,u))),n=n.return}0!==o.length&&e.push({event:t,listeners:o})}var Yr=/\r\n?/g,$r=/\u0000|\uFFFD/g;function Jr(e){return("string"===typeof e?e:""+e).replace(Yr,"\n").replace($r,"")}function Xr(e,t,n){if(t=Jr(t),Jr(e)!==t&&n)throw Error(a(425))}function Zr(){}var ei=null,ti=null;function ni(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var ri="function"===typeof setTimeout?setTimeout:void 0,ii="function"===typeof clearTimeout?clearTimeout:void 0,ai="function"===typeof Promise?Promise:void 0,oi="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof ai?function(e){return ai.resolve(null).then(e).catch(ui)}:ri;function ui(e){setTimeout((function(){throw e}))}function si(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&8===i.nodeType)if("/$"===(n=i.data)){if(0===r)return e.removeChild(i),void Bt(t);r--}else"$"!==n&&"$?"!==n&&"$!"!==n||r++;n=i}while(n);Bt(t)}function ci(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function li(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var fi=Math.random().toString(36).slice(2),hi="__reactFiber$"+fi,di="__reactProps$"+fi,pi="__reactContainer$"+fi,vi="__reactEvents$"+fi,yi="__reactListeners$"+fi,mi="__reactHandles$"+fi;function gi(e){var t=e[hi];if(t)return t;for(var n=e.parentNode;n;){if(t=n[pi]||n[hi]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=li(e);null!==e;){if(n=e[hi])return n;e=li(e)}return t}n=(e=n).parentNode}return null}function ki(e){return!(e=e[hi]||e[pi])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function bi(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(a(33))}function wi(e){return e[di]||null}var _i=[],xi=-1;function Ei(e){return{current:e}}function Si(e){0>xi||(e.current=_i[xi],_i[xi]=null,xi--)}function Ii(e,t){xi++,_i[xi]=e.current,e.current=t}var Ti={},Ci=Ei(Ti),Ni=Ei(!1),Ai=Ti;function Oi(e,t){var n=e.type.contextTypes;if(!n)return Ti;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i,a={};for(i in n)a[i]=t[i];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=a),a}function Pi(e){return null!==(e=e.childContextTypes)&&void 0!==e}function Ri(){Si(Ni),Si(Ci)}function Di(e,t,n){if(Ci.current!==Ti)throw Error(a(168));Ii(Ci,t),Ii(Ni,n)}function Fi(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var i in r=r.getChildContext())if(!(i in t))throw Error(a(108,z(e)||"Unknown",i));return j({},n,r)}function Li(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Ti,Ai=Ci.current,Ii(Ci,e),Ii(Ni,Ni.current),!0}function ji(e,t,n){var r=e.stateNode;if(!r)throw Error(a(169));n?(e=Fi(e,t,Ai),r.__reactInternalMemoizedMergedChildContext=e,Si(Ni),Si(Ci),Ii(Ci,e)):Si(Ni),Ii(Ni,n)}var Mi=null,Ui=!1,Vi=!1;function qi(e){null===Mi?Mi=[e]:Mi.push(e)}function Bi(){if(!Vi&&null!==Mi){Vi=!0;var e=0,t=kt;try{var n=Mi;for(kt=1;e<n.length;e++){var r=n[e];do{r=r(!0)}while(null!==r)}Mi=null,Ui=!1}catch(i){throw null!==Mi&&(Mi=Mi.slice(e+1)),He(Ze,Bi),i}finally{kt=t,Vi=!1}}return null}var zi=[],Wi=0,Ki=null,Gi=0,Hi=[],Qi=0,Yi=null,$i=1,Ji="";function Xi(e,t){zi[Wi++]=Gi,zi[Wi++]=Ki,Ki=e,Gi=t}function Zi(e,t,n){Hi[Qi++]=$i,Hi[Qi++]=Ji,Hi[Qi++]=Yi,Yi=e;var r=$i;e=Ji;var i=32-ot(r)-1;r&=~(1<<i),n+=1;var a=32-ot(t)+i;if(30<a){var o=i-i%5;a=(r&(1<<o)-1).toString(32),r>>=o,i-=o,$i=1<<32-ot(t)+i|n<<i|r,Ji=a+e}else $i=1<<a|n<<i|r,Ji=e}function ea(e){null!==e.return&&(Xi(e,1),Zi(e,1,0))}function ta(e){for(;e===Ki;)Ki=zi[--Wi],zi[Wi]=null,Gi=zi[--Wi],zi[Wi]=null;for(;e===Yi;)Yi=Hi[--Qi],Hi[Qi]=null,Ji=Hi[--Qi],Hi[Qi]=null,$i=Hi[--Qi],Hi[Qi]=null}var na=null,ra=null,ia=!1,aa=null;function oa(e,t){var n=Oc(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,null===(t=e.deletions)?(e.deletions=[n],e.flags|=16):t.push(n)}function ua(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,na=e,ra=ci(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,na=e,ra=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(n=null!==Yi?{id:$i,overflow:Ji}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},(n=Oc(18,null,null,0)).stateNode=t,n.return=e,e.child=n,na=e,ra=null,!0);default:return!1}}function sa(e){return 0!==(1&e.mode)&&0===(128&e.flags)}function ca(e){if(ia){var t=ra;if(t){var n=t;if(!ua(e,t)){if(sa(e))throw Error(a(418));t=ci(n.nextSibling);var r=na;t&&ua(e,t)?oa(r,n):(e.flags=-4097&e.flags|2,ia=!1,na=e)}}else{if(sa(e))throw Error(a(418));e.flags=-4097&e.flags|2,ia=!1,na=e}}}function la(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;na=e}function fa(e){if(e!==na)return!1;if(!ia)return la(e),ia=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!ni(e.type,e.memoizedProps)),t&&(t=ra)){if(sa(e))throw ha(),Error(a(418));for(;t;)oa(e,t),t=ci(t.nextSibling)}if(la(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(a(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){ra=ci(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}ra=null}}else ra=na?ci(e.stateNode.nextSibling):null;return!0}function ha(){for(var e=ra;e;)e=ci(e.nextSibling)}function da(){ra=na=null,ia=!1}function pa(e){null===aa?aa=[e]:aa.push(e)}var va=b.ReactCurrentBatchConfig;function ya(e,t){if(e&&e.defaultProps){for(var n in t=j({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}var ma=Ei(null),ga=null,ka=null,ba=null;function wa(){ba=ka=ga=null}function _a(e){var t=ma.current;Si(ma),e._currentValue=t}function xa(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Ea(e,t){ga=e,ba=ka=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(bu=!0),e.firstContext=null)}function Sa(e){var t=e._currentValue;if(ba!==e)if(e={context:e,memoizedValue:t,next:null},null===ka){if(null===ga)throw Error(a(308));ka=e,ga.dependencies={lanes:0,firstContext:e}}else ka=ka.next=e;return t}var Ia=null;function Ta(e){null===Ia?Ia=[e]:Ia.push(e)}function Ca(e,t,n,r){var i=t.interleaved;return null===i?(n.next=n,Ta(t)):(n.next=i.next,i.next=n),t.interleaved=n,Na(e,r)}function Na(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}var Aa=!1;function Oa(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Pa(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Ra(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Da(e,t,n){var r=e.updateQueue;if(null===r)return null;if(r=r.shared,0!==(2&Cs)){var i=r.pending;return null===i?t.next=t:(t.next=i.next,i.next=t),r.pending=t,Na(e,n)}return null===(i=r.interleaved)?(t.next=t,Ta(r)):(t.next=i.next,i.next=t),r.interleaved=t,Na(e,n)}function Fa(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194240&n))){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,gt(e,n)}}function La(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,a=null;if(null!==(n=n.firstBaseUpdate)){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===a?i=a=o:a=a.next=o,n=n.next}while(null!==n);null===a?i=a=t:a=a.next=t}else i=a=t;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:a,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function ja(e,t,n,r){var i=e.updateQueue;Aa=!1;var a=i.firstBaseUpdate,o=i.lastBaseUpdate,u=i.shared.pending;if(null!==u){i.shared.pending=null;var s=u,c=s.next;s.next=null,null===o?a=c:o.next=c,o=s;var l=e.alternate;null!==l&&((u=(l=l.updateQueue).lastBaseUpdate)!==o&&(null===u?l.firstBaseUpdate=c:u.next=c,l.lastBaseUpdate=s))}if(null!==a){var f=i.baseState;for(o=0,l=c=s=null,u=a;;){var h=u.lane,d=u.eventTime;if((r&h)===h){null!==l&&(l=l.next={eventTime:d,lane:0,tag:u.tag,payload:u.payload,callback:u.callback,next:null});e:{var p=e,v=u;switch(h=t,d=n,v.tag){case 1:if("function"===typeof(p=v.payload)){f=p.call(d,f,h);break e}f=p;break e;case 3:p.flags=-65537&p.flags|128;case 0:if(null===(h="function"===typeof(p=v.payload)?p.call(d,f,h):p)||void 0===h)break e;f=j({},f,h);break e;case 2:Aa=!0}}null!==u.callback&&0!==u.lane&&(e.flags|=64,null===(h=i.effects)?i.effects=[u]:h.push(u))}else d={eventTime:d,lane:h,tag:u.tag,payload:u.payload,callback:u.callback,next:null},null===l?(c=l=d,s=f):l=l.next=d,o|=h;if(null===(u=u.next)){if(null===(u=i.shared.pending))break;u=(h=u).next,h.next=null,i.lastBaseUpdate=h,i.shared.pending=null}}if(null===l&&(s=f),i.baseState=s,i.firstBaseUpdate=c,i.lastBaseUpdate=l,null!==(t=i.shared.interleaved)){i=t;do{o|=i.lane,i=i.next}while(i!==t)}else null===a&&(i.shared.lanes=0);Ls|=o,e.lanes=o,e.memoizedState=f}}function Ma(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(null!==i){if(r.callback=null,r=n,"function"!==typeof i)throw Error(a(191,i));i.call(r)}}}var Ua=(new r.Component).refs;function Va(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:j({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var qa={isMounted:function(e){return!!(e=e._reactInternals)&&Be(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=ec(),i=tc(e),a=Ra(r,i);a.payload=t,void 0!==n&&null!==n&&(a.callback=n),null!==(t=Da(e,a,i))&&(nc(t,e,i,r),Fa(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=ec(),i=tc(e),a=Ra(r,i);a.tag=1,a.payload=t,void 0!==n&&null!==n&&(a.callback=n),null!==(t=Da(e,a,i))&&(nc(t,e,i,r),Fa(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=ec(),r=tc(e),i=Ra(n,r);i.tag=2,void 0!==t&&null!==t&&(i.callback=t),null!==(t=Da(e,i,r))&&(nc(t,e,r,n),Fa(t,e,r))}};function Ba(e,t,n,r,i,a,o){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,a,o):!t.prototype||!t.prototype.isPureReactComponent||(!sr(n,r)||!sr(i,a))}function za(e,t,n){var r=!1,i=Ti,a=t.contextType;return"object"===typeof a&&null!==a?a=Sa(a):(i=Pi(t)?Ai:Ci.current,a=(r=null!==(r=t.contextTypes)&&void 0!==r)?Oi(e,i):Ti),t=new t(n,a),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=qa,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=a),t}function Wa(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&qa.enqueueReplaceState(t,t.state,null)}function Ka(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs=Ua,Oa(e);var a=t.contextType;"object"===typeof a&&null!==a?i.context=Sa(a):(a=Pi(t)?Ai:Ci.current,i.context=Oi(e,a)),i.state=e.memoizedState,"function"===typeof(a=t.getDerivedStateFromProps)&&(Va(e,t,a,n),i.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof i.getSnapshotBeforeUpdate||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||(t=i.state,"function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&qa.enqueueReplaceState(i,i.state,null),ja(e,n,i,r),i.state=e.memoizedState),"function"===typeof i.componentDidMount&&(e.flags|=4194308)}function Ga(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(a(309));var r=n.stateNode}if(!r)throw Error(a(147,e));var i=r,o=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===o?t.ref:(t=function(e){var t=i.refs;t===Ua&&(t=i.refs={}),null===e?delete t[o]:t[o]=e},t._stringRef=o,t)}if("string"!==typeof e)throw Error(a(284));if(!n._owner)throw Error(a(290,e))}return e}function Ha(e,t){throw e=Object.prototype.toString.call(t),Error(a(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Qa(e){return(0,e._init)(e._payload)}function Ya(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t){return(e=Rc(e,t)).index=0,e.sibling=null,e}function o(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=2,n):r:(t.flags|=2,n):(t.flags|=1048576,n)}function u(t){return e&&null===t.alternate&&(t.flags|=2),t}function s(e,t,n,r){return null===t||6!==t.tag?((t=jc(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function c(e,t,n,r){var a=n.type;return a===x?f(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===a||"object"===typeof a&&null!==a&&a.$$typeof===P&&Qa(a)===t.type)?((r=i(t,n.props)).ref=Ga(e,t,n),r.return=e,r):((r=Dc(n.type,n.key,n.props,null,e.mode,r)).ref=Ga(e,t,n),r.return=e,r)}function l(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Mc(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function f(e,t,n,r,a){return null===t||7!==t.tag?((t=Fc(n,e.mode,r,a)).return=e,t):((t=i(t,n)).return=e,t)}function h(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t)return(t=jc(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case w:return(n=Dc(t.type,t.key,t.props,null,e.mode,n)).ref=Ga(e,null,t),n.return=e,n;case _:return(t=Mc(t,e.mode,n)).return=e,t;case P:return h(e,(0,t._init)(t._payload),n)}if(te(t)||F(t))return(t=Fc(t,e.mode,n,null)).return=e,t;Ha(e,t)}return null}function d(e,t,n,r){var i=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n)return null!==i?null:s(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case w:return n.key===i?c(e,t,n,r):null;case _:return n.key===i?l(e,t,n,r):null;case P:return d(e,t,(i=n._init)(n._payload),r)}if(te(n)||F(n))return null!==i?null:f(e,t,n,r,null);Ha(e,n)}return null}function p(e,t,n,r,i){if("string"===typeof r&&""!==r||"number"===typeof r)return s(t,e=e.get(n)||null,""+r,i);if("object"===typeof r&&null!==r){switch(r.$$typeof){case w:return c(t,e=e.get(null===r.key?n:r.key)||null,r,i);case _:return l(t,e=e.get(null===r.key?n:r.key)||null,r,i);case P:return p(e,t,n,(0,r._init)(r._payload),i)}if(te(r)||F(r))return f(t,e=e.get(n)||null,r,i,null);Ha(t,r)}return null}function v(i,a,u,s){for(var c=null,l=null,f=a,v=a=0,y=null;null!==f&&v<u.length;v++){f.index>v?(y=f,f=null):y=f.sibling;var m=d(i,f,u[v],s);if(null===m){null===f&&(f=y);break}e&&f&&null===m.alternate&&t(i,f),a=o(m,a,v),null===l?c=m:l.sibling=m,l=m,f=y}if(v===u.length)return n(i,f),ia&&Xi(i,v),c;if(null===f){for(;v<u.length;v++)null!==(f=h(i,u[v],s))&&(a=o(f,a,v),null===l?c=f:l.sibling=f,l=f);return ia&&Xi(i,v),c}for(f=r(i,f);v<u.length;v++)null!==(y=p(f,i,v,u[v],s))&&(e&&null!==y.alternate&&f.delete(null===y.key?v:y.key),a=o(y,a,v),null===l?c=y:l.sibling=y,l=y);return e&&f.forEach((function(e){return t(i,e)})),ia&&Xi(i,v),c}function y(i,u,s,c){var l=F(s);if("function"!==typeof l)throw Error(a(150));if(null==(s=l.call(s)))throw Error(a(151));for(var f=l=null,v=u,y=u=0,m=null,g=s.next();null!==v&&!g.done;y++,g=s.next()){v.index>y?(m=v,v=null):m=v.sibling;var k=d(i,v,g.value,c);if(null===k){null===v&&(v=m);break}e&&v&&null===k.alternate&&t(i,v),u=o(k,u,y),null===f?l=k:f.sibling=k,f=k,v=m}if(g.done)return n(i,v),ia&&Xi(i,y),l;if(null===v){for(;!g.done;y++,g=s.next())null!==(g=h(i,g.value,c))&&(u=o(g,u,y),null===f?l=g:f.sibling=g,f=g);return ia&&Xi(i,y),l}for(v=r(i,v);!g.done;y++,g=s.next())null!==(g=p(v,i,y,g.value,c))&&(e&&null!==g.alternate&&v.delete(null===g.key?y:g.key),u=o(g,u,y),null===f?l=g:f.sibling=g,f=g);return e&&v.forEach((function(e){return t(i,e)})),ia&&Xi(i,y),l}return function e(r,a,o,s){if("object"===typeof o&&null!==o&&o.type===x&&null===o.key&&(o=o.props.children),"object"===typeof o&&null!==o){switch(o.$$typeof){case w:e:{for(var c=o.key,l=a;null!==l;){if(l.key===c){if((c=o.type)===x){if(7===l.tag){n(r,l.sibling),(a=i(l,o.props.children)).return=r,r=a;break e}}else if(l.elementType===c||"object"===typeof c&&null!==c&&c.$$typeof===P&&Qa(c)===l.type){n(r,l.sibling),(a=i(l,o.props)).ref=Ga(r,l,o),a.return=r,r=a;break e}n(r,l);break}t(r,l),l=l.sibling}o.type===x?((a=Fc(o.props.children,r.mode,s,o.key)).return=r,r=a):((s=Dc(o.type,o.key,o.props,null,r.mode,s)).ref=Ga(r,a,o),s.return=r,r=s)}return u(r);case _:e:{for(l=o.key;null!==a;){if(a.key===l){if(4===a.tag&&a.stateNode.containerInfo===o.containerInfo&&a.stateNode.implementation===o.implementation){n(r,a.sibling),(a=i(a,o.children||[])).return=r,r=a;break e}n(r,a);break}t(r,a),a=a.sibling}(a=Mc(o,r.mode,s)).return=r,r=a}return u(r);case P:return e(r,a,(l=o._init)(o._payload),s)}if(te(o))return v(r,a,o,s);if(F(o))return y(r,a,o,s);Ha(r,o)}return"string"===typeof o&&""!==o||"number"===typeof o?(o=""+o,null!==a&&6===a.tag?(n(r,a.sibling),(a=i(a,o)).return=r,r=a):(n(r,a),(a=jc(o,r.mode,s)).return=r,r=a),u(r)):n(r,a)}}var $a=Ya(!0),Ja=Ya(!1),Xa={},Za=Ei(Xa),eo=Ei(Xa),to=Ei(Xa);function no(e){if(e===Xa)throw Error(a(174));return e}function ro(e,t){switch(Ii(to,t),Ii(eo,e),Ii(Za,Xa),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:se(null,"");break;default:t=se(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}Si(Za),Ii(Za,t)}function io(){Si(Za),Si(eo),Si(to)}function ao(e){no(to.current);var t=no(Za.current),n=se(t,e.type);t!==n&&(Ii(eo,e),Ii(Za,n))}function oo(e){eo.current===e&&(Si(Za),Si(eo))}var uo=Ei(0);function so(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var co=[];function lo(){for(var e=0;e<co.length;e++)co[e]._workInProgressVersionPrimary=null;co.length=0}var fo=b.ReactCurrentDispatcher,ho=b.ReactCurrentBatchConfig,po=0,vo=null,yo=null,mo=null,go=!1,ko=!1,bo=0,wo=0;function _o(){throw Error(a(321))}function xo(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!ur(e[n],t[n]))return!1;return!0}function Eo(e,t,n,r,i,o){if(po=o,vo=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,fo.current=null===e||null===e.memoizedState?uu:su,e=n(r,i),ko){o=0;do{if(ko=!1,bo=0,25<=o)throw Error(a(301));o+=1,mo=yo=null,t.updateQueue=null,fo.current=cu,e=n(r,i)}while(ko)}if(fo.current=ou,t=null!==yo&&null!==yo.next,po=0,mo=yo=vo=null,go=!1,t)throw Error(a(300));return e}function So(){var e=0!==bo;return bo=0,e}function Io(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===mo?vo.memoizedState=mo=e:mo=mo.next=e,mo}function To(){if(null===yo){var e=vo.alternate;e=null!==e?e.memoizedState:null}else e=yo.next;var t=null===mo?vo.memoizedState:mo.next;if(null!==t)mo=t,yo=e;else{if(null===e)throw Error(a(310));e={memoizedState:(yo=e).memoizedState,baseState:yo.baseState,baseQueue:yo.baseQueue,queue:yo.queue,next:null},null===mo?vo.memoizedState=mo=e:mo=mo.next=e}return mo}function Co(e,t){return"function"===typeof t?t(e):t}function No(e){var t=To(),n=t.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=e;var r=yo,i=r.baseQueue,o=n.pending;if(null!==o){if(null!==i){var u=i.next;i.next=o.next,o.next=u}r.baseQueue=i=o,n.pending=null}if(null!==i){o=i.next,r=r.baseState;var s=u=null,c=null,l=o;do{var f=l.lane;if((po&f)===f)null!==c&&(c=c.next={lane:0,action:l.action,hasEagerState:l.hasEagerState,eagerState:l.eagerState,next:null}),r=l.hasEagerState?l.eagerState:e(r,l.action);else{var h={lane:f,action:l.action,hasEagerState:l.hasEagerState,eagerState:l.eagerState,next:null};null===c?(s=c=h,u=r):c=c.next=h,vo.lanes|=f,Ls|=f}l=l.next}while(null!==l&&l!==o);null===c?u=r:c.next=s,ur(r,t.memoizedState)||(bu=!0),t.memoizedState=r,t.baseState=u,t.baseQueue=c,n.lastRenderedState=r}if(null!==(e=n.interleaved)){i=e;do{o=i.lane,vo.lanes|=o,Ls|=o,i=i.next}while(i!==e)}else null===i&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Ao(e){var t=To(),n=t.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,o=t.memoizedState;if(null!==i){n.pending=null;var u=i=i.next;do{o=e(o,u.action),u=u.next}while(u!==i);ur(o,t.memoizedState)||(bu=!0),t.memoizedState=o,null===t.baseQueue&&(t.baseState=o),n.lastRenderedState=o}return[o,r]}function Oo(){}function Po(e,t){var n=vo,r=To(),i=t(),o=!ur(r.memoizedState,i);if(o&&(r.memoizedState=i,bu=!0),r=r.queue,Wo(Fo.bind(null,n,r,e),[e]),r.getSnapshot!==t||o||null!==mo&&1&mo.memoizedState.tag){if(n.flags|=2048,Uo(9,Do.bind(null,n,r,i,t),void 0,null),null===Ns)throw Error(a(349));0!==(30&po)||Ro(n,t,i)}return i}function Ro(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=vo.updateQueue)?(t={lastEffect:null,stores:null},vo.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function Do(e,t,n,r){t.value=n,t.getSnapshot=r,Lo(t)&&jo(e)}function Fo(e,t,n){return n((function(){Lo(t)&&jo(e)}))}function Lo(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!ur(e,n)}catch(r){return!0}}function jo(e){var t=Na(e,1);null!==t&&nc(t,e,1,-1)}function Mo(e){var t=Io();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Co,lastRenderedState:e},t.queue=e,e=e.dispatch=nu.bind(null,vo,e),[t.memoizedState,e]}function Uo(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=vo.updateQueue)?(t={lastEffect:null,stores:null},vo.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function Vo(){return To().memoizedState}function qo(e,t,n,r){var i=Io();vo.flags|=e,i.memoizedState=Uo(1|t,n,void 0,void 0===r?null:r)}function Bo(e,t,n,r){var i=To();r=void 0===r?null:r;var a=void 0;if(null!==yo){var o=yo.memoizedState;if(a=o.destroy,null!==r&&xo(r,o.deps))return void(i.memoizedState=Uo(t,n,a,r))}vo.flags|=e,i.memoizedState=Uo(1|t,n,a,r)}function zo(e,t){return qo(8390656,8,e,t)}function Wo(e,t){return Bo(2048,8,e,t)}function Ko(e,t){return Bo(4,2,e,t)}function Go(e,t){return Bo(4,4,e,t)}function Ho(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function Qo(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Bo(4,4,Ho.bind(null,t,e),n)}function Yo(){}function $o(e,t){var n=To();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&xo(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Jo(e,t){var n=To();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&xo(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Xo(e,t,n){return 0===(21&po)?(e.baseState&&(e.baseState=!1,bu=!0),e.memoizedState=n):(ur(n,t)||(n=vt(),vo.lanes|=n,Ls|=n,e.baseState=!0),t)}function Zo(e,t){var n=kt;kt=0!==n&&4>n?n:4,e(!0);var r=ho.transition;ho.transition={};try{e(!1),t()}finally{kt=n,ho.transition=r}}function eu(){return To().memoizedState}function tu(e,t,n){var r=tc(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},ru(e))iu(t,n);else if(null!==(n=Ca(e,t,n,r))){nc(n,e,r,ec()),au(n,t,r)}}function nu(e,t,n){var r=tc(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(ru(e))iu(t,i);else{var a=e.alternate;if(0===e.lanes&&(null===a||0===a.lanes)&&null!==(a=t.lastRenderedReducer))try{var o=t.lastRenderedState,u=a(o,n);if(i.hasEagerState=!0,i.eagerState=u,ur(u,o)){var s=t.interleaved;return null===s?(i.next=i,Ta(t)):(i.next=s.next,s.next=i),void(t.interleaved=i)}}catch(c){}null!==(n=Ca(e,t,i,r))&&(nc(n,e,r,i=ec()),au(n,t,r))}}function ru(e){var t=e.alternate;return e===vo||null!==t&&t===vo}function iu(e,t){ko=go=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function au(e,t,n){if(0!==(4194240&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,gt(e,n)}}var ou={readContext:Sa,useCallback:_o,useContext:_o,useEffect:_o,useImperativeHandle:_o,useInsertionEffect:_o,useLayoutEffect:_o,useMemo:_o,useReducer:_o,useRef:_o,useState:_o,useDebugValue:_o,useDeferredValue:_o,useTransition:_o,useMutableSource:_o,useSyncExternalStore:_o,useId:_o,unstable_isNewReconciler:!1},uu={readContext:Sa,useCallback:function(e,t){return Io().memoizedState=[e,void 0===t?null:t],e},useContext:Sa,useEffect:zo,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,qo(4194308,4,Ho.bind(null,t,e),n)},useLayoutEffect:function(e,t){return qo(4194308,4,e,t)},useInsertionEffect:function(e,t){return qo(4,2,e,t)},useMemo:function(e,t){var n=Io();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=Io();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=tu.bind(null,vo,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},Io().memoizedState=e},useState:Mo,useDebugValue:Yo,useDeferredValue:function(e){return Io().memoizedState=e},useTransition:function(){var e=Mo(!1),t=e[0];return e=Zo.bind(null,e[1]),Io().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=vo,i=Io();if(ia){if(void 0===n)throw Error(a(407));n=n()}else{if(n=t(),null===Ns)throw Error(a(349));0!==(30&po)||Ro(r,t,n)}i.memoizedState=n;var o={value:n,getSnapshot:t};return i.queue=o,zo(Fo.bind(null,r,o,e),[e]),r.flags|=2048,Uo(9,Do.bind(null,r,o,n,t),void 0,null),n},useId:function(){var e=Io(),t=Ns.identifierPrefix;if(ia){var n=Ji;t=":"+t+"R"+(n=($i&~(1<<32-ot($i)-1)).toString(32)+n),0<(n=bo++)&&(t+="H"+n.toString(32)),t+=":"}else t=":"+t+"r"+(n=wo++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},su={readContext:Sa,useCallback:$o,useContext:Sa,useEffect:Wo,useImperativeHandle:Qo,useInsertionEffect:Ko,useLayoutEffect:Go,useMemo:Jo,useReducer:No,useRef:Vo,useState:function(){return No(Co)},useDebugValue:Yo,useDeferredValue:function(e){return Xo(To(),yo.memoizedState,e)},useTransition:function(){return[No(Co)[0],To().memoizedState]},useMutableSource:Oo,useSyncExternalStore:Po,useId:eu,unstable_isNewReconciler:!1},cu={readContext:Sa,useCallback:$o,useContext:Sa,useEffect:Wo,useImperativeHandle:Qo,useInsertionEffect:Ko,useLayoutEffect:Go,useMemo:Jo,useReducer:Ao,useRef:Vo,useState:function(){return Ao(Co)},useDebugValue:Yo,useDeferredValue:function(e){var t=To();return null===yo?t.memoizedState=e:Xo(t,yo.memoizedState,e)},useTransition:function(){return[Ao(Co)[0],To().memoizedState]},useMutableSource:Oo,useSyncExternalStore:Po,useId:eu,unstable_isNewReconciler:!1};function lu(e,t){try{var n="",r=t;do{n+=q(r),r=r.return}while(r);var i=n}catch(a){i="\nError generating stack: "+a.message+"\n"+a.stack}return{value:e,source:t,stack:i,digest:null}}function fu(e,t,n){return{value:e,source:null,stack:null!=n?n:null,digest:null!=t?t:null}}function hu(e,t){try{console.error(t.value)}catch(n){setTimeout((function(){throw n}))}}var du="function"===typeof WeakMap?WeakMap:Map;function pu(e,t,n){(n=Ra(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Ws||(Ws=!0,Ks=r),hu(0,t)},n}function vu(e,t,n){(n=Ra(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"===typeof r){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){hu(0,t)}}var a=e.stateNode;return null!==a&&"function"===typeof a.componentDidCatch&&(n.callback=function(){hu(0,t),"function"!==typeof r&&(null===Gs?Gs=new Set([this]):Gs.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}function yu(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new du;var i=new Set;r.set(t,i)}else void 0===(i=r.get(t))&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=Sc.bind(null,e,t,n),t.then(e,e))}function mu(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function gu(e,t,n,r,i){return 0===(1&e.mode)?(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:((t=Ra(-1,1)).tag=2,Da(n,t,1))),n.lanes|=1),e):(e.flags|=65536,e.lanes=i,e)}var ku=b.ReactCurrentOwner,bu=!1;function wu(e,t,n,r){t.child=null===e?Ja(t,null,n,r):$a(t,e.child,n,r)}function _u(e,t,n,r,i){n=n.render;var a=t.ref;return Ea(t,i),r=Eo(e,t,n,r,a,i),n=So(),null===e||bu?(ia&&n&&ea(t),t.flags|=1,wu(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Wu(e,t,i))}function xu(e,t,n,r,i){if(null===e){var a=n.type;return"function"!==typeof a||Pc(a)||void 0!==a.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Dc(n.type,null,r,t,t.mode,i)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=a,Eu(e,t,a,r,i))}if(a=e.child,0===(e.lanes&i)){var o=a.memoizedProps;if((n=null!==(n=n.compare)?n:sr)(o,r)&&e.ref===t.ref)return Wu(e,t,i)}return t.flags|=1,(e=Rc(a,r)).ref=t.ref,e.return=t,t.child=e}function Eu(e,t,n,r,i){if(null!==e){var a=e.memoizedProps;if(sr(a,r)&&e.ref===t.ref){if(bu=!1,t.pendingProps=r=a,0===(e.lanes&i))return t.lanes=e.lanes,Wu(e,t,i);0!==(131072&e.flags)&&(bu=!0)}}return Tu(e,t,n,r,i)}function Su(e,t,n){var r=t.pendingProps,i=r.children,a=null!==e?e.memoizedState:null;if("hidden"===r.mode)if(0===(1&t.mode))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ii(Rs,Ps),Ps|=n;else{if(0===(1073741824&n))return e=null!==a?a.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Ii(Rs,Ps),Ps|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=null!==a?a.baseLanes:n,Ii(Rs,Ps),Ps|=r}else null!==a?(r=a.baseLanes|n,t.memoizedState=null):r=n,Ii(Rs,Ps),Ps|=r;return wu(e,t,i,n),t.child}function Iu(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Tu(e,t,n,r,i){var a=Pi(n)?Ai:Ci.current;return a=Oi(t,a),Ea(t,i),n=Eo(e,t,n,r,a,i),r=So(),null===e||bu?(ia&&r&&ea(t),t.flags|=1,wu(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Wu(e,t,i))}function Cu(e,t,n,r,i){if(Pi(n)){var a=!0;Li(t)}else a=!1;if(Ea(t,i),null===t.stateNode)zu(e,t),za(t,n,r),Ka(t,n,r,i),r=!0;else if(null===e){var o=t.stateNode,u=t.memoizedProps;o.props=u;var s=o.context,c=n.contextType;"object"===typeof c&&null!==c?c=Sa(c):c=Oi(t,c=Pi(n)?Ai:Ci.current);var l=n.getDerivedStateFromProps,f="function"===typeof l||"function"===typeof o.getSnapshotBeforeUpdate;f||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(u!==r||s!==c)&&Wa(t,o,r,c),Aa=!1;var h=t.memoizedState;o.state=h,ja(t,r,o,i),s=t.memoizedState,u!==r||h!==s||Ni.current||Aa?("function"===typeof l&&(Va(t,n,l,r),s=t.memoizedState),(u=Aa||Ba(t,n,u,r,h,s,c))?(f||"function"!==typeof o.UNSAFE_componentWillMount&&"function"!==typeof o.componentWillMount||("function"===typeof o.componentWillMount&&o.componentWillMount(),"function"===typeof o.UNSAFE_componentWillMount&&o.UNSAFE_componentWillMount()),"function"===typeof o.componentDidMount&&(t.flags|=4194308)):("function"===typeof o.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=s),o.props=r,o.state=s,o.context=c,r=u):("function"===typeof o.componentDidMount&&(t.flags|=4194308),r=!1)}else{o=t.stateNode,Pa(e,t),u=t.memoizedProps,c=t.type===t.elementType?u:ya(t.type,u),o.props=c,f=t.pendingProps,h=o.context,"object"===typeof(s=n.contextType)&&null!==s?s=Sa(s):s=Oi(t,s=Pi(n)?Ai:Ci.current);var d=n.getDerivedStateFromProps;(l="function"===typeof d||"function"===typeof o.getSnapshotBeforeUpdate)||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(u!==f||h!==s)&&Wa(t,o,r,s),Aa=!1,h=t.memoizedState,o.state=h,ja(t,r,o,i);var p=t.memoizedState;u!==f||h!==p||Ni.current||Aa?("function"===typeof d&&(Va(t,n,d,r),p=t.memoizedState),(c=Aa||Ba(t,n,c,r,h,p,s)||!1)?(l||"function"!==typeof o.UNSAFE_componentWillUpdate&&"function"!==typeof o.componentWillUpdate||("function"===typeof o.componentWillUpdate&&o.componentWillUpdate(r,p,s),"function"===typeof o.UNSAFE_componentWillUpdate&&o.UNSAFE_componentWillUpdate(r,p,s)),"function"===typeof o.componentDidUpdate&&(t.flags|=4),"function"===typeof o.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof o.componentDidUpdate||u===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||u===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=p),o.props=r,o.state=p,o.context=s,r=c):("function"!==typeof o.componentDidUpdate||u===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||u===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),r=!1)}return Nu(e,t,n,r,a,i)}function Nu(e,t,n,r,i,a){Iu(e,t);var o=0!==(128&t.flags);if(!r&&!o)return i&&ji(t,n,!1),Wu(e,t,a);r=t.stateNode,ku.current=t;var u=o&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&o?(t.child=$a(t,e.child,null,a),t.child=$a(t,null,u,a)):wu(e,t,u,a),t.memoizedState=r.state,i&&ji(t,n,!0),t.child}function Au(e){var t=e.stateNode;t.pendingContext?Di(0,t.pendingContext,t.pendingContext!==t.context):t.context&&Di(0,t.context,!1),ro(e,t.containerInfo)}function Ou(e,t,n,r,i){return da(),pa(i),t.flags|=256,wu(e,t,n,r),t.child}var Pu,Ru,Du,Fu={dehydrated:null,treeContext:null,retryLane:0};function Lu(e){return{baseLanes:e,cachePool:null,transitions:null}}function ju(e,t,n){var r,i=t.pendingProps,o=uo.current,u=!1,s=0!==(128&t.flags);if((r=s)||(r=(null===e||null!==e.memoizedState)&&0!==(2&o)),r?(u=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(o|=1),Ii(uo,1&o),null===e)return ca(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(0===(1&t.mode)?t.lanes=1:"$!"===e.data?t.lanes=8:t.lanes=1073741824,null):(s=i.children,e=i.fallback,u?(i=t.mode,u=t.child,s={mode:"hidden",children:s},0===(1&i)&&null!==u?(u.childLanes=0,u.pendingProps=s):u=Lc(s,i,0,null),e=Fc(e,i,n,null),u.return=t,e.return=t,u.sibling=e,t.child=u,t.child.memoizedState=Lu(n),t.memoizedState=Fu,e):Mu(t,s));if(null!==(o=e.memoizedState)&&null!==(r=o.dehydrated))return function(e,t,n,r,i,o,u){if(n)return 256&t.flags?(t.flags&=-257,Uu(e,t,u,r=fu(Error(a(422))))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(o=r.fallback,i=t.mode,r=Lc({mode:"visible",children:r.children},i,0,null),(o=Fc(o,i,u,null)).flags|=2,r.return=t,o.return=t,r.sibling=o,t.child=r,0!==(1&t.mode)&&$a(t,e.child,null,u),t.child.memoizedState=Lu(u),t.memoizedState=Fu,o);if(0===(1&t.mode))return Uu(e,t,u,null);if("$!"===i.data){if(r=i.nextSibling&&i.nextSibling.dataset)var s=r.dgst;return r=s,Uu(e,t,u,r=fu(o=Error(a(419)),r,void 0))}if(s=0!==(u&e.childLanes),bu||s){if(null!==(r=Ns)){switch(u&-u){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}0!==(i=0!==(i&(r.suspendedLanes|u))?0:i)&&i!==o.retryLane&&(o.retryLane=i,Na(e,i),nc(r,e,i,-1))}return vc(),Uu(e,t,u,r=fu(Error(a(421))))}return"$?"===i.data?(t.flags|=128,t.child=e.child,t=Tc.bind(null,e),i._reactRetry=t,null):(e=o.treeContext,ra=ci(i.nextSibling),na=t,ia=!0,aa=null,null!==e&&(Hi[Qi++]=$i,Hi[Qi++]=Ji,Hi[Qi++]=Yi,$i=e.id,Ji=e.overflow,Yi=t),(t=Mu(t,r.children)).flags|=4096,t)}(e,t,s,i,r,o,n);if(u){u=i.fallback,s=t.mode,r=(o=e.child).sibling;var c={mode:"hidden",children:i.children};return 0===(1&s)&&t.child!==o?((i=t.child).childLanes=0,i.pendingProps=c,t.deletions=null):(i=Rc(o,c)).subtreeFlags=14680064&o.subtreeFlags,null!==r?u=Rc(r,u):(u=Fc(u,s,n,null)).flags|=2,u.return=t,i.return=t,i.sibling=u,t.child=i,i=u,u=t.child,s=null===(s=e.child.memoizedState)?Lu(n):{baseLanes:s.baseLanes|n,cachePool:null,transitions:s.transitions},u.memoizedState=s,u.childLanes=e.childLanes&~n,t.memoizedState=Fu,i}return e=(u=e.child).sibling,i=Rc(u,{mode:"visible",children:i.children}),0===(1&t.mode)&&(i.lanes=n),i.return=t,i.sibling=null,null!==e&&(null===(n=t.deletions)?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=i,t.memoizedState=null,i}function Mu(e,t){return(t=Lc({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function Uu(e,t,n,r){return null!==r&&pa(r),$a(t,e.child,null,n),(e=Mu(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function Vu(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),xa(e.return,t,n)}function qu(e,t,n,r,i){var a=e.memoizedState;null===a?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=r,a.tail=n,a.tailMode=i)}function Bu(e,t,n){var r=t.pendingProps,i=r.revealOrder,a=r.tail;if(wu(e,t,r.children,n),0!==(2&(r=uo.current)))r=1&r|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Vu(e,n,t);else if(19===e.tag)Vu(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Ii(uo,r),0===(1&t.mode))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===so(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),qu(t,!1,i,n,a);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===so(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}qu(t,!0,n,null,a);break;case"together":qu(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function zu(e,t){0===(1&t.mode)&&null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Wu(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Ls|=t.lanes,0===(n&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(a(153));if(null!==t.child){for(n=Rc(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Rc(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function Ku(e,t){if(!ia)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Gu(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=14680064&i.subtreeFlags,r|=14680064&i.flags,i.return=e,i=i.sibling;else for(i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Hu(e,t,n){var r=t.pendingProps;switch(ta(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Gu(t),null;case 1:case 17:return Pi(t.type)&&Ri(),Gu(t),null;case 3:return r=t.stateNode,io(),Si(Ni),Si(Ci),lo(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(fa(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,null!==aa&&(oc(aa),aa=null))),Gu(t),null;case 5:oo(t);var i=no(to.current);if(n=t.type,null!==e&&null!=t.stateNode)Ru(e,t,n,r),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(null===t.stateNode)throw Error(a(166));return Gu(t),null}if(e=no(Za.current),fa(t)){r=t.stateNode,n=t.type;var o=t.memoizedProps;switch(r[hi]=t,r[di]=o,e=0!==(1&t.mode),n){case"dialog":Ur("cancel",r),Ur("close",r);break;case"iframe":case"object":case"embed":Ur("load",r);break;case"video":case"audio":for(i=0;i<Fr.length;i++)Ur(Fr[i],r);break;case"source":Ur("error",r);break;case"img":case"image":case"link":Ur("error",r),Ur("load",r);break;case"details":Ur("toggle",r);break;case"input":$(r,o),Ur("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},Ur("invalid",r);break;case"textarea":ie(r,o),Ur("invalid",r)}for(var s in ge(n,o),i=null,o)if(o.hasOwnProperty(s)){var c=o[s];"children"===s?"string"===typeof c?r.textContent!==c&&(!0!==o.suppressHydrationWarning&&Xr(r.textContent,c,e),i=["children",c]):"number"===typeof c&&r.textContent!==""+c&&(!0!==o.suppressHydrationWarning&&Xr(r.textContent,c,e),i=["children",""+c]):u.hasOwnProperty(s)&&null!=c&&"onScroll"===s&&Ur("scroll",r)}switch(n){case"input":G(r),Z(r,o,!0);break;case"textarea":G(r),oe(r);break;case"select":case"option":break;default:"function"===typeof o.onClick&&(r.onclick=Zr)}r=i,t.updateQueue=r,null!==r&&(t.flags|=4)}else{s=9===i.nodeType?i:i.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=ue(n)),"http://www.w3.org/1999/xhtml"===e?"script"===n?((e=s.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof r.is?e=s.createElement(n,{is:r.is}):(e=s.createElement(n),"select"===n&&(s=e,r.multiple?s.multiple=!0:r.size&&(s.size=r.size))):e=s.createElementNS(e,n),e[hi]=t,e[di]=r,Pu(e,t),t.stateNode=e;e:{switch(s=ke(n,r),n){case"dialog":Ur("cancel",e),Ur("close",e),i=r;break;case"iframe":case"object":case"embed":Ur("load",e),i=r;break;case"video":case"audio":for(i=0;i<Fr.length;i++)Ur(Fr[i],e);i=r;break;case"source":Ur("error",e),i=r;break;case"img":case"image":case"link":Ur("error",e),Ur("load",e),i=r;break;case"details":Ur("toggle",e),i=r;break;case"input":$(e,r),i=Y(e,r),Ur("invalid",e);break;case"option":default:i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=j({},r,{value:void 0}),Ur("invalid",e);break;case"textarea":ie(e,r),i=re(e,r),Ur("invalid",e)}for(o in ge(n,i),c=i)if(c.hasOwnProperty(o)){var l=c[o];"style"===o?ye(e,l):"dangerouslySetInnerHTML"===o?null!=(l=l?l.__html:void 0)&&fe(e,l):"children"===o?"string"===typeof l?("textarea"!==n||""!==l)&&he(e,l):"number"===typeof l&&he(e,""+l):"suppressContentEditableWarning"!==o&&"suppressHydrationWarning"!==o&&"autoFocus"!==o&&(u.hasOwnProperty(o)?null!=l&&"onScroll"===o&&Ur("scroll",e):null!=l&&k(e,o,l,s))}switch(n){case"input":G(e),Z(e,r,!1);break;case"textarea":G(e),oe(e);break;case"option":null!=r.value&&e.setAttribute("value",""+W(r.value));break;case"select":e.multiple=!!r.multiple,null!=(o=r.value)?ne(e,!!r.multiple,o,!1):null!=r.defaultValue&&ne(e,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof i.onClick&&(e.onclick=Zr)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return Gu(t),null;case 6:if(e&&null!=t.stateNode)Du(0,t,e.memoizedProps,r);else{if("string"!==typeof r&&null===t.stateNode)throw Error(a(166));if(n=no(to.current),no(Za.current),fa(t)){if(r=t.stateNode,n=t.memoizedProps,r[hi]=t,(o=r.nodeValue!==n)&&null!==(e=na))switch(e.tag){case 3:Xr(r.nodeValue,n,0!==(1&e.mode));break;case 5:!0!==e.memoizedProps.suppressHydrationWarning&&Xr(r.nodeValue,n,0!==(1&e.mode))}o&&(t.flags|=4)}else(r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[hi]=t,t.stateNode=r}return Gu(t),null;case 13:if(Si(uo),r=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(ia&&null!==ra&&0!==(1&t.mode)&&0===(128&t.flags))ha(),da(),t.flags|=98560,o=!1;else if(o=fa(t),null!==r&&null!==r.dehydrated){if(null===e){if(!o)throw Error(a(318));if(!(o=null!==(o=t.memoizedState)?o.dehydrated:null))throw Error(a(317));o[hi]=t}else da(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;Gu(t),o=!1}else null!==aa&&(oc(aa),aa=null),o=!0;if(!o)return 65536&t.flags?t:null}return 0!==(128&t.flags)?(t.lanes=n,t):((r=null!==r)!==(null!==e&&null!==e.memoizedState)&&r&&(t.child.flags|=8192,0!==(1&t.mode)&&(null===e||0!==(1&uo.current)?0===Ds&&(Ds=3):vc())),null!==t.updateQueue&&(t.flags|=4),Gu(t),null);case 4:return io(),null===e&&Br(t.stateNode.containerInfo),Gu(t),null;case 10:return _a(t.type._context),Gu(t),null;case 19:if(Si(uo),null===(o=t.memoizedState))return Gu(t),null;if(r=0!==(128&t.flags),null===(s=o.rendering))if(r)Ku(o,!1);else{if(0!==Ds||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(s=so(e))){for(t.flags|=128,Ku(o,!1),null!==(r=s.updateQueue)&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;null!==n;)e=r,(o=n).flags&=14680066,null===(s=o.alternate)?(o.childLanes=0,o.lanes=e,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=s.childLanes,o.lanes=s.lanes,o.child=s.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=s.memoizedProps,o.memoizedState=s.memoizedState,o.updateQueue=s.updateQueue,o.type=s.type,e=s.dependencies,o.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Ii(uo,1&uo.current|2),t.child}e=e.sibling}null!==o.tail&&Je()>Bs&&(t.flags|=128,r=!0,Ku(o,!1),t.lanes=4194304)}else{if(!r)if(null!==(e=so(s))){if(t.flags|=128,r=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),Ku(o,!0),null===o.tail&&"hidden"===o.tailMode&&!s.alternate&&!ia)return Gu(t),null}else 2*Je()-o.renderingStartTime>Bs&&1073741824!==n&&(t.flags|=128,r=!0,Ku(o,!1),t.lanes=4194304);o.isBackwards?(s.sibling=t.child,t.child=s):(null!==(n=o.last)?n.sibling=s:t.child=s,o.last=s)}return null!==o.tail?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=Je(),t.sibling=null,n=uo.current,Ii(uo,r?1&n|2:1&n),t):(Gu(t),null);case 22:case 23:return fc(),r=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==r&&(t.flags|=8192),r&&0!==(1&t.mode)?0!==(1073741824&Ps)&&(Gu(t),6&t.subtreeFlags&&(t.flags|=8192)):Gu(t),null;case 24:case 25:return null}throw Error(a(156,t.tag))}function Qu(e,t){switch(ta(t),t.tag){case 1:return Pi(t.type)&&Ri(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return io(),Si(Ni),Si(Ci),lo(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 5:return oo(t),null;case 13:if(Si(uo),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(a(340));da()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return Si(uo),null;case 4:return io(),null;case 10:return _a(t.type._context),null;case 22:case 23:return fc(),null;default:return null}}Pu=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Ru=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,no(Za.current);var a,o=null;switch(n){case"input":i=Y(e,i),r=Y(e,r),o=[];break;case"select":i=j({},i,{value:void 0}),r=j({},r,{value:void 0}),o=[];break;case"textarea":i=re(e,i),r=re(e,r),o=[];break;default:"function"!==typeof i.onClick&&"function"===typeof r.onClick&&(e.onclick=Zr)}for(l in ge(n,r),n=null,i)if(!r.hasOwnProperty(l)&&i.hasOwnProperty(l)&&null!=i[l])if("style"===l){var s=i[l];for(a in s)s.hasOwnProperty(a)&&(n||(n={}),n[a]="")}else"dangerouslySetInnerHTML"!==l&&"children"!==l&&"suppressContentEditableWarning"!==l&&"suppressHydrationWarning"!==l&&"autoFocus"!==l&&(u.hasOwnProperty(l)?o||(o=[]):(o=o||[]).push(l,null));for(l in r){var c=r[l];if(s=null!=i?i[l]:void 0,r.hasOwnProperty(l)&&c!==s&&(null!=c||null!=s))if("style"===l)if(s){for(a in s)!s.hasOwnProperty(a)||c&&c.hasOwnProperty(a)||(n||(n={}),n[a]="");for(a in c)c.hasOwnProperty(a)&&s[a]!==c[a]&&(n||(n={}),n[a]=c[a])}else n||(o||(o=[]),o.push(l,n)),n=c;else"dangerouslySetInnerHTML"===l?(c=c?c.__html:void 0,s=s?s.__html:void 0,null!=c&&s!==c&&(o=o||[]).push(l,c)):"children"===l?"string"!==typeof c&&"number"!==typeof c||(o=o||[]).push(l,""+c):"suppressContentEditableWarning"!==l&&"suppressHydrationWarning"!==l&&(u.hasOwnProperty(l)?(null!=c&&"onScroll"===l&&Ur("scroll",e),o||s===c||(o=[])):(o=o||[]).push(l,c))}n&&(o=o||[]).push("style",n);var l=o;(t.updateQueue=l)&&(t.flags|=4)}},Du=function(e,t,n,r){n!==r&&(t.flags|=4)};var Yu=!1,$u=!1,Ju="function"===typeof WeakSet?WeakSet:Set,Xu=null;function Zu(e,t){var n=e.ref;if(null!==n)if("function"===typeof n)try{n(null)}catch(r){Ec(e,t,r)}else n.current=null}function es(e,t,n){try{n()}catch(r){Ec(e,t,r)}}var ts=!1;function ns(e,t,n){var r=t.updateQueue;if(null!==(r=null!==r?r.lastEffect:null)){var i=r=r.next;do{if((i.tag&e)===e){var a=i.destroy;i.destroy=void 0,void 0!==a&&es(t,n,a)}i=i.next}while(i!==r)}}function rs(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function is(e){var t=e.ref;if(null!==t){var n=e.stateNode;e.tag,e=n,"function"===typeof t?t(e):t.current=e}}function as(e){var t=e.alternate;null!==t&&(e.alternate=null,as(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&(delete t[hi],delete t[di],delete t[vi],delete t[yi],delete t[mi])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function os(e){return 5===e.tag||3===e.tag||4===e.tag}function us(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||os(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function ss(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=Zr));else if(4!==r&&null!==(e=e.child))for(ss(e,t,n),e=e.sibling;null!==e;)ss(e,t,n),e=e.sibling}function cs(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(cs(e,t,n),e=e.sibling;null!==e;)cs(e,t,n),e=e.sibling}var ls=null,fs=!1;function hs(e,t,n){for(n=n.child;null!==n;)ds(e,t,n),n=n.sibling}function ds(e,t,n){if(at&&"function"===typeof at.onCommitFiberUnmount)try{at.onCommitFiberUnmount(it,n)}catch(u){}switch(n.tag){case 5:$u||Zu(n,t);case 6:var r=ls,i=fs;ls=null,hs(e,t,n),fs=i,null!==(ls=r)&&(fs?(e=ls,n=n.stateNode,8===e.nodeType?e.parentNode.removeChild(n):e.removeChild(n)):ls.removeChild(n.stateNode));break;case 18:null!==ls&&(fs?(e=ls,n=n.stateNode,8===e.nodeType?si(e.parentNode,n):1===e.nodeType&&si(e,n),Bt(e)):si(ls,n.stateNode));break;case 4:r=ls,i=fs,ls=n.stateNode.containerInfo,fs=!0,hs(e,t,n),ls=r,fs=i;break;case 0:case 11:case 14:case 15:if(!$u&&(null!==(r=n.updateQueue)&&null!==(r=r.lastEffect))){i=r=r.next;do{var a=i,o=a.destroy;a=a.tag,void 0!==o&&(0!==(2&a)||0!==(4&a))&&es(n,t,o),i=i.next}while(i!==r)}hs(e,t,n);break;case 1:if(!$u&&(Zu(n,t),"function"===typeof(r=n.stateNode).componentWillUnmount))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(u){Ec(n,t,u)}hs(e,t,n);break;case 21:hs(e,t,n);break;case 22:1&n.mode?($u=(r=$u)||null!==n.memoizedState,hs(e,t,n),$u=r):hs(e,t,n);break;default:hs(e,t,n)}}function ps(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new Ju),t.forEach((function(t){var r=Cc.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}}function vs(e,t){var n=t.deletions;if(null!==n)for(var r=0;r<n.length;r++){var i=n[r];try{var o=e,u=t,s=u;e:for(;null!==s;){switch(s.tag){case 5:ls=s.stateNode,fs=!1;break e;case 3:case 4:ls=s.stateNode.containerInfo,fs=!0;break e}s=s.return}if(null===ls)throw Error(a(160));ds(o,u,i),ls=null,fs=!1;var c=i.alternate;null!==c&&(c.return=null),i.return=null}catch(l){Ec(i,t,l)}}if(12854&t.subtreeFlags)for(t=t.child;null!==t;)ys(t,e),t=t.sibling}function ys(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(vs(t,e),ms(e),4&r){try{ns(3,e,e.return),rs(3,e)}catch(y){Ec(e,e.return,y)}try{ns(5,e,e.return)}catch(y){Ec(e,e.return,y)}}break;case 1:vs(t,e),ms(e),512&r&&null!==n&&Zu(n,n.return);break;case 5:if(vs(t,e),ms(e),512&r&&null!==n&&Zu(n,n.return),32&e.flags){var i=e.stateNode;try{he(i,"")}catch(y){Ec(e,e.return,y)}}if(4&r&&null!=(i=e.stateNode)){var o=e.memoizedProps,u=null!==n?n.memoizedProps:o,s=e.type,c=e.updateQueue;if(e.updateQueue=null,null!==c)try{"input"===s&&"radio"===o.type&&null!=o.name&&J(i,o),ke(s,u);var l=ke(s,o);for(u=0;u<c.length;u+=2){var f=c[u],h=c[u+1];"style"===f?ye(i,h):"dangerouslySetInnerHTML"===f?fe(i,h):"children"===f?he(i,h):k(i,f,h,l)}switch(s){case"input":X(i,o);break;case"textarea":ae(i,o);break;case"select":var d=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!o.multiple;var p=o.value;null!=p?ne(i,!!o.multiple,p,!1):d!==!!o.multiple&&(null!=o.defaultValue?ne(i,!!o.multiple,o.defaultValue,!0):ne(i,!!o.multiple,o.multiple?[]:"",!1))}i[di]=o}catch(y){Ec(e,e.return,y)}}break;case 6:if(vs(t,e),ms(e),4&r){if(null===e.stateNode)throw Error(a(162));i=e.stateNode,o=e.memoizedProps;try{i.nodeValue=o}catch(y){Ec(e,e.return,y)}}break;case 3:if(vs(t,e),ms(e),4&r&&null!==n&&n.memoizedState.isDehydrated)try{Bt(t.containerInfo)}catch(y){Ec(e,e.return,y)}break;case 4:default:vs(t,e),ms(e);break;case 13:vs(t,e),ms(e),8192&(i=e.child).flags&&(o=null!==i.memoizedState,i.stateNode.isHidden=o,!o||null!==i.alternate&&null!==i.alternate.memoizedState||(qs=Je())),4&r&&ps(e);break;case 22:if(f=null!==n&&null!==n.memoizedState,1&e.mode?($u=(l=$u)||f,vs(t,e),$u=l):vs(t,e),ms(e),8192&r){if(l=null!==e.memoizedState,(e.stateNode.isHidden=l)&&!f&&0!==(1&e.mode))for(Xu=e,f=e.child;null!==f;){for(h=Xu=f;null!==Xu;){switch(p=(d=Xu).child,d.tag){case 0:case 11:case 14:case 15:ns(4,d,d.return);break;case 1:Zu(d,d.return);var v=d.stateNode;if("function"===typeof v.componentWillUnmount){r=d,n=d.return;try{t=r,v.props=t.memoizedProps,v.state=t.memoizedState,v.componentWillUnmount()}catch(y){Ec(r,n,y)}}break;case 5:Zu(d,d.return);break;case 22:if(null!==d.memoizedState){ws(h);continue}}null!==p?(p.return=d,Xu=p):ws(h)}f=f.sibling}e:for(f=null,h=e;;){if(5===h.tag){if(null===f){f=h;try{i=h.stateNode,l?"function"===typeof(o=i.style).setProperty?o.setProperty("display","none","important"):o.display="none":(s=h.stateNode,u=void 0!==(c=h.memoizedProps.style)&&null!==c&&c.hasOwnProperty("display")?c.display:null,s.style.display=ve("display",u))}catch(y){Ec(e,e.return,y)}}}else if(6===h.tag){if(null===f)try{h.stateNode.nodeValue=l?"":h.memoizedProps}catch(y){Ec(e,e.return,y)}}else if((22!==h.tag&&23!==h.tag||null===h.memoizedState||h===e)&&null!==h.child){h.child.return=h,h=h.child;continue}if(h===e)break e;for(;null===h.sibling;){if(null===h.return||h.return===e)break e;f===h&&(f=null),h=h.return}f===h&&(f=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:vs(t,e),ms(e),4&r&&ps(e);case 21:}}function ms(e){var t=e.flags;if(2&t){try{e:{for(var n=e.return;null!==n;){if(os(n)){var r=n;break e}n=n.return}throw Error(a(160))}switch(r.tag){case 5:var i=r.stateNode;32&r.flags&&(he(i,""),r.flags&=-33),cs(e,us(e),i);break;case 3:case 4:var o=r.stateNode.containerInfo;ss(e,us(e),o);break;default:throw Error(a(161))}}catch(u){Ec(e,e.return,u)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function gs(e,t,n){Xu=e,ks(e,t,n)}function ks(e,t,n){for(var r=0!==(1&e.mode);null!==Xu;){var i=Xu,a=i.child;if(22===i.tag&&r){var o=null!==i.memoizedState||Yu;if(!o){var u=i.alternate,s=null!==u&&null!==u.memoizedState||$u;u=Yu;var c=$u;if(Yu=o,($u=s)&&!c)for(Xu=i;null!==Xu;)s=(o=Xu).child,22===o.tag&&null!==o.memoizedState?_s(i):null!==s?(s.return=o,Xu=s):_s(i);for(;null!==a;)Xu=a,ks(a,t,n),a=a.sibling;Xu=i,Yu=u,$u=c}bs(e)}else 0!==(8772&i.subtreeFlags)&&null!==a?(a.return=i,Xu=a):bs(e)}}function bs(e){for(;null!==Xu;){var t=Xu;if(0!==(8772&t.flags)){var n=t.alternate;try{if(0!==(8772&t.flags))switch(t.tag){case 0:case 11:case 15:$u||rs(5,t);break;case 1:var r=t.stateNode;if(4&t.flags&&!$u)if(null===n)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:ya(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=t.updateQueue;null!==o&&Ma(t,o,r);break;case 3:var u=t.updateQueue;if(null!==u){if(n=null,null!==t.child)switch(t.child.tag){case 5:case 1:n=t.child.stateNode}Ma(t,u,n)}break;case 5:var s=t.stateNode;if(null===n&&4&t.flags){n=s;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===t.memoizedState){var l=t.alternate;if(null!==l){var f=l.memoizedState;if(null!==f){var h=f.dehydrated;null!==h&&Bt(h)}}}break;default:throw Error(a(163))}$u||512&t.flags&&is(t)}catch(d){Ec(t,t.return,d)}}if(t===e){Xu=null;break}if(null!==(n=t.sibling)){n.return=t.return,Xu=n;break}Xu=t.return}}function ws(e){for(;null!==Xu;){var t=Xu;if(t===e){Xu=null;break}var n=t.sibling;if(null!==n){n.return=t.return,Xu=n;break}Xu=t.return}}function _s(e){for(;null!==Xu;){var t=Xu;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{rs(4,t)}catch(s){Ec(t,n,s)}break;case 1:var r=t.stateNode;if("function"===typeof r.componentDidMount){var i=t.return;try{r.componentDidMount()}catch(s){Ec(t,i,s)}}var a=t.return;try{is(t)}catch(s){Ec(t,a,s)}break;case 5:var o=t.return;try{is(t)}catch(s){Ec(t,o,s)}}}catch(s){Ec(t,t.return,s)}if(t===e){Xu=null;break}var u=t.sibling;if(null!==u){u.return=t.return,Xu=u;break}Xu=t.return}}var xs,Es=Math.ceil,Ss=b.ReactCurrentDispatcher,Is=b.ReactCurrentOwner,Ts=b.ReactCurrentBatchConfig,Cs=0,Ns=null,As=null,Os=0,Ps=0,Rs=Ei(0),Ds=0,Fs=null,Ls=0,js=0,Ms=0,Us=null,Vs=null,qs=0,Bs=1/0,zs=null,Ws=!1,Ks=null,Gs=null,Hs=!1,Qs=null,Ys=0,$s=0,Js=null,Xs=-1,Zs=0;function ec(){return 0!==(6&Cs)?Je():-1!==Xs?Xs:Xs=Je()}function tc(e){return 0===(1&e.mode)?1:0!==(2&Cs)&&0!==Os?Os&-Os:null!==va.transition?(0===Zs&&(Zs=vt()),Zs):0!==(e=kt)?e:e=void 0===(e=window.event)?16:$t(e.type)}function nc(e,t,n,r){if(50<$s)throw $s=0,Js=null,Error(a(185));mt(e,n,r),0!==(2&Cs)&&e===Ns||(e===Ns&&(0===(2&Cs)&&(js|=n),4===Ds&&uc(e,Os)),rc(e,r),1===n&&0===Cs&&0===(1&t.mode)&&(Bs=Je()+500,Ui&&Bi()))}function rc(e,t){var n=e.callbackNode;!function(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,a=e.pendingLanes;0<a;){var o=31-ot(a),u=1<<o,s=i[o];-1===s?0!==(u&n)&&0===(u&r)||(i[o]=dt(u,t)):s<=t&&(e.expiredLanes|=u),a&=~u}}(e,t);var r=ht(e,e===Ns?Os:0);if(0===r)null!==n&&Qe(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(null!=n&&Qe(n),1===t)0===e.tag?function(e){Ui=!0,qi(e)}(sc.bind(null,e)):qi(sc.bind(null,e)),oi((function(){0===(6&Cs)&&Bi()})),n=null;else{switch(bt(r)){case 1:n=Ze;break;case 4:n=et;break;case 16:default:n=tt;break;case 536870912:n=rt}n=Nc(n,ic.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function ic(e,t){if(Xs=-1,Zs=0,0!==(6&Cs))throw Error(a(327));var n=e.callbackNode;if(_c()&&e.callbackNode!==n)return null;var r=ht(e,e===Ns?Os:0);if(0===r)return null;if(0!==(30&r)||0!==(r&e.expiredLanes)||t)t=yc(e,r);else{t=r;var i=Cs;Cs|=2;var o=pc();for(Ns===e&&Os===t||(zs=null,Bs=Je()+500,hc(e,t));;)try{gc();break}catch(s){dc(e,s)}wa(),Ss.current=o,Cs=i,null!==As?t=0:(Ns=null,Os=0,t=Ds)}if(0!==t){if(2===t&&(0!==(i=pt(e))&&(r=i,t=ac(e,i))),1===t)throw n=Fs,hc(e,0),uc(e,r),rc(e,Je()),n;if(6===t)uc(e,r);else{if(i=e.current.alternate,0===(30&r)&&!function(e){for(var t=e;;){if(16384&t.flags){var n=t.updateQueue;if(null!==n&&null!==(n=n.stores))for(var r=0;r<n.length;r++){var i=n[r],a=i.getSnapshot;i=i.value;try{if(!ur(a(),i))return!1}catch(u){return!1}}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(i)&&(2===(t=yc(e,r))&&(0!==(o=pt(e))&&(r=o,t=ac(e,o))),1===t))throw n=Fs,hc(e,0),uc(e,r),rc(e,Je()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(a(345));case 2:case 5:wc(e,Vs,zs);break;case 3:if(uc(e,r),(130023424&r)===r&&10<(t=qs+500-Je())){if(0!==ht(e,0))break;if(((i=e.suspendedLanes)&r)!==r){ec(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=ri(wc.bind(null,e,Vs,zs),t);break}wc(e,Vs,zs);break;case 4:if(uc(e,r),(4194240&r)===r)break;for(t=e.eventTimes,i=-1;0<r;){var u=31-ot(r);o=1<<u,(u=t[u])>i&&(i=u),r&=~o}if(r=i,10<(r=(120>(r=Je()-r)?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Es(r/1960))-r)){e.timeoutHandle=ri(wc.bind(null,e,Vs,zs),r);break}wc(e,Vs,zs);break;default:throw Error(a(329))}}}return rc(e,Je()),e.callbackNode===n?ic.bind(null,e):null}function ac(e,t){var n=Us;return e.current.memoizedState.isDehydrated&&(hc(e,t).flags|=256),2!==(e=yc(e,t))&&(t=Vs,Vs=n,null!==t&&oc(t)),e}function oc(e){null===Vs?Vs=e:Vs.push.apply(Vs,e)}function uc(e,t){for(t&=~Ms,t&=~js,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-ot(t),r=1<<n;e[n]=-1,t&=~r}}function sc(e){if(0!==(6&Cs))throw Error(a(327));_c();var t=ht(e,0);if(0===(1&t))return rc(e,Je()),null;var n=yc(e,t);if(0!==e.tag&&2===n){var r=pt(e);0!==r&&(t=r,n=ac(e,r))}if(1===n)throw n=Fs,hc(e,0),uc(e,t),rc(e,Je()),n;if(6===n)throw Error(a(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,wc(e,Vs,zs),rc(e,Je()),null}function cc(e,t){var n=Cs;Cs|=1;try{return e(t)}finally{0===(Cs=n)&&(Bs=Je()+500,Ui&&Bi())}}function lc(e){null!==Qs&&0===Qs.tag&&0===(6&Cs)&&_c();var t=Cs;Cs|=1;var n=Ts.transition,r=kt;try{if(Ts.transition=null,kt=1,e)return e()}finally{kt=r,Ts.transition=n,0===(6&(Cs=t))&&Bi()}}function fc(){Ps=Rs.current,Si(Rs)}function hc(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,ii(n)),null!==As)for(n=As.return;null!==n;){var r=n;switch(ta(r),r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&Ri();break;case 3:io(),Si(Ni),Si(Ci),lo();break;case 5:oo(r);break;case 4:io();break;case 13:case 19:Si(uo);break;case 10:_a(r.type._context);break;case 22:case 23:fc()}n=n.return}if(Ns=e,As=e=Rc(e.current,null),Os=Ps=t,Ds=0,Fs=null,Ms=js=Ls=0,Vs=Us=null,null!==Ia){for(t=0;t<Ia.length;t++)if(null!==(r=(n=Ia[t]).interleaved)){n.interleaved=null;var i=r.next,a=n.pending;if(null!==a){var o=a.next;a.next=i,r.next=o}n.pending=r}Ia=null}return e}function dc(e,t){for(;;){var n=As;try{if(wa(),fo.current=ou,go){for(var r=vo.memoizedState;null!==r;){var i=r.queue;null!==i&&(i.pending=null),r=r.next}go=!1}if(po=0,mo=yo=vo=null,ko=!1,bo=0,Is.current=null,null===n||null===n.return){Ds=1,Fs=t,As=null;break}e:{var o=e,u=n.return,s=n,c=t;if(t=Os,s.flags|=32768,null!==c&&"object"===typeof c&&"function"===typeof c.then){var l=c,f=s,h=f.tag;if(0===(1&f.mode)&&(0===h||11===h||15===h)){var d=f.alternate;d?(f.updateQueue=d.updateQueue,f.memoizedState=d.memoizedState,f.lanes=d.lanes):(f.updateQueue=null,f.memoizedState=null)}var p=mu(u);if(null!==p){p.flags&=-257,gu(p,u,s,0,t),1&p.mode&&yu(o,l,t),c=l;var v=(t=p).updateQueue;if(null===v){var y=new Set;y.add(c),t.updateQueue=y}else v.add(c);break e}if(0===(1&t)){yu(o,l,t),vc();break e}c=Error(a(426))}else if(ia&&1&s.mode){var m=mu(u);if(null!==m){0===(65536&m.flags)&&(m.flags|=256),gu(m,u,s,0,t),pa(lu(c,s));break e}}o=c=lu(c,s),4!==Ds&&(Ds=2),null===Us?Us=[o]:Us.push(o),o=u;do{switch(o.tag){case 3:o.flags|=65536,t&=-t,o.lanes|=t,La(o,pu(0,c,t));break e;case 1:s=c;var g=o.type,k=o.stateNode;if(0===(128&o.flags)&&("function"===typeof g.getDerivedStateFromError||null!==k&&"function"===typeof k.componentDidCatch&&(null===Gs||!Gs.has(k)))){o.flags|=65536,t&=-t,o.lanes|=t,La(o,vu(o,s,t));break e}}o=o.return}while(null!==o)}bc(n)}catch(b){t=b,As===n&&null!==n&&(As=n=n.return);continue}break}}function pc(){var e=Ss.current;return Ss.current=ou,null===e?ou:e}function vc(){0!==Ds&&3!==Ds&&2!==Ds||(Ds=4),null===Ns||0===(268435455&Ls)&&0===(268435455&js)||uc(Ns,Os)}function yc(e,t){var n=Cs;Cs|=2;var r=pc();for(Ns===e&&Os===t||(zs=null,hc(e,t));;)try{mc();break}catch(i){dc(e,i)}if(wa(),Cs=n,Ss.current=r,null!==As)throw Error(a(261));return Ns=null,Os=0,Ds}function mc(){for(;null!==As;)kc(As)}function gc(){for(;null!==As&&!Ye();)kc(As)}function kc(e){var t=xs(e.alternate,e,Ps);e.memoizedProps=e.pendingProps,null===t?bc(e):As=t,Is.current=null}function bc(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(32768&t.flags)){if(null!==(n=Hu(n,t,Ps)))return void(As=n)}else{if(null!==(n=Qu(n,t)))return n.flags&=32767,void(As=n);if(null===e)return Ds=6,void(As=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}if(null!==(t=t.sibling))return void(As=t);As=t=e}while(null!==t);0===Ds&&(Ds=5)}function wc(e,t,n){var r=kt,i=Ts.transition;try{Ts.transition=null,kt=1,function(e,t,n,r){do{_c()}while(null!==Qs);if(0!==(6&Cs))throw Error(a(327));n=e.finishedWork;var i=e.finishedLanes;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(a(177));e.callbackNode=null,e.callbackPriority=0;var o=n.lanes|n.childLanes;if(function(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-ot(n),a=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~a}}(e,o),e===Ns&&(As=Ns=null,Os=0),0===(2064&n.subtreeFlags)&&0===(2064&n.flags)||Hs||(Hs=!0,Nc(tt,(function(){return _c(),null}))),o=0!==(15990&n.flags),0!==(15990&n.subtreeFlags)||o){o=Ts.transition,Ts.transition=null;var u=kt;kt=1;var s=Cs;Cs|=4,Is.current=null,function(e,t){if(ei=Wt,dr(e=hr())){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var i=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch(w){n=null;break e}var u=0,s=-1,c=-1,l=0,f=0,h=e,d=null;t:for(;;){for(var p;h!==n||0!==i&&3!==h.nodeType||(s=u+i),h!==o||0!==r&&3!==h.nodeType||(c=u+r),3===h.nodeType&&(u+=h.nodeValue.length),null!==(p=h.firstChild);)d=h,h=p;for(;;){if(h===e)break t;if(d===n&&++l===i&&(s=u),d===o&&++f===r&&(c=u),null!==(p=h.nextSibling))break;d=(h=d).parentNode}h=p}n=-1===s||-1===c?null:{start:s,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(ti={focusedElem:e,selectionRange:n},Wt=!1,Xu=t;null!==Xu;)if(e=(t=Xu).child,0!==(1028&t.subtreeFlags)&&null!==e)e.return=t,Xu=e;else for(;null!==Xu;){t=Xu;try{var v=t.alternate;if(0!==(1024&t.flags))switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==v){var y=v.memoizedProps,m=v.memoizedState,g=t.stateNode,k=g.getSnapshotBeforeUpdate(t.elementType===t.type?y:ya(t.type,y),m);g.__reactInternalSnapshotBeforeUpdate=k}break;case 3:var b=t.stateNode.containerInfo;1===b.nodeType?b.textContent="":9===b.nodeType&&b.documentElement&&b.removeChild(b.documentElement);break;default:throw Error(a(163))}}catch(w){Ec(t,t.return,w)}if(null!==(e=t.sibling)){e.return=t.return,Xu=e;break}Xu=t.return}v=ts,ts=!1}(e,n),ys(n,e),pr(ti),Wt=!!ei,ti=ei=null,e.current=n,gs(n,e,i),$e(),Cs=s,kt=u,Ts.transition=o}else e.current=n;if(Hs&&(Hs=!1,Qs=e,Ys=i),0===(o=e.pendingLanes)&&(Gs=null),function(e){if(at&&"function"===typeof at.onCommitFiberRoot)try{at.onCommitFiberRoot(it,e,void 0,128===(128&e.current.flags))}catch(t){}}(n.stateNode),rc(e,Je()),null!==t)for(r=e.onRecoverableError,n=0;n<t.length;n++)r((i=t[n]).value,{componentStack:i.stack,digest:i.digest});if(Ws)throw Ws=!1,e=Ks,Ks=null,e;0!==(1&Ys)&&0!==e.tag&&_c(),0!==(1&(o=e.pendingLanes))?e===Js?$s++:($s=0,Js=e):$s=0,Bi()}(e,t,n,r)}finally{Ts.transition=i,kt=r}return null}function _c(){if(null!==Qs){var e=bt(Ys),t=Ts.transition,n=kt;try{if(Ts.transition=null,kt=16>e?16:e,null===Qs)var r=!1;else{if(e=Qs,Qs=null,Ys=0,0!==(6&Cs))throw Error(a(331));var i=Cs;for(Cs|=4,Xu=e.current;null!==Xu;){var o=Xu,u=o.child;if(0!==(16&Xu.flags)){var s=o.deletions;if(null!==s){for(var c=0;c<s.length;c++){var l=s[c];for(Xu=l;null!==Xu;){var f=Xu;switch(f.tag){case 0:case 11:case 15:ns(8,f,o)}var h=f.child;if(null!==h)h.return=f,Xu=h;else for(;null!==Xu;){var d=(f=Xu).sibling,p=f.return;if(as(f),f===l){Xu=null;break}if(null!==d){d.return=p,Xu=d;break}Xu=p}}}var v=o.alternate;if(null!==v){var y=v.child;if(null!==y){v.child=null;do{var m=y.sibling;y.sibling=null,y=m}while(null!==y)}}Xu=o}}if(0!==(2064&o.subtreeFlags)&&null!==u)u.return=o,Xu=u;else e:for(;null!==Xu;){if(0!==(2048&(o=Xu).flags))switch(o.tag){case 0:case 11:case 15:ns(9,o,o.return)}var g=o.sibling;if(null!==g){g.return=o.return,Xu=g;break e}Xu=o.return}}var k=e.current;for(Xu=k;null!==Xu;){var b=(u=Xu).child;if(0!==(2064&u.subtreeFlags)&&null!==b)b.return=u,Xu=b;else e:for(u=k;null!==Xu;){if(0!==(2048&(s=Xu).flags))try{switch(s.tag){case 0:case 11:case 15:rs(9,s)}}catch(_){Ec(s,s.return,_)}if(s===u){Xu=null;break e}var w=s.sibling;if(null!==w){w.return=s.return,Xu=w;break e}Xu=s.return}}if(Cs=i,Bi(),at&&"function"===typeof at.onPostCommitFiberRoot)try{at.onPostCommitFiberRoot(it,e)}catch(_){}r=!0}return r}finally{kt=n,Ts.transition=t}}return!1}function xc(e,t,n){e=Da(e,t=pu(0,t=lu(n,t),1),1),t=ec(),null!==e&&(mt(e,1,t),rc(e,t))}function Ec(e,t,n){if(3===e.tag)xc(e,e,n);else for(;null!==t;){if(3===t.tag){xc(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===Gs||!Gs.has(r))){t=Da(t,e=vu(t,e=lu(n,e),1),1),e=ec(),null!==t&&(mt(t,1,e),rc(t,e));break}}t=t.return}}function Sc(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=ec(),e.pingedLanes|=e.suspendedLanes&n,Ns===e&&(Os&n)===n&&(4===Ds||3===Ds&&(130023424&Os)===Os&&500>Je()-qs?hc(e,0):Ms|=n),rc(e,t)}function Ic(e,t){0===t&&(0===(1&e.mode)?t=1:(t=lt,0===(130023424&(lt<<=1))&&(lt=4194304)));var n=ec();null!==(e=Na(e,t))&&(mt(e,t,n),rc(e,n))}function Tc(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),Ic(e,n)}function Cc(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;null!==i&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(a(314))}null!==r&&r.delete(t),Ic(e,n)}function Nc(e,t){return He(e,t)}function Ac(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Oc(e,t,n,r){return new Ac(e,t,n,r)}function Pc(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Rc(e,t){var n=e.alternate;return null===n?((n=Oc(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=14680064&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Dc(e,t,n,r,i,o){var u=2;if(r=e,"function"===typeof e)Pc(e)&&(u=1);else if("string"===typeof e)u=5;else e:switch(e){case x:return Fc(n.children,i,o,t);case E:u=8,i|=8;break;case S:return(e=Oc(12,n,t,2|i)).elementType=S,e.lanes=o,e;case N:return(e=Oc(13,n,t,i)).elementType=N,e.lanes=o,e;case A:return(e=Oc(19,n,t,i)).elementType=A,e.lanes=o,e;case R:return Lc(n,i,o,t);default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case I:u=10;break e;case T:u=9;break e;case C:u=11;break e;case O:u=14;break e;case P:u=16,r=null;break e}throw Error(a(130,null==e?e:typeof e,""))}return(t=Oc(u,n,t,i)).elementType=e,t.type=r,t.lanes=o,t}function Fc(e,t,n,r){return(e=Oc(7,e,r,t)).lanes=n,e}function Lc(e,t,n,r){return(e=Oc(22,e,r,t)).elementType=R,e.lanes=n,e.stateNode={isHidden:!1},e}function jc(e,t,n){return(e=Oc(6,e,null,t)).lanes=n,e}function Mc(e,t,n){return(t=Oc(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Uc(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=yt(0),this.expirationTimes=yt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=yt(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Vc(e,t,n,r,i,a,o,u,s){return e=new Uc(e,t,n,u,s),1===t?(t=1,!0===a&&(t|=8)):t=0,a=Oc(3,null,null,t),e.current=a,a.stateNode=e,a.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Oa(a),e}function qc(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:_,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}function Bc(e){if(!e)return Ti;e:{if(Be(e=e._reactInternals)!==e||1!==e.tag)throw Error(a(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Pi(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(a(171))}if(1===e.tag){var n=e.type;if(Pi(n))return Fi(e,n,t)}return t}function zc(e,t,n,r,i,a,o,u,s){return(e=Vc(n,r,!0,e,0,a,0,u,s)).context=Bc(null),n=e.current,(a=Ra(r=ec(),i=tc(n))).callback=void 0!==t&&null!==t?t:null,Da(n,a,i),e.current.lanes=i,mt(e,i,r),rc(e,r),e}function Wc(e,t,n,r){var i=t.current,a=ec(),o=tc(i);return n=Bc(n),null===t.context?t.context=n:t.pendingContext=n,(t=Ra(a,o)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),null!==(e=Da(i,t,o))&&(nc(e,i,o,a),Fa(e,i,o)),o}function Kc(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function Gc(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function Hc(e,t){Gc(e,t),(e=e.alternate)&&Gc(e,t)}xs=function(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps||Ni.current)bu=!0;else{if(0===(e.lanes&n)&&0===(128&t.flags))return bu=!1,function(e,t,n){switch(t.tag){case 3:Au(t),da();break;case 5:ao(t);break;case 1:Pi(t.type)&&Li(t);break;case 4:ro(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;Ii(ma,r._currentValue),r._currentValue=i;break;case 13:if(null!==(r=t.memoizedState))return null!==r.dehydrated?(Ii(uo,1&uo.current),t.flags|=128,null):0!==(n&t.child.childLanes)?ju(e,t,n):(Ii(uo,1&uo.current),null!==(e=Wu(e,t,n))?e.sibling:null);Ii(uo,1&uo.current);break;case 19:if(r=0!==(n&t.childLanes),0!==(128&e.flags)){if(r)return Bu(e,t,n);t.flags|=128}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),Ii(uo,uo.current),r)break;return null;case 22:case 23:return t.lanes=0,Su(e,t,n)}return Wu(e,t,n)}(e,t,n);bu=0!==(131072&e.flags)}else bu=!1,ia&&0!==(1048576&t.flags)&&Zi(t,Gi,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;zu(e,t),e=t.pendingProps;var i=Oi(t,Ci.current);Ea(t,n),i=Eo(null,t,r,e,i,n);var o=So();return t.flags|=1,"object"===typeof i&&null!==i&&"function"===typeof i.render&&void 0===i.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Pi(r)?(o=!0,Li(t)):o=!1,t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,Oa(t),i.updater=qa,t.stateNode=i,i._reactInternals=t,Ka(t,r,e,n),t=Nu(null,t,r,!0,o,n)):(t.tag=0,ia&&o&&ea(t),wu(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(zu(e,t),e=t.pendingProps,r=(i=r._init)(r._payload),t.type=r,i=t.tag=function(e){if("function"===typeof e)return Pc(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===C)return 11;if(e===O)return 14}return 2}(r),e=ya(r,e),i){case 0:t=Tu(null,t,r,e,n);break e;case 1:t=Cu(null,t,r,e,n);break e;case 11:t=_u(null,t,r,e,n);break e;case 14:t=xu(null,t,r,ya(r.type,e),n);break e}throw Error(a(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,Tu(e,t,r,i=t.elementType===r?i:ya(r,i),n);case 1:return r=t.type,i=t.pendingProps,Cu(e,t,r,i=t.elementType===r?i:ya(r,i),n);case 3:e:{if(Au(t),null===e)throw Error(a(387));r=t.pendingProps,i=(o=t.memoizedState).element,Pa(e,t),ja(t,r,null,n);var u=t.memoizedState;if(r=u.element,o.isDehydrated){if(o={element:r,isDehydrated:!1,cache:u.cache,pendingSuspenseBoundaries:u.pendingSuspenseBoundaries,transitions:u.transitions},t.updateQueue.baseState=o,t.memoizedState=o,256&t.flags){t=Ou(e,t,r,n,i=lu(Error(a(423)),t));break e}if(r!==i){t=Ou(e,t,r,n,i=lu(Error(a(424)),t));break e}for(ra=ci(t.stateNode.containerInfo.firstChild),na=t,ia=!0,aa=null,n=Ja(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(da(),r===i){t=Wu(e,t,n);break e}wu(e,t,r,n)}t=t.child}return t;case 5:return ao(t),null===e&&ca(t),r=t.type,i=t.pendingProps,o=null!==e?e.memoizedProps:null,u=i.children,ni(r,i)?u=null:null!==o&&ni(r,o)&&(t.flags|=32),Iu(e,t),wu(e,t,u,n),t.child;case 6:return null===e&&ca(t),null;case 13:return ju(e,t,n);case 4:return ro(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=$a(t,null,r,n):wu(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,_u(e,t,r,i=t.elementType===r?i:ya(r,i),n);case 7:return wu(e,t,t.pendingProps,n),t.child;case 8:case 12:return wu(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,o=t.memoizedProps,u=i.value,Ii(ma,r._currentValue),r._currentValue=u,null!==o)if(ur(o.value,u)){if(o.children===i.children&&!Ni.current){t=Wu(e,t,n);break e}}else for(null!==(o=t.child)&&(o.return=t);null!==o;){var s=o.dependencies;if(null!==s){u=o.child;for(var c=s.firstContext;null!==c;){if(c.context===r){if(1===o.tag){(c=Ra(-1,n&-n)).tag=2;var l=o.updateQueue;if(null!==l){var f=(l=l.shared).pending;null===f?c.next=c:(c.next=f.next,f.next=c),l.pending=c}}o.lanes|=n,null!==(c=o.alternate)&&(c.lanes|=n),xa(o.return,n,t),s.lanes|=n;break}c=c.next}}else if(10===o.tag)u=o.type===t.type?null:o.child;else if(18===o.tag){if(null===(u=o.return))throw Error(a(341));u.lanes|=n,null!==(s=u.alternate)&&(s.lanes|=n),xa(u,n,t),u=o.sibling}else u=o.child;if(null!==u)u.return=o;else for(u=o;null!==u;){if(u===t){u=null;break}if(null!==(o=u.sibling)){o.return=u.return,u=o;break}u=u.return}o=u}wu(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,Ea(t,n),r=r(i=Sa(i)),t.flags|=1,wu(e,t,r,n),t.child;case 14:return i=ya(r=t.type,t.pendingProps),xu(e,t,r,i=ya(r.type,i),n);case 15:return Eu(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:ya(r,i),zu(e,t),t.tag=1,Pi(r)?(e=!0,Li(t)):e=!1,Ea(t,n),za(t,r,i),Ka(t,r,i,n),Nu(null,t,r,!0,e,n);case 19:return Bu(e,t,n);case 22:return Su(e,t,n)}throw Error(a(156,t.tag))};var Qc="function"===typeof reportError?reportError:function(e){console.error(e)};function Yc(e){this._internalRoot=e}function $c(e){this._internalRoot=e}function Jc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function Xc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function Zc(){}function el(e,t,n,r,i){var a=n._reactRootContainer;if(a){var o=a;if("function"===typeof i){var u=i;i=function(){var e=Kc(o);u.call(e)}}Wc(t,o,e,i)}else o=function(e,t,n,r,i){if(i){if("function"===typeof r){var a=r;r=function(){var e=Kc(o);a.call(e)}}var o=zc(t,r,e,0,null,!1,0,"",Zc);return e._reactRootContainer=o,e[pi]=o.current,Br(8===e.nodeType?e.parentNode:e),lc(),o}for(;i=e.lastChild;)e.removeChild(i);if("function"===typeof r){var u=r;r=function(){var e=Kc(s);u.call(e)}}var s=Vc(e,0,!1,null,0,!1,0,"",Zc);return e._reactRootContainer=s,e[pi]=s.current,Br(8===e.nodeType?e.parentNode:e),lc((function(){Wc(t,s,n,r)})),s}(n,t,e,i,r);return Kc(o)}$c.prototype.render=Yc.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(a(409));Wc(e,t,null,null)},$c.prototype.unmount=Yc.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;lc((function(){Wc(null,e,null,null)})),t[pi]=null}},$c.prototype.unstable_scheduleHydration=function(e){if(e){var t=Et();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Rt.length&&0!==t&&t<Rt[n].priority;n++);Rt.splice(n,0,e),0===n&&jt(e)}},wt=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=ft(t.pendingLanes);0!==n&&(gt(t,1|n),rc(t,Je()),0===(6&Cs)&&(Bs=Je()+500,Bi()))}break;case 13:lc((function(){var t=Na(e,1);if(null!==t){var n=ec();nc(t,e,1,n)}})),Hc(e,1)}},_t=function(e){if(13===e.tag){var t=Na(e,134217728);if(null!==t)nc(t,e,134217728,ec());Hc(e,134217728)}},xt=function(e){if(13===e.tag){var t=tc(e),n=Na(e,t);if(null!==n)nc(n,e,t,ec());Hc(e,t)}},Et=function(){return kt},St=function(e,t){var n=kt;try{return kt=e,t()}finally{kt=n}},_e=function(e,t,n){switch(t){case"input":if(X(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=wi(r);if(!i)throw Error(a(90));H(r),X(r,i)}}}break;case"textarea":ae(e,n);break;case"select":null!=(t=n.value)&&ne(e,!!n.multiple,t,!1)}},Ce=cc,Ne=lc;var tl={usingClientEntryPoint:!1,Events:[ki,bi,wi,Ie,Te,cc]},nl={findFiberByHostInstance:gi,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},rl={bundleType:nl.bundleType,version:nl.version,rendererPackageName:nl.rendererPackageName,rendererConfig:nl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:b.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=Ke(e))?null:e.stateNode},findFiberByHostInstance:nl.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var il=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!il.isDisabled&&il.supportsFiber)try{it=il.inject(rl),at=il}catch(le){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=tl,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Jc(t))throw Error(a(200));return qc(e,t,null,n)},t.createRoot=function(e,t){if(!Jc(e))throw Error(a(299));var n=!1,r="",i=Qc;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(r=t.identifierPrefix),void 0!==t.onRecoverableError&&(i=t.onRecoverableError)),t=Vc(e,1,!1,null,0,n,0,r,i),e[pi]=t.current,Br(8===e.nodeType?e.parentNode:e),new Yc(t)},t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(a(188));throw e=Object.keys(e).join(","),Error(a(268,e))}return e=null===(e=Ke(t))?null:e.stateNode},t.flushSync=function(e){return lc(e)},t.hydrate=function(e,t,n){if(!Xc(t))throw Error(a(200));return el(null,e,t,!0,n)},t.hydrateRoot=function(e,t,n){if(!Jc(e))throw Error(a(405));var r=null!=n&&n.hydratedSources||null,i=!1,o="",u=Qc;if(null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(i=!0),void 0!==n.identifierPrefix&&(o=n.identifierPrefix),void 0!==n.onRecoverableError&&(u=n.onRecoverableError)),t=zc(t,null,e,1,null!=n?n:null,i,0,o,u),e[pi]=t.current,Br(e),r)for(e=0;e<r.length;e++)i=(i=(n=r[e])._getVersion)(n._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new $c(t)},t.render=function(e,t,n){if(!Xc(t))throw Error(a(200));return el(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!Xc(e))throw Error(a(40));return!!e._reactRootContainer&&(lc((function(){el(null,null,e,!1,(function(){e._reactRootContainer=null,e[pi]=null}))})),!0)},t.unstable_batchedUpdates=cc,t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Xc(n))throw Error(a(200));if(null==e||void 0===e._reactInternals)throw Error(a(38));return el(e,t,n,!1,r)},t.version="18.2.0-next-9e3b772b8-20220608"},1250:function(e,t,n){"use strict";var r=n(4164);t.createRoot=r.createRoot,t.hydrateRoot=r.hydrateRoot},4164:function(e,t,n){"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(4463)},77:function(e){"use strict";var t=Array.isArray,n=Object.keys,r=Object.prototype.hasOwnProperty,i="undefined"!==typeof Element;function a(e,o){if(e===o)return!0;if(e&&o&&"object"==typeof e&&"object"==typeof o){var u,s,c,l=t(e),f=t(o);if(l&&f){if((s=e.length)!=o.length)return!1;for(u=s;0!==u--;)if(!a(e[u],o[u]))return!1;return!0}if(l!=f)return!1;var h=e instanceof Date,d=o instanceof Date;if(h!=d)return!1;if(h&&d)return e.getTime()==o.getTime();var p=e instanceof RegExp,v=o instanceof RegExp;if(p!=v)return!1;if(p&&v)return e.toString()==o.toString();var y=n(e);if((s=y.length)!==n(o).length)return!1;for(u=s;0!==u--;)if(!r.call(o,y[u]))return!1;if(i&&e instanceof Element&&o instanceof Element)return e===o;for(u=s;0!==u--;)if(("_owner"!==(c=y[u])||!e.$$typeof)&&!a(e[c],o[c]))return!1;return!0}return e!==e&&o!==o}e.exports=function(e,t){try{return a(e,t)}catch(n){if(n.message&&n.message.match(/stack|recursion/i)||-2146828260===n.number)return console.warn("Warning: react-fast-compare does not handle circular references.",n.name,n.message),!1;throw n}}},8459:function(e,t){"use strict";var n,r=Symbol.for("react.element"),i=Symbol.for("react.portal"),a=Symbol.for("react.fragment"),o=Symbol.for("react.strict_mode"),u=Symbol.for("react.profiler"),s=Symbol.for("react.provider"),c=Symbol.for("react.context"),l=Symbol.for("react.server_context"),f=Symbol.for("react.forward_ref"),h=Symbol.for("react.suspense"),d=Symbol.for("react.suspense_list"),p=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),y=Symbol.for("react.offscreen");function m(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case r:switch(e=e.type){case a:case u:case o:case h:case d:return e;default:switch(e=e&&e.$$typeof){case l:case c:case f:case v:case p:case s:return e;default:return t}}case i:return t}}}n=Symbol.for("react.module.reference")},6900:function(e,t,n){"use strict";n(8459)},6374:function(e,t,n){"use strict";var r=n(2791),i=Symbol.for("react.element"),a=Symbol.for("react.fragment"),o=Object.prototype.hasOwnProperty,u=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,s={key:!0,ref:!0,__self:!0,__source:!0};function c(e,t,n){var r,a={},c=null,l=null;for(r in void 0!==n&&(c=""+n),void 0!==t.key&&(c=""+t.key),void 0!==t.ref&&(l=t.ref),t)o.call(t,r)&&!s.hasOwnProperty(r)&&(a[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===a[r]&&(a[r]=t[r]);return{$$typeof:i,type:e,key:c,ref:l,props:a,_owner:u.current}}t.jsx=c,t.jsxs=c},9117:function(e,t){"use strict";var n=Symbol.for("react.element"),r=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.provider"),s=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),l=Symbol.for("react.suspense"),f=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),d=Symbol.iterator;var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},v=Object.assign,y={};function m(e,t,n){this.props=e,this.context=t,this.refs=y,this.updater=n||p}function g(){}function k(e,t,n){this.props=e,this.context=t,this.refs=y,this.updater=n||p}m.prototype.isReactComponent={},m.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},m.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},g.prototype=m.prototype;var b=k.prototype=new g;b.constructor=k,v(b,m.prototype),b.isPureReactComponent=!0;var w=Array.isArray,_=Object.prototype.hasOwnProperty,x={current:null},E={key:!0,ref:!0,__self:!0,__source:!0};function S(e,t,r){var i,a={},o=null,u=null;if(null!=t)for(i in void 0!==t.ref&&(u=t.ref),void 0!==t.key&&(o=""+t.key),t)_.call(t,i)&&!E.hasOwnProperty(i)&&(a[i]=t[i]);var s=arguments.length-2;if(1===s)a.children=r;else if(1<s){for(var c=Array(s),l=0;l<s;l++)c[l]=arguments[l+2];a.children=c}if(e&&e.defaultProps)for(i in s=e.defaultProps)void 0===a[i]&&(a[i]=s[i]);return{$$typeof:n,type:e,key:o,ref:u,props:a,_owner:x.current}}function I(e){return"object"===typeof e&&null!==e&&e.$$typeof===n}var T=/\/+/g;function C(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function N(e,t,i,a,o){var u=typeof e;"undefined"!==u&&"boolean"!==u||(e=null);var s=!1;if(null===e)s=!0;else switch(u){case"string":case"number":s=!0;break;case"object":switch(e.$$typeof){case n:case r:s=!0}}if(s)return o=o(s=e),e=""===a?"."+C(s,0):a,w(o)?(i="",null!=e&&(i=e.replace(T,"$&/")+"/"),N(o,t,i,"",(function(e){return e}))):null!=o&&(I(o)&&(o=function(e,t){return{$$typeof:n,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(o,i+(!o.key||s&&s.key===o.key?"":(""+o.key).replace(T,"$&/")+"/")+e)),t.push(o)),1;if(s=0,a=""===a?".":a+":",w(e))for(var c=0;c<e.length;c++){var l=a+C(u=e[c],c);s+=N(u,t,i,l,o)}else if(l=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=d&&e[d]||e["@@iterator"])?e:null}(e),"function"===typeof l)for(e=l.call(e),c=0;!(u=e.next()).done;)s+=N(u=u.value,t,i,l=a+C(u,c++),o);else if("object"===u)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return s}function A(e,t,n){if(null==e)return e;var r=[],i=0;return N(e,r,"","",(function(e){return t.call(n,e,i++)})),r}function O(e){if(-1===e._status){var t=e._result;(t=t()).then((function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)}),(function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)})),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var P={current:null},R={transition:null},D={ReactCurrentDispatcher:P,ReactCurrentBatchConfig:R,ReactCurrentOwner:x};t.Children={map:A,forEach:function(e,t,n){A(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return A(e,(function(){t++})),t},toArray:function(e){return A(e,(function(e){return e}))||[]},only:function(e){if(!I(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=m,t.Fragment=i,t.Profiler=o,t.PureComponent=k,t.StrictMode=a,t.Suspense=l,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=D,t.cloneElement=function(e,t,r){if(null===e||void 0===e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var i=v({},e.props),a=e.key,o=e.ref,u=e._owner;if(null!=t){if(void 0!==t.ref&&(o=t.ref,u=x.current),void 0!==t.key&&(a=""+t.key),e.type&&e.type.defaultProps)var s=e.type.defaultProps;for(c in t)_.call(t,c)&&!E.hasOwnProperty(c)&&(i[c]=void 0===t[c]&&void 0!==s?s[c]:t[c])}var c=arguments.length-2;if(1===c)i.children=r;else if(1<c){s=Array(c);for(var l=0;l<c;l++)s[l]=arguments[l+2];i.children=s}return{$$typeof:n,type:e.type,key:a,ref:o,props:i,_owner:u}},t.createContext=function(e){return(e={$$typeof:s,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:u,_context:e},e.Consumer=e},t.createElement=S,t.createFactory=function(e){var t=S.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:c,render:e}},t.isValidElement=I,t.lazy=function(e){return{$$typeof:h,_payload:{_status:-1,_result:e},_init:O}},t.memo=function(e,t){return{$$typeof:f,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=R.transition;R.transition={};try{e()}finally{R.transition=t}},t.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")},t.useCallback=function(e,t){return P.current.useCallback(e,t)},t.useContext=function(e){return P.current.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e){return P.current.useDeferredValue(e)},t.useEffect=function(e,t){return P.current.useEffect(e,t)},t.useId=function(){return P.current.useId()},t.useImperativeHandle=function(e,t,n){return P.current.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return P.current.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return P.current.useLayoutEffect(e,t)},t.useMemo=function(e,t){return P.current.useMemo(e,t)},t.useReducer=function(e,t,n){return P.current.useReducer(e,t,n)},t.useRef=function(e){return P.current.useRef(e)},t.useState=function(e){return P.current.useState(e)},t.useSyncExternalStore=function(e,t,n){return P.current.useSyncExternalStore(e,t,n)},t.useTransition=function(){return P.current.useTransition()},t.version="18.2.0"},2791:function(e,t,n){"use strict";e.exports=n(9117)},184:function(e,t,n){"use strict";e.exports=n(6374)},6813:function(e,t){"use strict";function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,i=e[r];if(!(0<a(i,t)))break e;e[r]=t,e[n]=i,n=r}}function r(e){return 0===e.length?null:e[0]}function i(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length,o=i>>>1;r<o;){var u=2*(r+1)-1,s=e[u],c=u+1,l=e[c];if(0>a(s,n))c<i&&0>a(l,s)?(e[r]=l,e[c]=n,r=c):(e[r]=s,e[u]=n,r=u);else{if(!(c<i&&0>a(l,n)))break e;e[r]=l,e[c]=n,r=c}}}return t}function a(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if("object"===typeof performance&&"function"===typeof performance.now){var o=performance;t.unstable_now=function(){return o.now()}}else{var u=Date,s=u.now();t.unstable_now=function(){return u.now()-s}}var c=[],l=[],f=1,h=null,d=3,p=!1,v=!1,y=!1,m="function"===typeof setTimeout?setTimeout:null,g="function"===typeof clearTimeout?clearTimeout:null,k="undefined"!==typeof setImmediate?setImmediate:null;function b(e){for(var t=r(l);null!==t;){if(null===t.callback)i(l);else{if(!(t.startTime<=e))break;i(l),t.sortIndex=t.expirationTime,n(c,t)}t=r(l)}}function w(e){if(y=!1,b(e),!v)if(null!==r(c))v=!0,R(_);else{var t=r(l);null!==t&&D(w,t.startTime-e)}}function _(e,n){v=!1,y&&(y=!1,g(I),I=-1),p=!0;var a=d;try{for(b(n),h=r(c);null!==h&&(!(h.expirationTime>n)||e&&!N());){var o=h.callback;if("function"===typeof o){h.callback=null,d=h.priorityLevel;var u=o(h.expirationTime<=n);n=t.unstable_now(),"function"===typeof u?h.callback=u:h===r(c)&&i(c),b(n)}else i(c);h=r(c)}if(null!==h)var s=!0;else{var f=r(l);null!==f&&D(w,f.startTime-n),s=!1}return s}finally{h=null,d=a,p=!1}}"undefined"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var x,E=!1,S=null,I=-1,T=5,C=-1;function N(){return!(t.unstable_now()-C<T)}function A(){if(null!==S){var e=t.unstable_now();C=e;var n=!0;try{n=S(!0,e)}finally{n?x():(E=!1,S=null)}}else E=!1}if("function"===typeof k)x=function(){k(A)};else if("undefined"!==typeof MessageChannel){var O=new MessageChannel,P=O.port2;O.port1.onmessage=A,x=function(){P.postMessage(null)}}else x=function(){m(A,0)};function R(e){S=e,E||(E=!0,x())}function D(e,n){I=m((function(){e(t.unstable_now())}),n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){v||p||(v=!0,R(_))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):T=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return d},t.unstable_getFirstCallbackNode=function(){return r(c)},t.unstable_next=function(e){switch(d){case 1:case 2:case 3:var t=3;break;default:t=d}var n=d;d=t;try{return e()}finally{d=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=d;d=e;try{return t()}finally{d=n}},t.unstable_scheduleCallback=function(e,i,a){var o=t.unstable_now();switch("object"===typeof a&&null!==a?a="number"===typeof(a=a.delay)&&0<a?o+a:o:a=o,e){case 1:var u=-1;break;case 2:u=250;break;case 5:u=1073741823;break;case 4:u=1e4;break;default:u=5e3}return e={id:f++,callback:i,priorityLevel:e,startTime:a,expirationTime:u=a+u,sortIndex:-1},a>o?(e.sortIndex=a,n(l,e),null===r(c)&&e===r(l)&&(y?(g(I),I=-1):y=!0,D(w,a-o))):(e.sortIndex=u,n(c,e),v||p||(v=!0,R(_))),e},t.unstable_shouldYield=N,t.unstable_wrapCallback=function(e){var t=d;return function(){var n=d;d=t;try{return e.apply(this,arguments)}finally{d=n}}}},5296:function(e,t,n){"use strict";e.exports=n(6813)},6514:function(e){function t(e,t){var n=e.length,r=new Array(n),i={},a=n,o=function(e){for(var t=new Map,n=0,r=e.length;n<r;n++){var i=e[n];t.has(i[0])||t.set(i[0],new Set),t.has(i[1])||t.set(i[1],new Set),t.get(i[0]).add(i[1])}return t}(t),u=function(e){for(var t=new Map,n=0,r=e.length;n<r;n++)t.set(e[n],n);return t}(e);for(t.forEach((function(e){if(!u.has(e[0])||!u.has(e[1]))throw new Error("Unknown node. There is an unknown node in the supplied edges.")}));a--;)i[a]||s(e[a],a,new Set);return r;function s(e,t,a){if(a.has(e)){var c;try{c=", node was:"+JSON.stringify(e)}catch(h){c=""}throw new Error("Cyclic dependency"+c)}if(!u.has(e))throw new Error("Found unknown node. Make sure to provided all involved nodes. Unknown node: "+JSON.stringify(e));if(!i[t]){i[t]=!0;var l=o.get(e)||new Set;if(t=(l=Array.from(l)).length){a.add(e);do{var f=l[--t];s(f,u.get(f),a)}while(t);a.delete(e)}r[--n]=e}}}e.exports=function(e){return t(function(e){for(var t=new Set,n=0,r=e.length;n<r;n++){var i=e[n];t.add(i[0]),t.add(i[1])}return Array.from(t)}(e),e)},e.exports.array=t},1561:function(e,t,n){"use strict";var r=n(2791);var i="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t},a=r.useState,o=r.useEffect,u=r.useLayoutEffect,s=r.useDebugValue;function c(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!i(e,n)}catch(r){return!0}}var l="undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement?function(e,t){return t()}:function(e,t){var n=t(),r=a({inst:{value:n,getSnapshot:t}}),i=r[0].inst,l=r[1];return u((function(){i.value=n,i.getSnapshot=t,c(i)&&l({inst:i})}),[e,n,t]),o((function(){return c(i)&&l({inst:i}),e((function(){c(i)&&l({inst:i})}))}),[e]),s(n),n};t.useSyncExternalStore=void 0!==r.useSyncExternalStore?r.useSyncExternalStore:l},7595:function(e,t,n){"use strict";var r=n(2791),i=n(7248);var a="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t},o=i.useSyncExternalStore,u=r.useRef,s=r.useEffect,c=r.useMemo,l=r.useDebugValue;t.useSyncExternalStoreWithSelector=function(e,t,n,r,i){var f=u(null);if(null===f.current){var h={hasValue:!1,value:null};f.current=h}else h=f.current;f=c((function(){function e(e){if(!s){if(s=!0,o=e,e=r(e),void 0!==i&&h.hasValue){var t=h.value;if(i(t,e))return u=t}return u=e}if(t=u,a(o,e))return t;var n=r(e);return void 0!==i&&i(t,n)?t:(o=e,u=n)}var o,u,s=!1,c=void 0===n?null:n;return[function(){return e(t())},null===c?void 0:function(){return e(c())}]}),[t,n,r,i]);var d=o(e,f[0],f[1]);return s((function(){h.hasValue=!0,h.value=d}),[d]),l(d),d}},7248:function(e,t,n){"use strict";e.exports=n(1561)},327:function(e,t,n){"use strict";e.exports=n(7595)}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var a=t[r]={id:r,loaded:!1,exports:{}};return e[r](a,a.exports,n),a.loaded=!0,a.exports}n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,{a:t}),t},function(){var e,t=Object.getPrototypeOf?function(e){return Object.getPrototypeOf(e)}:function(e){return e.__proto__};n.t=function(r,i){if(1&i&&(r=this(r)),8&i)return r;if("object"===typeof r&&r){if(4&i&&r.__esModule)return r;if(16&i&&"function"===typeof r.then)return r}var a=Object.create(null);n.r(a);var o={};e=e||[null,t({}),t([]),t(t)];for(var u=2&i&&r;"object"==typeof u&&!~e.indexOf(u);u=t(u))Object.getOwnPropertyNames(u).forEach((function(e){o[e]=function(){return r[e]}}));return o.default=function(){return r},n.d(a,o),a}}(),n.d=function(e,t){for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.nmd=function(e){return e.paths=[],e.children||(e.children=[]),e},n.p="/hotSkins/",function(){"use strict";var e={};n.r(e),n.d(e,{FirebaseError:function(){return Ba},SDK_VERSION:function(){return lu},_DEFAULT_ENTRY_NAME:function(){return Jo},_addComponent:function(){return tu},_addOrOverwriteComponent:function(){return nu},_apps:function(){return Zo},_clearComponents:function(){return ou},_components:function(){return eu},_getProvider:function(){return iu},_registerComponent:function(){return ru},_removeServiceInstance:function(){return au},deleteApp:function(){return pu},getApp:function(){return hu},getApps:function(){return du},initializeApp:function(){return fu},onLog:function(){return mu},registerVersion:function(){return yu},setLogLevel:function(){return gu}});var t,r=n(2791),i=n.t(r,2),a=n(1250);function o(e){if(Array.isArray(e))return e}function u(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function s(e,t){if(e){if("string"===typeof e)return u(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?u(e,t):void 0}}function c(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function l(e,t){return o(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,a=[],o=!0,u=!1;try{for(n=n.call(e);!(o=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);o=!0);}catch(s){u=!0,i=s}finally{try{o||null==n.return||n.return()}finally{if(u)throw i}}return a}}(e,t)||s(e,t)||c()}function f(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function h(e){return function(e){if(Array.isArray(e))return u(e)}(e)||f(e)||s(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function d(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function p(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function v(e,t,n){return t&&p(e.prototype,t),n&&p(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function y(e,t){return y=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},y(e,t)}function m(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&y(e,t)}function g(e){return g=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},g(e)}function k(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function b(e){return b="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},b(e)}function w(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _(e,t){if(t&&("object"===b(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return w(e)}function x(e){var t=k();return function(){var n,r=g(e);if(t){var i=g(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return _(this,n)}}function E(e,t,n){return E=k()?Reflect.construct.bind():function(e,t,n){var r=[null];r.push.apply(r,t);var i=new(Function.bind.apply(e,r));return n&&y(i,n.prototype),i},E.apply(null,arguments)}function S(e){var t="function"===typeof Map?new Map:void 0;return S=function(e){if(null===e||!function(e){return-1!==Function.toString.call(e).indexOf("[native code]")}(e))return e;if("function"!==typeof e)throw new TypeError("Super expression must either be null or a function");if("undefined"!==typeof t){if(t.has(e))return t.get(e);t.set(e,n)}function n(){return E(e,arguments,g(this).constructor)}return n.prototype=Object.create(e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),y(n,e)},S(e)}function I(){return I=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},I.apply(this,arguments)}!function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"}(t||(t={}));var T,C="popstate";function N(e,t){if(!e){"undefined"!==typeof console&&console.warn(t);try{throw new Error(t)}catch(n){}}}function A(e){return{usr:e.state,key:e.key}}function O(e,t,n,r){return void 0===n&&(n=null),I({pathname:"string"===typeof e?e:e.pathname,search:"",hash:""},"string"===typeof t?R(t):t,{state:n,key:t&&t.key||r||Math.random().toString(36).substr(2,8)})}function P(e){var t=e.pathname,n=void 0===t?"/":t,r=e.search,i=void 0===r?"":r,a=e.hash,o=void 0===a?"":a;return i&&"?"!==i&&(n+="?"===i.charAt(0)?i:"?"+i),o&&"#"!==o&&(n+="#"===o.charAt(0)?o:"#"+o),n}function R(e){var t={};if(e){var n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));var r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function D(e,n,r,i){void 0===i&&(i={});var a=i,o=a.window,u=void 0===o?document.defaultView:o,s=a.v5Compat,c=void 0!==s&&s,l=u.history,f=t.Pop,h=null;function d(){f=t.Pop,h&&h({action:f,location:p.location})}var p={get action(){return f},get location(){return e(u,l)},listen:function(e){if(h)throw new Error("A history only accepts one active listener");return u.addEventListener(C,d),h=e,function(){u.removeEventListener(C,d),h=null}},createHref:function(e){return n(u,e)},push:function(e,n){f=t.Push;var i=O(p.location,e,n);r&&r(i,e);var a=A(i),o=p.createHref(i);try{l.pushState(a,"",o)}catch(PO){u.location.assign(o)}c&&h&&h({action:f,location:i})},replace:function(e,n){f=t.Replace;var i=O(p.location,e,n);r&&r(i,e);var a=A(i),o=p.createHref(i);l.replaceState(a,"",o),c&&h&&h({action:f,location:i})},go:function(e){return l.go(e)}};return p}function F(e,t,n){void 0===n&&(n="/");var r=B(("string"===typeof t?R(t):t).pathname||"/",n);if(null==r)return null;var i=L(e);!function(e){e.sort((function(e,t){return e.score!==t.score?t.score-e.score:function(e,t){var n=e.length===t.length&&e.slice(0,-1).every((function(e,n){return e===t[n]}));return n?e[e.length-1]-t[t.length-1]:0}(e.routesMeta.map((function(e){return e.childrenIndex})),t.routesMeta.map((function(e){return e.childrenIndex})))}))}(i);for(var a=null,o=0;null==a&&o<i.length;++o)a=V(i[o],r);return a}function L(e,t,n,r){return void 0===t&&(t=[]),void 0===n&&(n=[]),void 0===r&&(r=""),e.forEach((function(e,i){var a={relativePath:e.path||"",caseSensitive:!0===e.caseSensitive,childrenIndex:i,route:e};a.relativePath.startsWith("/")&&(z(a.relativePath.startsWith(r),'Absolute route path "'+a.relativePath+'" nested under path "'+r+'" is not valid. An absolute child route path must start with the combined path of all its parent routes.'),a.relativePath=a.relativePath.slice(r.length));var o=H([r,a.relativePath]),u=n.concat(a);e.children&&e.children.length>0&&(z(!0!==e.index,'Index routes must not have child routes. Please remove all child routes from route path "'+o+'".'),L(e.children,t,u,o)),(null!=e.path||e.index)&&t.push({path:o,score:U(o,e.index),routesMeta:u})})),t}!function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"}(T||(T={}));var j=/^:\w+$/,M=function(e){return"*"===e};function U(e,t){var n=e.split("/"),r=n.length;return n.some(M)&&(r+=-2),t&&(r+=2),n.filter((function(e){return!M(e)})).reduce((function(e,t){return e+(j.test(t)?3:""===t?1:10)}),r)}function V(e,t){for(var n=e.routesMeta,r={},i="/",a=[],o=0;o<n.length;++o){var u=n[o],s=o===n.length-1,c="/"===i?t:t.slice(i.length)||"/",l=q({path:u.relativePath,caseSensitive:u.caseSensitive,end:s},c);if(!l)return null;Object.assign(r,l.params);var f=u.route;a.push({params:r,pathname:H([i,l.pathname]),pathnameBase:Q(H([i,l.pathnameBase])),route:f}),"/"!==l.pathnameBase&&(i=H([i,l.pathnameBase]))}return a}function q(e,t){"string"===typeof e&&(e={path:e,caseSensitive:!1,end:!0});var n=function(e,t,n){void 0===t&&(t=!1);void 0===n&&(n=!0);W("*"===e||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were "'+e.replace(/\*$/,"/*")+'" because the `*` character must always follow a `/` in the pattern. To get rid of this warning, please change the route path to "'+e.replace(/\*$/,"/*")+'".');var r=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^$?{}|()[\]]/g,"\\$&").replace(/:(\w+)/g,(function(e,t){return r.push(t),"([^\\/]+)"}));e.endsWith("*")?(r.push("*"),i+="*"===e||"/*"===e?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":""!==e&&"/"!==e&&(i+="(?:(?=\\/|$))");return[new RegExp(i,t?void 0:"i"),r]}(e.path,e.caseSensitive,e.end),r=l(n,2),i=r[0],a=r[1],o=t.match(i);if(!o)return null;var u=o[0],s=u.replace(/(.)\/+$/,"$1"),c=o.slice(1),f=a.reduce((function(e,t,n){if("*"===t){var r=c[n]||"";s=u.slice(0,u.length-r.length).replace(/(.)\/+$/,"$1")}return e[t]=function(e,t){try{return decodeURIComponent(e)}catch(PO){return W(!1,'The value for the URL param "'+t+'" will not be decoded because the string "'+e+'" is a malformed URL segment. This is probably due to a bad percent encoding ('+PO+")."),e}}(c[n]||"",t),e}),{});return{params:f,pathname:u,pathnameBase:s,pattern:e}}function B(e,t){if("/"===t)return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;var n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&"/"!==r?null:e.slice(n)||"/"}function z(e,t){if(!1===e||null===e||"undefined"===typeof e)throw new Error(t)}function W(e,t){if(!e){"undefined"!==typeof console&&console.warn(t);try{throw new Error(t)}catch(n){}}}function K(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified `to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the `to."+n+'` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.'}function G(e,t,n,r){var i;void 0===r&&(r=!1),"string"===typeof e?i=R(e):(z(!(i=I({},e)).pathname||!i.pathname.includes("?"),K("?","pathname","search",i)),z(!i.pathname||!i.pathname.includes("#"),K("#","pathname","hash",i)),z(!i.search||!i.search.includes("#"),K("#","search","hash",i)));var a,o=""===e||""===i.pathname,u=o?"/":i.pathname;if(r||null==u)a=n;else{var s=t.length-1;if(u.startsWith("..")){for(var c=u.split("/");".."===c[0];)c.shift(),s-=1;i.pathname=c.join("/")}a=s>=0?t[s]:"/"}var l=function(e,t){void 0===t&&(t="/");var n="string"===typeof e?R(e):e,r=n.pathname,i=n.search,a=void 0===i?"":i,o=n.hash,u=void 0===o?"":o,s=r?r.startsWith("/")?r:function(e,t){var n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach((function(e){".."===e?n.length>1&&n.pop():"."!==e&&n.push(e)})),n.length>1?n.join("/"):"/"}(r,t):t;return{pathname:s,search:Y(a),hash:$(u)}}(i,a),f=u&&"/"!==u&&u.endsWith("/"),h=(o||"."===u)&&n.endsWith("/");return l.pathname.endsWith("/")||!f&&!h||(l.pathname+="/"),l}var H=function(e){return e.join("/").replace(/\/\/+/g,"/")},Q=function(e){return e.replace(/\/+$/,"").replace(/^\/*/,"/")},Y=function(e){return e&&"?"!==e?e.startsWith("?")?e:"?"+e:""},$=function(e){return e&&"#"!==e?e.startsWith("#")?e:"#"+e:""},J=function(e){m(n,e);var t=x(n);function n(){return d(this,n),t.apply(this,arguments)}return v(n)}(S(Error));var X=v((function e(t,n,r){d(this,e),this.status=t,this.statusText=n||"",this.data=r}));function Z(e){return e instanceof X}function ee(){return ee=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ee.apply(this,arguments)}var te="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t},ne=r.useState,re=r.useEffect,ie=r.useLayoutEffect,ae=r.useDebugValue;function oe(e){var t=e.getSnapshot,n=e.value;try{var r=t();return!te(n,r)}catch(PO){return!0}}"undefined"===typeof window||"undefined"===typeof window.document||window.document.createElement,function(e){e.useSyncExternalStore}(i);var ue=r.createContext(null);var se=r.createContext(null);var ce=r.createContext(null);var le=r.createContext(null);var fe=r.createContext(null);var he=r.createContext(null);var de=r.createContext({outlet:null,matches:[]});var pe=r.createContext(null);function ve(){return null!=r.useContext(he)}function ye(){return ve()||z(!1),r.useContext(he).location}function me(e){return e.filter((function(t,n){return 0===n||!t.route.index&&t.pathnameBase!==e[n-1].pathnameBase}))}function ge(){ve()||z(!1);var e=r.useContext(fe),t=e.basename,n=e.navigator,i=r.useContext(de).matches,a=ye().pathname,o=JSON.stringify(me(i).map((function(e){return e.pathnameBase}))),u=r.useRef(!1);r.useEffect((function(){u.current=!0}));var s=r.useCallback((function(e,r){if(void 0===r&&(r={}),u.current)if("number"!==typeof e){var i=G(e,JSON.parse(o),a,"path"===r.relative);"/"!==t&&(i.pathname="/"===i.pathname?t:H([t,i.pathname])),(r.replace?n.replace:n.push)(i,r.state,r)}else n.go(e)}),[t,n,o,a]);return s}var ke=r.createContext(null);function be(e,t){var n=(void 0===t?{}:t).relative,i=r.useContext(de).matches,a=ye().pathname,o=JSON.stringify(me(i).map((function(e){return e.pathnameBase})));return r.useMemo((function(){return G(e,JSON.parse(o),a,"path"===n)}),[e,o,a,n])}function we(){var e=function(){var e,t=r.useContext(pe),n=Te(xe.UseRouteError),i=r.useContext(de),a=i.matches[i.matches.length-1];if(t)return t;return i||z(!1),!a.route.id&&z(!1),null==(e=n.errors)?void 0:e[a.route.id]}(),t=Z(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,i="rgba(200,200,200, 0.5)",a={padding:"0.5rem",backgroundColor:i},o={padding:"2px 4px",backgroundColor:i};return r.createElement(r.Fragment,null,r.createElement("h2",null,"Unhandled Thrown Error!"),r.createElement("h3",{style:{fontStyle:"italic"}},t),n?r.createElement("pre",{style:a},n):null,r.createElement("p",null,"\ud83d\udcbf Hey developer \ud83d\udc4b"),r.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own\xa0",r.createElement("code",{style:o},"errorElement")," props on\xa0",r.createElement("code",{style:o},"<Route>")))}var _e,xe,Ee=function(e){m(n,e);var t=x(n);function n(e){var r;return d(this,n),(r=t.call(this,e)).state={location:e.location,error:e.error},r}return v(n,[{key:"componentDidCatch",value:function(e,t){console.error("React Router caught the following error during render",e,t)}},{key:"render",value:function(){return this.state.error?r.createElement(pe.Provider,{value:this.state.error,children:this.props.component}):this.props.children}}],[{key:"getDerivedStateFromError",value:function(e){return{error:e}}},{key:"getDerivedStateFromProps",value:function(e,t){return t.location!==e.location?{error:e.error,location:e.location}:{error:e.error||t.error,location:t.location}}}]),n}(r.Component);function Se(e){var t=e.routeContext,n=e.match,i=e.children,a=r.useContext(ue);return a&&n.route.errorElement&&(a._deepestRenderedBoundaryId=n.route.id),r.createElement(de.Provider,{value:t},i)}function Ie(e,t,n){if(void 0===t&&(t=[]),null==e){if(null==n||!n.errors)return null;e=n.matches}var i=e,a=null==n?void 0:n.errors;if(null!=a){var o=i.findIndex((function(e){return e.route.id&&(null==a?void 0:a[e.route.id])}));o>=0||z(!1),i=i.slice(0,Math.min(i.length,o+1))}return i.reduceRight((function(e,o,u){var s=o.route.id?null==a?void 0:a[o.route.id]:null,c=n?o.route.errorElement||r.createElement(we,null):null,l=function(){return r.createElement(Se,{match:o,routeContext:{outlet:e,matches:t.concat(i.slice(0,u+1))}},s?c:void 0!==o.route.element?o.route.element:e)};return n&&(o.route.errorElement||0===u)?r.createElement(Ee,{location:n.location,component:c,error:s,children:l()}):l()}),null)}function Te(e){var t=r.useContext(ce);return t||z(!1),t}!function(e){e.UseRevalidator="useRevalidator"}(_e||(_e={})),function(e){e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator"}(xe||(xe={}));var Ce;function Ne(e){var t=e.to,n=e.replace,i=e.state,a=e.relative;ve()||z(!1);var o=r.useContext(ce),u=ge();return r.useEffect((function(){o&&"idle"!==o.navigation.state||u(t,{replace:n,state:i,relative:a})})),null}function Ae(e){return function(e){var t=r.useContext(de).outlet;return t?r.createElement(ke.Provider,{value:e},t):t}(e.context)}function Oe(e){z(!1)}function Pe(e){var n=e.basename,i=void 0===n?"/":n,a=e.children,o=void 0===a?null:a,u=e.location,s=e.navigationType,c=void 0===s?t.Pop:s,l=e.navigator,f=e.static,h=void 0!==f&&f;ve()&&z(!1);var d=i.replace(/^\/*/,"/"),p=r.useMemo((function(){return{basename:d,navigator:l,static:h}}),[d,l,h]);"string"===typeof u&&(u=R(u));var v=u,y=v.pathname,m=void 0===y?"/":y,g=v.search,k=void 0===g?"":g,b=v.hash,w=void 0===b?"":b,_=v.state,x=void 0===_?null:_,E=v.key,S=void 0===E?"default":E,I=r.useMemo((function(){var e=B(m,d);return null==e?null:{pathname:e,search:k,hash:w,state:x,key:S}}),[d,m,k,w,x,S]);return null==I?null:r.createElement(fe.Provider,{value:p},r.createElement(he.Provider,{children:o,value:{location:I,navigationType:c}}))}function Re(e){var n=e.children,i=e.location,a=r.useContext(se);return function(e,n){ve()||z(!1);var i,a=r.useContext(ce),o=r.useContext(de).matches,u=o[o.length-1],s=u?u.params:{},c=(u&&u.pathname,u?u.pathnameBase:"/"),l=(u&&u.route,ye());if(n){var f,h="string"===typeof n?R(n):n;"/"===c||(null==(f=h.pathname)?void 0:f.startsWith(c))||z(!1),i=h}else i=l;var d=i.pathname||"/",p=F(e,{pathname:"/"===c?d:d.slice(c.length)||"/"}),v=Ie(p&&p.map((function(e){return Object.assign({},e,{params:Object.assign({},s,e.params),pathname:H([c,e.pathname]),pathnameBase:"/"===e.pathnameBase?c:H([c,e.pathnameBase])})})),o,a||void 0);return n?r.createElement(he.Provider,{value:{location:ee({pathname:"/",search:"",hash:"",state:null,key:"default"},i),navigationType:t.Pop}},v):v}(a&&!n?a.router.routes:Fe(n),i)}!function(e){e[e.pending=0]="pending",e[e.success=1]="success",e[e.error=2]="error"}(Ce||(Ce={}));var De=new Promise((function(){}));r.Component;function Fe(e,t){void 0===t&&(t=[]);var n=[];return r.Children.forEach(e,(function(e,i){if(r.isValidElement(e))if(e.type!==r.Fragment){e.type!==Oe&&z(!1),e.props.index&&e.props.children&&z(!1);var a=[].concat(h(t),[i]),o={id:e.props.id||a.join("-"),caseSensitive:e.props.caseSensitive,element:e.props.element,index:e.props.index,path:e.props.path,loader:e.props.loader,action:e.props.action,errorElement:e.props.errorElement,hasErrorBoundary:null!=e.props.errorElement,shouldRevalidate:e.props.shouldRevalidate,handle:e.props.handle};e.props.children&&(o.children=Fe(e.props.children,a)),n.push(o)}else n.push.apply(n,Fe(e.props.children,t))})),n}function Le(){return Le=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Le.apply(this,arguments)}function je(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}var Me=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset"];function Ue(e){var t,n=e.basename,i=e.children,a=e.window,o=r.useRef();null==o.current&&(o.current=(void 0===(t={window:a,v5Compat:!0})&&(t={}),D((function(e,t){var n=R(e.location.hash.substr(1)),r=n.pathname,i=void 0===r?"/":r,a=n.search,o=void 0===a?"":a,u=n.hash;return O("",{pathname:i,search:o,hash:void 0===u?"":u},t.state&&t.state.usr||null,t.state&&t.state.key||"default")}),(function(e,t){var n=e.document.querySelector("base"),r="";if(n&&n.getAttribute("href")){var i=e.location.href,a=i.indexOf("#");r=-1===a?i:i.slice(0,a)}return r+"#"+("string"===typeof t?t:P(t))}),(function(e,t){N("/"===e.pathname.charAt(0),"relative pathnames are not supported in hash history.push("+JSON.stringify(t)+")")}),t)));var u=o.current,s=l(r.useState({action:u.action,location:u.location}),2),c=s[0],f=s[1];return r.useLayoutEffect((function(){return u.listen(f)}),[u]),r.createElement(Pe,{basename:n,children:i,location:c.location,navigationType:c.action,navigator:u})}var Ve=r.forwardRef((function(e,t){var n=e.onClick,i=e.relative,a=e.reloadDocument,o=e.replace,u=e.state,s=e.target,c=e.to,l=e.preventScrollReset,f=je(e,Me),h=function(e,t){var n=(void 0===t?{}:t).relative;ve()||z(!1);var i=r.useContext(fe),a=i.basename,o=i.navigator,u=be(e,{relative:n}),s=u.hash,c=u.pathname,l=u.search,f=c;return"/"!==a&&(f="/"===c?a:H([a,c])),o.createHref({pathname:f,search:l,hash:s})}(c,{relative:i}),d=function(e,t){var n=void 0===t?{}:t,i=n.target,a=n.replace,o=n.state,u=n.preventScrollReset,s=n.relative,c=ge(),l=ye(),f=be(e,{relative:s});return r.useCallback((function(t){if(function(e,t){return 0===e.button&&(!t||"_self"===t)&&!function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(e)}(t,i)){t.preventDefault();var n=void 0!==a?a:P(l)===P(f);c(e,{replace:n,state:o,preventScrollReset:u,relative:s})}}),[l,c,f,a,o,i,e,u,s])}(c,{replace:o,state:u,target:s,preventScrollReset:l,relative:i});return r.createElement("a",Le({},f,{href:h,onClick:a?n:function(e){n&&n(e),e.defaultPrevented||d(e)},ref:t,target:s}))}));var qe,Be;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmitImpl="useSubmitImpl",e.UseFetcher="useFetcher"})(qe||(qe={})),function(e){e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"}(Be||(Be={}));var ze=n(184),We=function(){return(0,ze.jsx)("main",{className:"main",children:(0,ze.jsxs)("div",{className:"container container-transparent container-flex",children:[(0,ze.jsx)("div",{className:"title",children:(0,ze.jsx)("p",{children:"\u041e\u0442\u043a\u0440\u044b\u0432\u0430\u0439\u0442\u0435 \u043a\u0435\u0439\u0441\u044b \u043f\u043e\xa0\u0441\u0430\u043c\u044b\u043c \u043b\u0443\u0447\u0448\u0438\u043c \u0446\u0435\u043d\u0430\u043c\xa0!"})}),(0,ze.jsx)(Ve,{to:"/login",className:"btn btn-big",children:"\u0420\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u044f"})]})})};function Ke(){Ke=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,r="function"==typeof Symbol?Symbol:{},i=r.iterator||"@@iterator",a=r.asyncIterator||"@@asyncIterator",o=r.toStringTag||"@@toStringTag";function u(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(T){u=function(e,t,n){return e[t]=n}}function s(e,t,n,r){var i=t&&t.prototype instanceof f?t:f,a=Object.create(i.prototype),o=new E(r||[]);return a._invoke=function(e,t,n){var r="suspendedStart";return function(i,a){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===i)throw a;return I()}for(n.method=i,n.arg=a;;){var o=n.delegate;if(o){var u=w(o,n);if(u){if(u===l)continue;return u}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var s=c(e,t,n);if("normal"===s.type){if(r=n.done?"completed":"suspendedYield",s.arg===l)continue;return{value:s.arg,done:n.done}}"throw"===s.type&&(r="completed",n.method="throw",n.arg=s.arg)}}}(e,n,o),a}function c(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(T){return{type:"throw",arg:T}}}e.wrap=s;var l={};function f(){}function h(){}function d(){}var p={};u(p,i,(function(){return this}));var v=Object.getPrototypeOf,y=v&&v(v(S([])));y&&y!==t&&n.call(y,i)&&(p=y);var m=d.prototype=f.prototype=Object.create(p);function g(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function k(e,t){function r(i,a,o,u){var s=c(e[i],e,a);if("throw"!==s.type){var l=s.arg,f=l.value;return f&&"object"==b(f)&&n.call(f,"__await")?t.resolve(f.__await).then((function(e){r("next",e,o,u)}),(function(e){r("throw",e,o,u)})):t.resolve(f).then((function(e){l.value=e,o(l)}),(function(e){return r("throw",e,o,u)}))}u(s.arg)}var i;this._invoke=function(e,n){function a(){return new t((function(t,i){r(e,n,t,i)}))}return i=i?i.then(a,a):a()}}function w(e,t){var n=e.iterator[t.method];if(void 0===n){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,w(e,t),"throw"===t.method))return l;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return l}var r=c(n,e.iterator,t.arg);if("throw"===r.type)return t.method="throw",t.arg=r.arg,t.delegate=null,l;var i=r.arg;return i?i.done?(t[e.resultName]=i.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,l):i:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,l)}function _(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function x(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function E(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(_,this),this.reset(!0)}function S(e){if(e){var t=e[i];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,a=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:I}}function I(){return{value:void 0,done:!0}}return h.prototype=d,u(m,"constructor",d),u(d,"constructor",h),h.displayName=u(d,o,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,d):(e.__proto__=d,u(e,o,"GeneratorFunction")),e.prototype=Object.create(m),e},e.awrap=function(e){return{__await:e}},g(k.prototype),u(k.prototype,a,(function(){return this})),e.AsyncIterator=k,e.async=function(t,n,r,i,a){void 0===a&&(a=Promise);var o=new k(s(t,n,r,i),a);return e.isGeneratorFunction(n)?o:o.next().then((function(e){return e.done?e.value:o.next()}))},g(m),u(m,o,"Generator"),u(m,i,(function(){return this})),u(m,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var r=t.pop();if(r in e)return n.value=r,n.done=!1,n}return n.done=!0,n}},e.values=S,E.prototype={constructor:E,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(x),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return o.type="throw",o.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],o=a.completion;if("root"===a.tryLoc)return r("end");if(a.tryLoc<=this.prev){var u=n.call(a,"catchLoc"),s=n.call(a,"finallyLoc");if(u&&s){if(this.prev<a.catchLoc)return r(a.catchLoc,!0);if(this.prev<a.finallyLoc)return r(a.finallyLoc)}else if(u){if(this.prev<a.catchLoc)return r(a.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return r(a.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r];if(i.tryLoc<=this.prev&&n.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var a=i;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var o=a?a.completion:{};return o.type=e,o.arg=t,a?(this.method="next",this.next=a.finallyLoc,l):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),l},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),x(n),l}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;x(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:S(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),l}},e}function Ge(e,t,n,r,i,a,o){try{var u=e[a](o),s=u.value}catch(PO){return void n(PO)}u.done?t(s):Promise.resolve(s).then(r,i)}function He(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var a=e.apply(t,n);function o(e){Ge(a,r,i,o,u,"next",e)}function u(e){Ge(a,r,i,o,u,"throw",e)}o(void 0)}))}}var Qe="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAJUAAACHCAYAAAAfvBvfAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAArwSURBVHgB7Z3NbhvXFcfPDE3KbS2HQppFjQYdrboMDXRhZxOqXXVRSH0C0/sWsp4gVF9ANoqkS9FPEGVVtGkhelN0ValPoClSoEFsR0bjxNYHeXPO8I4yokVyPu69c+fO+QFjSgQjKNSf/3Pmf788qBhCiAAfOni15VMBuEeI1wt5HXqe9wIqhAeWgyIi8Wzg9YF8bEP9CPEa4vUpCmwPLMdaUUlHuofXA6inkGYR4kXCeoQCC8FCrBOVdKZNvPrAzCPEa4DC2gbLsEpUKKguPuyCm32SLkK81mxyLR8sAQX1IT7sAwsqKwFeR/j+PQBLsMKp8A3ZgUnvxBSjb0M5LN2ppEOxoNTQl+9nqZTqVPIN6AOjmh461mMoidJEJZvyfWB0QGHp7bKa91LKn4wNdoHRRanvb1k9FZW9ABiddMu6IzRe/mRSfgSMCagMrpoeOyzDqUq/O6kRVAaNv99GnQpdqgfcS5XBqsmm3bSoqOwFwJhmiKJaA0MYK38oKBokDoApg66McIxgxKlkc87jeuUSolutggFMORVHCOUT4Ie7DwbQ7lQcIViFkYjBhFPx3Z49GIkYtDoVRwjWQpP6hqAJ3aLiCMFOtEYM2sqfnNYSAGMjFDFsgCa0OJVszg+AV8HYTAiT6THKm3ZdTkUuxYKymwA0zbhV7lQcIVQKLZP5dDgVz+asDloiBqWikhFCAEyV6KkeF1RW/uQUYWrOA9DHEIqT3NzDBNEmG1CcLujD6CyG1FCEIPSipE/Dn7MvzKKkHRD6Uda0Kyl/YtKc94GpMh+KSbUpjKqeiqcIVx8SlBK3KiwqMWnyesC4wKasOoVQ4VQ8YOwOStYLFhKV4AjBRQpPPc4tKmmT3Eu5yQ4UoIhT8UIGd+kUiRhyiUq6FG//4za5I4a8TsVlz31yjwtmFpVsznvA1IEH+PfuZPxvcjkVu1S9yNy0ZxKV4FXGdSRzxJBaVNyc15rdLE37NUiPlQsZnn52p3vNb6yj6tujMTxpNFt7K2tDo/sx1YAAJobST/PiVPOphB1ThC/tBXD85zsBND0cUvC606+DRuv2LGHJqShdMIeSuUo0NwXKJfXq5rTlz6rxvWd/ubsBTf/gCkERwfj8lMu0eqj8pWraF4pKRghdsITjv93dbDS8T2DO7E3fjw5KYtSTaupxGqeyJkIgQaE7PVz4QgHB8X6Xl4jpYaEe5opKWLTKWJx/3U4lqJizbwJgdNCV1WsmM0Vl2xRhcf4yk/OMoJk5CWZSM3dccJ5TVTo593xgUekjgDmZ5ZWiki7Vgwrjg3gPGJ3MnHo8y6kcWGXsdblZ18rMiOGNRN2lKcKjs1PaLmcAFePLjzodf7LoFcQYwnd+fzgEO9mgiGF6A7VLopLNlzOzEBq+oLxqAJZztNNp32hCD/vAdU9AR3jfZ3BeA+D5x50Q7IX0Mkw+Me1Ujs1CmJRAW8cCn/6x04UmrPsjDBWlkMQVA2fC7r9JdLASutVF3HMhKldXGcshmz5YBIkJHYg+4V0YXy2kikERwyAeF0w6lZOT73wPNnHwebDy63+G8qktML9BRwSVueXr2NwK52bOxqub+/RNJCrZS22Am7Sh5dMH5j59g5+mQyiBZx937mG/9FAIZ3cYXAcpqjhSIEG5e/uNznD82Z0ulAC5EzbadOs9SDbgWfB+UPr56WnoxIPN8W+7Dq7j+bumc6v/7XSCm0uwLwrMmPVWroH/7nWoCFG1i0XVBfcJYHTyCRiCmvHWRFC5hos8bAb9Wy3w32lBhfiA/vHlEpyaJM8YMfz9fe03JM8/6mzi3d1+3ijAW0JB/ew6eDeyzPa2AiqBbfqtA6gTAvooLFj51T+2QTHUP91swQ72Tj3ISVTuquVO0wRU/gKoEOJMgDgZR48wzjlteyIspY715U6ng/3TQV5BRe707lLVBUUE5FTVKH0j1NDRq4mYEnhL+Ln4oY+looF3SY30Py8S1t02+EvbRRP353/qYPgH/TwSp94JyJ3eboIjtKtTtNGVpgVFkGsBOdfxOUDTi/443s2U/1vCewCj0w0MR9cS4WhqqBn3G1juRM5mPBaTX/1IPUnlOsG5oOjGX5yidZxlEVcATf8Iy2EfTseP04grOcyS1Z0iZ3qrAX67GX0IXITedSsHWwuRR1xYvlBcvWd/fX+7MRoPp8WVnEkAOSIYjwSEv4eP7uSaM03xwk1RxSTE1fjp9TTOEDR82AXff4HOtTf+6vTf4tn5ezi80s0TD0RCol4va79XbSJRDcF1UFwjbPK9m1h23m6lEVebhnb8FXztW00Q3+Jdwivs3V6PJ3ecZzR57vvC58U/r4U3DS1vcvOAIvIcLW8LOLxGJyhhYEVu5XwAKv4/gtGr19maeSxVFEJ6N4BZzCFNf4mHaUoZuS8FWRLHX5xEXzNKeUL/xB/XT6Ee43/gL/9k8gXqSXyFEcSP0bV+pO8mWIy+xijkJdSEPfonfjcHUJPTRJd/+Qe4dusXYIrz4wN4+a/fQQ0I4wUQUfmT00AfA8Pk52IsNTn7K/0+BQxzmRASKcKFqOQ5uspH7plasJ08h3l6niq5lbthaFUZW32XSr3UIPnEJVHJ3ordyiYouP38NVjM1vQTb8yol4sC65Nb2QwJ6r8oqBNrnYrW+u1NPzlrmcYWMKUiXmH6/5/Xtge0V1a1K0Ul84YhMKVAc8PGn5/Y3ktdas6TzFtQRosvuWk3CLkTiWn89BQsJ4Q5G5/MFJVU4SNgtHMhJrzo6wow06WIRUtfOWLQQLR445vzyJFo3n2FxES8ESFMM3cklSIGIQQ17VZtzl8lIhdC4Vx8X/2ZEb9d9IKFi/SlKofA5CZypjPhgqAGaTY4SbvzAweiDJFKB6lEJSMGnsVQb+Y250my7FFDO5dw015PqDnvp31xalHJcUGOGOpJpvYn625aFDGEwNSJw0URwjSZRCXd6j4wdWJhhDBN5n3/eFywVgzSNudJ8m4mybMY3CeEnFFSLlHJAIybdrd5nMeliCLb3vaBIwZXyRQhTJNbVDz12GkK/V0LbdAtpx6HwLjEIGuEMI2KXd85YnCLwtWnsKg4YnCKQd7mPImq8ynYrapPCIp6ZCXbncg9rugX0rbxvddahus//w0UZmkZTNJYvqXm99bPtgqXIpRt9SZP4jqC2pwe4RQUIayCIpQdz8QRQ6VROkKifFNKdCw6Kb4LTFWg5lxpT6xDVF182AemKqyq6qVilJ9OKCOGPWCqwLZqQRFa9mSWh3wfADftNhPidTs+TFslWs5R5dXNlWBbh6AIbbvHy4iB3CoAxjaURgjTaDvxmSMGq1kDjWg9RpxXN1vJQEdznkT74SkcMVgFVY/bukWl1akIXt1sFY90C4owcswTjwtagdbmPIl2pyJ4dbMVGLtpMnYgHUcMpTLED7bWO74kRk855Ka9NFZN9FIxRspfDE89LoWBSUERxs9jRbfqwKQMMvoJ8VozLSqjTkXw6majPDItKKKUk6M5YjCCsQhhGuNORciIIfMWNUwmjN3tTVOKqAjZtPOAsx62yih7MaWUvyRYCgf4cA8YVWwX2VxDBaWLimBhKaN0QRGllb8k+Eb0gEthUbZsEBRhhVPFoGP1YLLKOQAmLSFe92WPagVWiYqQiyb6wOVwEfEg/UNdc83zYp2oYlhcM7FWTDHWiipGiqsLE3HREE8dA1MSD62lfEKPtoopxnpRTSPHDgN5uSywECZiOiwzc8rDdyxN7F4scnXlAAAAAElFTkSuQmCC",Ye=n(77),$e=n.n(Ye),Je=function(e){return function(e){return!!e&&"object"===typeof e}(e)&&!function(e){var t=Object.prototype.toString.call(e);return"[object RegExp]"===t||"[object Date]"===t||function(e){return e.$$typeof===Xe}(e)}(e)};var Xe="function"===typeof Symbol&&Symbol.for?Symbol.for("react.element"):60103;function Ze(e,t){return!1!==t.clone&&t.isMergeableObject(e)?tt((n=e,Array.isArray(n)?[]:{}),e,t):e;var n}function et(e,t,n){return e.concat(t).map((function(e){return Ze(e,n)}))}function tt(e,t,n){(n=n||{}).arrayMerge=n.arrayMerge||et,n.isMergeableObject=n.isMergeableObject||Je;var r=Array.isArray(t);return r===Array.isArray(e)?r?n.arrayMerge(e,t,n):function(e,t,n){var r={};return n.isMergeableObject(e)&&Object.keys(e).forEach((function(t){r[t]=Ze(e[t],n)})),Object.keys(t).forEach((function(i){n.isMergeableObject(t[i])&&e[i]?r[i]=tt(e[i],t[i],n):r[i]=Ze(t[i],n)})),r}(e,t,n):Ze(t,n)}tt.all=function(e,t){if(!Array.isArray(e))throw new Error("first argument should be an array");return e.reduce((function(e,n){return tt(e,n,t)}),{})};var nt=tt,rt="object"==typeof global&&global&&global.Object===Object&&global,it="object"==typeof self&&self&&self.Object===Object&&self,at=rt||it||Function("return this")(),ot=at.Symbol,ut=Object.prototype,st=ut.hasOwnProperty,ct=ut.toString,lt=ot?ot.toStringTag:void 0;var ft=function(e){var t=st.call(e,lt),n=e[lt];try{e[lt]=void 0;var r=!0}catch(a){}var i=ct.call(e);return r&&(t?e[lt]=n:delete e[lt]),i},ht=Object.prototype.toString;var dt=function(e){return ht.call(e)},pt=ot?ot.toStringTag:void 0;var vt=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":pt&&pt in Object(e)?ft(e):dt(e)};var yt=function(e,t){return function(n){return e(t(n))}},mt=yt(Object.getPrototypeOf,Object);var gt=function(e){return null!=e&&"object"==typeof e},kt=Function.prototype,bt=Object.prototype,wt=kt.toString,_t=bt.hasOwnProperty,xt=wt.call(Object);var Et=function(e){if(!gt(e)||"[object Object]"!=vt(e))return!1;var t=mt(e);if(null===t)return!0;var n=_t.call(t,"constructor")&&t.constructor;return"function"==typeof n&&n instanceof n&&wt.call(n)==xt};var St=function(){this.__data__=[],this.size=0};var It=function(e,t){return e===t||e!==e&&t!==t};var Tt=function(e,t){for(var n=e.length;n--;)if(It(e[n][0],t))return n;return-1},Ct=Array.prototype.splice;var Nt=function(e){var t=this.__data__,n=Tt(t,e);return!(n<0)&&(n==t.length-1?t.pop():Ct.call(t,n,1),--this.size,!0)};var At=function(e){var t=this.__data__,n=Tt(t,e);return n<0?void 0:t[n][1]};var Ot=function(e){return Tt(this.__data__,e)>-1};var Pt=function(e,t){var n=this.__data__,r=Tt(n,e);return r<0?(++this.size,n.push([e,t])):n[r][1]=t,this};function Rt(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}Rt.prototype.clear=St,Rt.prototype.delete=Nt,Rt.prototype.get=At,Rt.prototype.has=Ot,Rt.prototype.set=Pt;var Dt=Rt;var Ft=function(){this.__data__=new Dt,this.size=0};var Lt=function(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n};var jt=function(e){return this.__data__.get(e)};var Mt=function(e){return this.__data__.has(e)};var Ut=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)};var Vt=function(e){if(!Ut(e))return!1;var t=vt(e);return"[object Function]"==t||"[object GeneratorFunction]"==t||"[object AsyncFunction]"==t||"[object Proxy]"==t},qt=at["__core-js_shared__"],Bt=function(){var e=/[^.]+$/.exec(qt&&qt.keys&&qt.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();var zt=function(e){return!!Bt&&Bt in e},Wt=Function.prototype.toString;var Kt=function(e){if(null!=e){try{return Wt.call(e)}catch(t){}try{return e+""}catch(t){}}return""},Gt=/^\[object .+?Constructor\]$/,Ht=Function.prototype,Qt=Object.prototype,Yt=Ht.toString,$t=Qt.hasOwnProperty,Jt=RegExp("^"+Yt.call($t).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");var Xt=function(e){return!(!Ut(e)||zt(e))&&(Vt(e)?Jt:Gt).test(Kt(e))};var Zt=function(e,t){return null==e?void 0:e[t]};var en=function(e,t){var n=Zt(e,t);return Xt(n)?n:void 0},tn=en(at,"Map"),nn=en(Object,"create");var rn=function(){this.__data__=nn?nn(null):{},this.size=0};var an=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t},on=Object.prototype.hasOwnProperty;var un=function(e){var t=this.__data__;if(nn){var n=t[e];return"__lodash_hash_undefined__"===n?void 0:n}return on.call(t,e)?t[e]:void 0},sn=Object.prototype.hasOwnProperty;var cn=function(e){var t=this.__data__;return nn?void 0!==t[e]:sn.call(t,e)};var ln=function(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=nn&&void 0===t?"__lodash_hash_undefined__":t,this};function fn(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}fn.prototype.clear=rn,fn.prototype.delete=an,fn.prototype.get=un,fn.prototype.has=cn,fn.prototype.set=ln;var hn=fn;var dn=function(){this.size=0,this.__data__={hash:new hn,map:new(tn||Dt),string:new hn}};var pn=function(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e};var vn=function(e,t){var n=e.__data__;return pn(t)?n["string"==typeof t?"string":"hash"]:n.map};var yn=function(e){var t=vn(this,e).delete(e);return this.size-=t?1:0,t};var mn=function(e){return vn(this,e).get(e)};var gn=function(e){return vn(this,e).has(e)};var kn=function(e,t){var n=vn(this,e),r=n.size;return n.set(e,t),this.size+=n.size==r?0:1,this};function bn(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}bn.prototype.clear=dn,bn.prototype.delete=yn,bn.prototype.get=mn,bn.prototype.has=gn,bn.prototype.set=kn;var wn=bn;var _n=function(e,t){var n=this.__data__;if(n instanceof Dt){var r=n.__data__;if(!tn||r.length<199)return r.push([e,t]),this.size=++n.size,this;n=this.__data__=new wn(r)}return n.set(e,t),this.size=n.size,this};function xn(e){var t=this.__data__=new Dt(e);this.size=t.size}xn.prototype.clear=Ft,xn.prototype.delete=Lt,xn.prototype.get=jt,xn.prototype.has=Mt,xn.prototype.set=_n;var En=xn;var Sn=function(e,t){for(var n=-1,r=null==e?0:e.length;++n<r&&!1!==t(e[n],n,e););return e},In=function(){try{var e=en(Object,"defineProperty");return e({},"",{}),e}catch(t){}}();var Tn=function(e,t,n){"__proto__"==t&&In?In(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n},Cn=Object.prototype.hasOwnProperty;var Nn=function(e,t,n){var r=e[t];Cn.call(e,t)&&It(r,n)&&(void 0!==n||t in e)||Tn(e,t,n)};var An=function(e,t,n,r){var i=!n;n||(n={});for(var a=-1,o=t.length;++a<o;){var u=t[a],s=r?r(n[u],e[u],u,n,e):void 0;void 0===s&&(s=e[u]),i?Tn(n,u,s):Nn(n,u,s)}return n};var On=function(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r};var Pn=function(e){return gt(e)&&"[object Arguments]"==vt(e)},Rn=Object.prototype,Dn=Rn.hasOwnProperty,Fn=Rn.propertyIsEnumerable,Ln=Pn(function(){return arguments}())?Pn:function(e){return gt(e)&&Dn.call(e,"callee")&&!Fn.call(e,"callee")},jn=Ln,Mn=Array.isArray;var Un=function(){return!1},Vn="object"==typeof exports&&exports&&!exports.nodeType&&exports,qn=Vn&&"object"==typeof module&&module&&!module.nodeType&&module,Bn=qn&&qn.exports===Vn?at.Buffer:void 0,zn=(Bn?Bn.isBuffer:void 0)||Un,Wn=/^(?:0|[1-9]\d*)$/;var Kn=function(e,t){var n=typeof e;return!!(t=null==t?9007199254740991:t)&&("number"==n||"symbol"!=n&&Wn.test(e))&&e>-1&&e%1==0&&e<t};var Gn=function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=9007199254740991},Hn={};Hn["[object Float32Array]"]=Hn["[object Float64Array]"]=Hn["[object Int8Array]"]=Hn["[object Int16Array]"]=Hn["[object Int32Array]"]=Hn["[object Uint8Array]"]=Hn["[object Uint8ClampedArray]"]=Hn["[object Uint16Array]"]=Hn["[object Uint32Array]"]=!0,Hn["[object Arguments]"]=Hn["[object Array]"]=Hn["[object ArrayBuffer]"]=Hn["[object Boolean]"]=Hn["[object DataView]"]=Hn["[object Date]"]=Hn["[object Error]"]=Hn["[object Function]"]=Hn["[object Map]"]=Hn["[object Number]"]=Hn["[object Object]"]=Hn["[object RegExp]"]=Hn["[object Set]"]=Hn["[object String]"]=Hn["[object WeakMap]"]=!1;var Qn=function(e){return gt(e)&&Gn(e.length)&&!!Hn[vt(e)]};var Yn=function(e){return function(t){return e(t)}},$n="object"==typeof exports&&exports&&!exports.nodeType&&exports,Jn=$n&&"object"==typeof module&&module&&!module.nodeType&&module,Xn=Jn&&Jn.exports===$n&&rt.process,Zn=function(){try{var e=Jn&&Jn.require&&Jn.require("util").types;return e||Xn&&Xn.binding&&Xn.binding("util")}catch(t){}}(),er=Zn&&Zn.isTypedArray,tr=er?Yn(er):Qn,nr=Object.prototype.hasOwnProperty;var rr=function(e,t){var n=Mn(e),r=!n&&jn(e),i=!n&&!r&&zn(e),a=!n&&!r&&!i&&tr(e),o=n||r||i||a,u=o?On(e.length,String):[],s=u.length;for(var c in e)!t&&!nr.call(e,c)||o&&("length"==c||i&&("offset"==c||"parent"==c)||a&&("buffer"==c||"byteLength"==c||"byteOffset"==c)||Kn(c,s))||u.push(c);return u},ir=Object.prototype;var ar=function(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||ir)},or=yt(Object.keys,Object),ur=Object.prototype.hasOwnProperty;var sr=function(e){if(!ar(e))return or(e);var t=[];for(var n in Object(e))ur.call(e,n)&&"constructor"!=n&&t.push(n);return t};var cr=function(e){return null!=e&&Gn(e.length)&&!Vt(e)};var lr=function(e){return cr(e)?rr(e):sr(e)};var fr=function(e,t){return e&&An(t,lr(t),e)};var hr=function(e){var t=[];if(null!=e)for(var n in Object(e))t.push(n);return t},dr=Object.prototype.hasOwnProperty;var pr=function(e){if(!Ut(e))return hr(e);var t=ar(e),n=[];for(var r in e)("constructor"!=r||!t&&dr.call(e,r))&&n.push(r);return n};var vr=function(e){return cr(e)?rr(e,!0):pr(e)};var yr=function(e,t){return e&&An(t,vr(t),e)},mr="object"==typeof exports&&exports&&!exports.nodeType&&exports,gr=mr&&"object"==typeof module&&module&&!module.nodeType&&module,kr=gr&&gr.exports===mr?at.Buffer:void 0,br=kr?kr.allocUnsafe:void 0;var wr=function(e,t){if(t)return e.slice();var n=e.length,r=br?br(n):new e.constructor(n);return e.copy(r),r};var _r=function(e,t){var n=-1,r=e.length;for(t||(t=Array(r));++n<r;)t[n]=e[n];return t};var xr=function(e,t){for(var n=-1,r=null==e?0:e.length,i=0,a=[];++n<r;){var o=e[n];t(o,n,e)&&(a[i++]=o)}return a};var Er=function(){return[]},Sr=Object.prototype.propertyIsEnumerable,Ir=Object.getOwnPropertySymbols,Tr=Ir?function(e){return null==e?[]:(e=Object(e),xr(Ir(e),(function(t){return Sr.call(e,t)})))}:Er,Cr=Tr;var Nr=function(e,t){return An(e,Cr(e),t)};var Ar=function(e,t){for(var n=-1,r=t.length,i=e.length;++n<r;)e[i+n]=t[n];return e},Or=Object.getOwnPropertySymbols?function(e){for(var t=[];e;)Ar(t,Cr(e)),e=mt(e);return t}:Er,Pr=Or;var Rr=function(e,t){return An(e,Pr(e),t)};var Dr=function(e,t,n){var r=t(e);return Mn(e)?r:Ar(r,n(e))};var Fr=function(e){return Dr(e,lr,Cr)};var Lr=function(e){return Dr(e,vr,Pr)},jr=en(at,"DataView"),Mr=en(at,"Promise"),Ur=en(at,"Set"),Vr=en(at,"WeakMap"),qr="[object Map]",Br="[object Promise]",zr="[object Set]",Wr="[object WeakMap]",Kr="[object DataView]",Gr=Kt(jr),Hr=Kt(tn),Qr=Kt(Mr),Yr=Kt(Ur),$r=Kt(Vr),Jr=vt;(jr&&Jr(new jr(new ArrayBuffer(1)))!=Kr||tn&&Jr(new tn)!=qr||Mr&&Jr(Mr.resolve())!=Br||Ur&&Jr(new Ur)!=zr||Vr&&Jr(new Vr)!=Wr)&&(Jr=function(e){var t=vt(e),n="[object Object]"==t?e.constructor:void 0,r=n?Kt(n):"";if(r)switch(r){case Gr:return Kr;case Hr:return qr;case Qr:return Br;case Yr:return zr;case $r:return Wr}return t});var Xr=Jr,Zr=Object.prototype.hasOwnProperty;var ei=function(e){var t=e.length,n=new e.constructor(t);return t&&"string"==typeof e[0]&&Zr.call(e,"index")&&(n.index=e.index,n.input=e.input),n},ti=at.Uint8Array;var ni=function(e){var t=new e.constructor(e.byteLength);return new ti(t).set(new ti(e)),t};var ri=function(e,t){var n=t?ni(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.byteLength)},ii=/\w*$/;var ai=function(e){var t=new e.constructor(e.source,ii.exec(e));return t.lastIndex=e.lastIndex,t},oi=ot?ot.prototype:void 0,ui=oi?oi.valueOf:void 0;var si=function(e){return ui?Object(ui.call(e)):{}};var ci=function(e,t){var n=t?ni(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)};var li=function(e,t,n){var r=e.constructor;switch(t){case"[object ArrayBuffer]":return ni(e);case"[object Boolean]":case"[object Date]":return new r(+e);case"[object DataView]":return ri(e,n);case"[object Float32Array]":case"[object Float64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return ci(e,n);case"[object Map]":case"[object Set]":return new r;case"[object Number]":case"[object String]":return new r(e);case"[object RegExp]":return ai(e);case"[object Symbol]":return si(e)}},fi=Object.create,hi=function(){function e(){}return function(t){if(!Ut(t))return{};if(fi)return fi(t);e.prototype=t;var n=new e;return e.prototype=void 0,n}}(),di=hi;var pi=function(e){return"function"!=typeof e.constructor||ar(e)?{}:di(mt(e))};var vi=function(e){return gt(e)&&"[object Map]"==Xr(e)},yi=Zn&&Zn.isMap,mi=yi?Yn(yi):vi;var gi=function(e){return gt(e)&&"[object Set]"==Xr(e)},ki=Zn&&Zn.isSet,bi=ki?Yn(ki):gi,wi="[object Arguments]",_i="[object Function]",xi="[object Object]",Ei={};Ei[wi]=Ei["[object Array]"]=Ei["[object ArrayBuffer]"]=Ei["[object DataView]"]=Ei["[object Boolean]"]=Ei["[object Date]"]=Ei["[object Float32Array]"]=Ei["[object Float64Array]"]=Ei["[object Int8Array]"]=Ei["[object Int16Array]"]=Ei["[object Int32Array]"]=Ei["[object Map]"]=Ei["[object Number]"]=Ei["[object Object]"]=Ei["[object RegExp]"]=Ei["[object Set]"]=Ei["[object String]"]=Ei["[object Symbol]"]=Ei["[object Uint8Array]"]=Ei["[object Uint8ClampedArray]"]=Ei["[object Uint16Array]"]=Ei["[object Uint32Array]"]=!0,Ei["[object Error]"]=Ei[_i]=Ei["[object WeakMap]"]=!1;var Si=function e(t,n,r,i,a,o){var u,s=1&n,c=2&n,l=4&n;if(r&&(u=a?r(t,i,a,o):r(t)),void 0!==u)return u;if(!Ut(t))return t;var f=Mn(t);if(f){if(u=ei(t),!s)return _r(t,u)}else{var h=Xr(t),d=h==_i||"[object GeneratorFunction]"==h;if(zn(t))return wr(t,s);if(h==xi||h==wi||d&&!a){if(u=c||d?{}:pi(t),!s)return c?Rr(t,yr(u,t)):Nr(t,fr(u,t))}else{if(!Ei[h])return a?t:{};u=li(t,h,s)}}o||(o=new En);var p=o.get(t);if(p)return p;o.set(t,u),bi(t)?t.forEach((function(i){u.add(e(i,n,r,i,t,o))})):mi(t)&&t.forEach((function(i,a){u.set(a,e(i,n,r,a,t,o))}));var v=f?void 0:(l?c?Lr:Fr:c?vr:lr)(t);return Sn(v||t,(function(i,a){v&&(i=t[a=i]),Nn(u,a,e(i,n,r,a,t,o))})),u};var Ii=function(e){return Si(e,4)};var Ti=function(e,t){for(var n=-1,r=null==e?0:e.length,i=Array(r);++n<r;)i[n]=t(e[n],n,e);return i};var Ci=function(e){return"symbol"==typeof e||gt(e)&&"[object Symbol]"==vt(e)};function Ni(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new TypeError("Expected a function");var n=function n(){var r=arguments,i=t?t.apply(this,r):r[0],a=n.cache;if(a.has(i))return a.get(i);var o=e.apply(this,r);return n.cache=a.set(i,o)||a,o};return n.cache=new(Ni.Cache||wn),n}Ni.Cache=wn;var Ai=Ni;var Oi=function(e){var t=Ai(e,(function(e){return 500===n.size&&n.clear(),e})),n=t.cache;return t},Pi=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Ri=/\\(\\)?/g,Di=Oi((function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace(Pi,(function(e,n,r,i){t.push(r?i.replace(Ri,"$1"):n||e)})),t})),Fi=Di;var Li=function(e){if("string"==typeof e||Ci(e))return e;var t=e+"";return"0"==t&&1/e==-Infinity?"-0":t},ji=ot?ot.prototype:void 0,Mi=ji?ji.toString:void 0;var Ui=function e(t){if("string"==typeof t)return t;if(Mn(t))return Ti(t,e)+"";if(Ci(t))return Mi?Mi.call(t):"";var n=t+"";return"0"==n&&1/t==-Infinity?"-0":n};var Vi=function(e){return null==e?"":Ui(e)};var qi=function(e){return Mn(e)?Ti(e,Li):Ci(e)?[e]:_r(Fi(Vi(e)))};var Bi=function(e,t){};n(2110);var zi=function(e){return Si(e,5)};function Wi(){return Wi=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Wi.apply(this,arguments)}function Ki(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}function Gi(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}function Hi(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var Qi=function(e){return Array.isArray(e)&&0===e.length},Yi=function(e){return"function"===typeof e},$i=function(e){return null!==e&&"object"===typeof e},Ji=function(e){return String(Math.floor(Number(e)))===e},Xi=function(e){return"[object String]"===Object.prototype.toString.call(e)},Zi=function(e){return 0===r.Children.count(e)},ea=function(e){return $i(e)&&Yi(e.then)};function ta(e,t,n,r){void 0===r&&(r=0);for(var i=qi(t);e&&r<i.length;)e=e[i[r++]];return void 0===e?n:e}function na(e,t,n){for(var r=Ii(e),i=r,a=0,o=qi(t);a<o.length-1;a++){var u=o[a],s=ta(e,o.slice(0,a+1));if(s&&($i(s)||Array.isArray(s)))i=i[u]=Ii(s);else{var c=o[a+1];i=i[u]=Ji(c)&&Number(c)>=0?[]:{}}}return(0===a?e:i)[o[a]]===n?e:(void 0===n?delete i[o[a]]:i[o[a]]=n,0===a&&void 0===n&&delete r[o[a]],r)}function ra(e,t,n,r){void 0===n&&(n=new WeakMap),void 0===r&&(r={});for(var i=0,a=Object.keys(e);i<a.length;i++){var o=a[i],u=e[o];$i(u)?n.get(u)||(n.set(u,!0),r[o]=Array.isArray(u)?[]:{},ra(u,t,n,r[o])):r[o]=t}return r}var ia=(0,r.createContext)(void 0);ia.displayName="FormikContext";var aa=ia.Provider;ia.Consumer;function oa(){var e=(0,r.useContext)(ia);return e||Bi(!1),e}function ua(e,t){switch(t.type){case"SET_VALUES":return Wi({},e,{values:t.payload});case"SET_TOUCHED":return Wi({},e,{touched:t.payload});case"SET_ERRORS":return $e()(e.errors,t.payload)?e:Wi({},e,{errors:t.payload});case"SET_STATUS":return Wi({},e,{status:t.payload});case"SET_ISSUBMITTING":return Wi({},e,{isSubmitting:t.payload});case"SET_ISVALIDATING":return Wi({},e,{isValidating:t.payload});case"SET_FIELD_VALUE":return Wi({},e,{values:na(e.values,t.payload.field,t.payload.value)});case"SET_FIELD_TOUCHED":return Wi({},e,{touched:na(e.touched,t.payload.field,t.payload.value)});case"SET_FIELD_ERROR":return Wi({},e,{errors:na(e.errors,t.payload.field,t.payload.value)});case"RESET_FORM":return Wi({},e,t.payload);case"SET_FORMIK_STATE":return t.payload(e);case"SUBMIT_ATTEMPT":return Wi({},e,{touched:ra(e.values,!0),isSubmitting:!0,submitCount:e.submitCount+1});case"SUBMIT_FAILURE":case"SUBMIT_SUCCESS":return Wi({},e,{isSubmitting:!1});default:return e}}var sa={},ca={};function la(e){var t=e.validateOnChange,n=void 0===t||t,i=e.validateOnBlur,a=void 0===i||i,o=e.validateOnMount,u=void 0!==o&&o,s=e.isInitialValid,c=e.enableReinitialize,l=void 0!==c&&c,f=e.onSubmit,h=Gi(e,["validateOnChange","validateOnBlur","validateOnMount","isInitialValid","enableReinitialize","onSubmit"]),d=Wi({validateOnChange:n,validateOnBlur:a,validateOnMount:u,onSubmit:f},h),p=(0,r.useRef)(d.initialValues),v=(0,r.useRef)(d.initialErrors||sa),y=(0,r.useRef)(d.initialTouched||ca),m=(0,r.useRef)(d.initialStatus),g=(0,r.useRef)(!1),k=(0,r.useRef)({});(0,r.useEffect)((function(){return g.current=!0,function(){g.current=!1}}),[]);var b=(0,r.useReducer)(ua,{values:d.initialValues,errors:d.initialErrors||sa,touched:d.initialTouched||ca,status:d.initialStatus,isSubmitting:!1,isValidating:!1,submitCount:0}),w=b[0],_=b[1],x=(0,r.useCallback)((function(e,t){return new Promise((function(n,r){var i=d.validate(e,t);null==i?n(sa):ea(i)?i.then((function(e){n(e||sa)}),(function(e){r(e)})):n(i)}))}),[d.validate]),E=(0,r.useCallback)((function(e,t){var n=d.validationSchema,r=Yi(n)?n(t):n,i=t&&r.validateAt?r.validateAt(t,e):function(e,t,n,r){void 0===n&&(n=!1);void 0===r&&(r={});var i=ha(e);return t[n?"validateSync":"validate"](i,{abortEarly:!1,context:r})}(e,r);return new Promise((function(e,t){i.then((function(){e(sa)}),(function(n){"ValidationError"===n.name?e(function(e){var t={};if(e.inner){if(0===e.inner.length)return na(t,e.path,e.message);var n=e.inner,r=Array.isArray(n),i=0;for(n=r?n:n[Symbol.iterator]();;){var a;if(r){if(i>=n.length)break;a=n[i++]}else{if((i=n.next()).done)break;a=i.value}var o=a;ta(t,o.path)||(t=na(t,o.path,o.message))}}return t}(n)):t(n)}))}))}),[d.validationSchema]),S=(0,r.useCallback)((function(e,t){return new Promise((function(n){return n(k.current[e].validate(t))}))}),[]),I=(0,r.useCallback)((function(e){var t=Object.keys(k.current).filter((function(e){return Yi(k.current[e].validate)})),n=t.length>0?t.map((function(t){return S(t,ta(e,t))})):[Promise.resolve("DO_NOT_DELETE_YOU_WILL_BE_FIRED")];return Promise.all(n).then((function(e){return e.reduce((function(e,n,r){return"DO_NOT_DELETE_YOU_WILL_BE_FIRED"===n||n&&(e=na(e,t[r],n)),e}),{})}))}),[S]),T=(0,r.useCallback)((function(e){return Promise.all([I(e),d.validationSchema?E(e):{},d.validate?x(e):{}]).then((function(e){var t=e[0],n=e[1],r=e[2];return nt.all([t,n,r],{arrayMerge:da})}))}),[d.validate,d.validationSchema,I,x,E]),C=va((function(e){return void 0===e&&(e=w.values),_({type:"SET_ISVALIDATING",payload:!0}),T(e).then((function(e){return g.current&&(_({type:"SET_ISVALIDATING",payload:!1}),_({type:"SET_ERRORS",payload:e})),e}))}));(0,r.useEffect)((function(){u&&!0===g.current&&$e()(p.current,d.initialValues)&&C(p.current)}),[u,C]);var N=(0,r.useCallback)((function(e){var t=e&&e.values?e.values:p.current,n=e&&e.errors?e.errors:v.current?v.current:d.initialErrors||{},r=e&&e.touched?e.touched:y.current?y.current:d.initialTouched||{},i=e&&e.status?e.status:m.current?m.current:d.initialStatus;p.current=t,v.current=n,y.current=r,m.current=i;var a=function(){_({type:"RESET_FORM",payload:{isSubmitting:!!e&&!!e.isSubmitting,errors:n,touched:r,status:i,values:t,isValidating:!!e&&!!e.isValidating,submitCount:e&&e.submitCount&&"number"===typeof e.submitCount?e.submitCount:0}})};if(d.onReset){var o=d.onReset(w.values,Q);ea(o)?o.then(a):a()}else a()}),[d.initialErrors,d.initialStatus,d.initialTouched]);(0,r.useEffect)((function(){!0!==g.current||$e()(p.current,d.initialValues)||(l&&(p.current=d.initialValues,N()),u&&C(p.current))}),[l,d.initialValues,N,u,C]),(0,r.useEffect)((function(){l&&!0===g.current&&!$e()(v.current,d.initialErrors)&&(v.current=d.initialErrors||sa,_({type:"SET_ERRORS",payload:d.initialErrors||sa}))}),[l,d.initialErrors]),(0,r.useEffect)((function(){l&&!0===g.current&&!$e()(y.current,d.initialTouched)&&(y.current=d.initialTouched||ca,_({type:"SET_TOUCHED",payload:d.initialTouched||ca}))}),[l,d.initialTouched]),(0,r.useEffect)((function(){l&&!0===g.current&&!$e()(m.current,d.initialStatus)&&(m.current=d.initialStatus,_({type:"SET_STATUS",payload:d.initialStatus}))}),[l,d.initialStatus,d.initialTouched]);var A=va((function(e){if(k.current[e]&&Yi(k.current[e].validate)){var t=ta(w.values,e),n=k.current[e].validate(t);return ea(n)?(_({type:"SET_ISVALIDATING",payload:!0}),n.then((function(e){return e})).then((function(t){_({type:"SET_FIELD_ERROR",payload:{field:e,value:t}}),_({type:"SET_ISVALIDATING",payload:!1})}))):(_({type:"SET_FIELD_ERROR",payload:{field:e,value:n}}),Promise.resolve(n))}return d.validationSchema?(_({type:"SET_ISVALIDATING",payload:!0}),E(w.values,e).then((function(e){return e})).then((function(t){_({type:"SET_FIELD_ERROR",payload:{field:e,value:t[e]}}),_({type:"SET_ISVALIDATING",payload:!1})}))):Promise.resolve()})),O=(0,r.useCallback)((function(e,t){var n=t.validate;k.current[e]={validate:n}}),[]),P=(0,r.useCallback)((function(e){delete k.current[e]}),[]),R=va((function(e,t){return _({type:"SET_TOUCHED",payload:e}),(void 0===t?a:t)?C(w.values):Promise.resolve()})),D=(0,r.useCallback)((function(e){_({type:"SET_ERRORS",payload:e})}),[]),F=va((function(e,t){var r=Yi(e)?e(w.values):e;return _({type:"SET_VALUES",payload:r}),(void 0===t?n:t)?C(r):Promise.resolve()})),L=(0,r.useCallback)((function(e,t){_({type:"SET_FIELD_ERROR",payload:{field:e,value:t}})}),[]),j=va((function(e,t,r){return _({type:"SET_FIELD_VALUE",payload:{field:e,value:t}}),(void 0===r?n:r)?C(na(w.values,e,t)):Promise.resolve()})),M=(0,r.useCallback)((function(e,t){var n,r=t,i=e;if(!Xi(e)){e.persist&&e.persist();var a=e.target?e.target:e.currentTarget,o=a.type,u=a.name,s=a.id,c=a.value,l=a.checked,f=(a.outerHTML,a.options),h=a.multiple;r=t||(u||s),i=/number|range/.test(o)?(n=parseFloat(c),isNaN(n)?"":n):/checkbox/.test(o)?function(e,t,n){if("boolean"===typeof e)return Boolean(t);var r=[],i=!1,a=-1;if(Array.isArray(e))r=e,i=(a=e.indexOf(n))>=0;else if(!n||"true"==n||"false"==n)return Boolean(t);if(t&&n&&!i)return r.concat(n);if(!i)return r;return r.slice(0,a).concat(r.slice(a+1))}(ta(w.values,r),l,c):f&&h?function(e){return Array.from(e).filter((function(e){return e.selected})).map((function(e){return e.value}))}(f):c}r&&j(r,i)}),[j,w.values]),U=va((function(e){if(Xi(e))return function(t){return M(t,e)};M(e)})),V=va((function(e,t,n){return void 0===t&&(t=!0),_({type:"SET_FIELD_TOUCHED",payload:{field:e,value:t}}),(void 0===n?a:n)?C(w.values):Promise.resolve()})),q=(0,r.useCallback)((function(e,t){e.persist&&e.persist();var n=e.target,r=n.name,i=n.id,a=(n.outerHTML,t||(r||i));V(a,!0)}),[V]),B=va((function(e){if(Xi(e))return function(t){return q(t,e)};q(e)})),z=(0,r.useCallback)((function(e){Yi(e)?_({type:"SET_FORMIK_STATE",payload:e}):_({type:"SET_FORMIK_STATE",payload:function(){return e}})}),[]),W=(0,r.useCallback)((function(e){_({type:"SET_STATUS",payload:e})}),[]),K=(0,r.useCallback)((function(e){_({type:"SET_ISSUBMITTING",payload:e})}),[]),G=va((function(){return _({type:"SUBMIT_ATTEMPT"}),C().then((function(e){var t=e instanceof Error;if(!t&&0===Object.keys(e).length){var n;try{if(void 0===(n=Y()))return}catch(PO){throw PO}return Promise.resolve(n).then((function(e){return g.current&&_({type:"SUBMIT_SUCCESS"}),e})).catch((function(e){if(g.current)throw _({type:"SUBMIT_FAILURE"}),e}))}if(g.current&&(_({type:"SUBMIT_FAILURE"}),t))throw e}))})),H=va((function(e){e&&e.preventDefault&&Yi(e.preventDefault)&&e.preventDefault(),e&&e.stopPropagation&&Yi(e.stopPropagation)&&e.stopPropagation(),G().catch((function(e){console.warn("Warning: An unhandled error was caught from submitForm()",e)}))})),Q={resetForm:N,validateForm:C,validateField:A,setErrors:D,setFieldError:L,setFieldTouched:V,setFieldValue:j,setStatus:W,setSubmitting:K,setTouched:R,setValues:F,setFormikState:z,submitForm:G},Y=va((function(){return f(w.values,Q)})),$=va((function(e){e&&e.preventDefault&&Yi(e.preventDefault)&&e.preventDefault(),e&&e.stopPropagation&&Yi(e.stopPropagation)&&e.stopPropagation(),N()})),J=(0,r.useCallback)((function(e){return{value:ta(w.values,e),error:ta(w.errors,e),touched:!!ta(w.touched,e),initialValue:ta(p.current,e),initialTouched:!!ta(y.current,e),initialError:ta(v.current,e)}}),[w.errors,w.touched,w.values]),X=(0,r.useCallback)((function(e){return{setValue:function(t,n){return j(e,t,n)},setTouched:function(t,n){return V(e,t,n)},setError:function(t){return L(e,t)}}}),[j,V,L]),Z=(0,r.useCallback)((function(e){var t=$i(e),n=t?e.name:e,r=ta(w.values,n),i={name:n,value:r,onChange:U,onBlur:B};if(t){var a=e.type,o=e.value,u=e.as,s=e.multiple;"checkbox"===a?void 0===o?i.checked=!!r:(i.checked=!(!Array.isArray(r)||!~r.indexOf(o)),i.value=o):"radio"===a?(i.checked=r===o,i.value=o):"select"===u&&s&&(i.value=i.value||[],i.multiple=!0)}return i}),[B,U,w.values]),ee=(0,r.useMemo)((function(){return!$e()(p.current,w.values)}),[p.current,w.values]),te=(0,r.useMemo)((function(){return"undefined"!==typeof s?ee?w.errors&&0===Object.keys(w.errors).length:!1!==s&&Yi(s)?s(d):s:w.errors&&0===Object.keys(w.errors).length}),[s,ee,w.errors,d]);return Wi({},w,{initialValues:p.current,initialErrors:v.current,initialTouched:y.current,initialStatus:m.current,handleBlur:B,handleChange:U,handleReset:$,handleSubmit:H,resetForm:N,setErrors:D,setFormikState:z,setFieldTouched:V,setFieldValue:j,setFieldError:L,setStatus:W,setSubmitting:K,setTouched:R,setValues:F,submitForm:G,validateForm:C,validateField:A,isValid:te,dirty:ee,unregisterField:P,registerField:O,getFieldProps:Z,getFieldMeta:J,getFieldHelpers:X,validateOnBlur:a,validateOnChange:n,validateOnMount:u})}function fa(e){var t=la(e),n=e.component,i=e.children,a=e.render,o=e.innerRef;return(0,r.useImperativeHandle)(o,(function(){return t})),(0,r.createElement)(aa,{value:t},n?(0,r.createElement)(n,t):a?a(t):i?Yi(i)?i(t):Zi(i)?null:r.Children.only(i):null)}function ha(e){var t=Array.isArray(e)?[]:{};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=String(n);!0===Array.isArray(e[r])?t[r]=e[r].map((function(e){return!0===Array.isArray(e)||Et(e)?ha(e):""!==e?e:void 0})):Et(e[r])?t[r]=ha(e[r]):t[r]=""!==e[r]?e[r]:void 0}return t}function da(e,t,n){var r=e.slice();return t.forEach((function(t,i){if("undefined"===typeof r[i]){var a=!1!==n.clone&&n.isMergeableObject(t);r[i]=a?nt(Array.isArray(t)?[]:{},t,n):t}else n.isMergeableObject(t)?r[i]=nt(e[i],t,n):-1===e.indexOf(t)&&r.push(t)})),r}var pa="undefined"!==typeof window&&"undefined"!==typeof window.document&&"undefined"!==typeof window.document.createElement?r.useLayoutEffect:r.useEffect;function va(e){var t=(0,r.useRef)(e);return pa((function(){t.current=e})),(0,r.useCallback)((function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return t.current.apply(void 0,n)}),[])}(0,r.forwardRef)((function(e,t){var n=e.action,i=Gi(e,["action"]),a=null!=n?n:"#",o=oa(),u=o.handleReset,s=o.handleSubmit;return(0,r.createElement)("form",Object.assign({onSubmit:s,ref:t,onReset:u,action:a},i))})).displayName="Form";var ya=function(e,t,n){var r=ma(e);return r.splice(t,0,n),r},ma=function(e){if(e){if(Array.isArray(e))return[].concat(e);var t=Object.keys(e).map((function(e){return parseInt(e)})).reduce((function(e,t){return t>e?t:e}),0);return Array.from(Wi({},e,{length:t+1}))}return[]},ga=function(e){function t(t){var n;return(n=e.call(this,t)||this).updateArrayField=function(e,t,r){var i=n.props,a=i.name;(0,i.formik.setFormikState)((function(n){var i="function"===typeof r?r:e,o="function"===typeof t?t:e,u=na(n.values,a,e(ta(n.values,a))),s=r?i(ta(n.errors,a)):void 0,c=t?o(ta(n.touched,a)):void 0;return Qi(s)&&(s=void 0),Qi(c)&&(c=void 0),Wi({},n,{values:u,errors:r?na(n.errors,a,s):n.errors,touched:t?na(n.touched,a,c):n.touched})}))},n.push=function(e){return n.updateArrayField((function(t){return[].concat(ma(t),[zi(e)])}),!1,!1)},n.handlePush=function(e){return function(){return n.push(e)}},n.swap=function(e,t){return n.updateArrayField((function(n){return function(e,t,n){var r=ma(e),i=r[t];return r[t]=r[n],r[n]=i,r}(n,e,t)}),!0,!0)},n.handleSwap=function(e,t){return function(){return n.swap(e,t)}},n.move=function(e,t){return n.updateArrayField((function(n){return function(e,t,n){var r=ma(e),i=r[t];return r.splice(t,1),r.splice(n,0,i),r}(n,e,t)}),!0,!0)},n.handleMove=function(e,t){return function(){return n.move(e,t)}},n.insert=function(e,t){return n.updateArrayField((function(n){return ya(n,e,t)}),(function(t){return ya(t,e,null)}),(function(t){return ya(t,e,null)}))},n.handleInsert=function(e,t){return function(){return n.insert(e,t)}},n.replace=function(e,t){return n.updateArrayField((function(n){return function(e,t,n){var r=ma(e);return r[t]=n,r}(n,e,t)}),!1,!1)},n.handleReplace=function(e,t){return function(){return n.replace(e,t)}},n.unshift=function(e){var t=-1;return n.updateArrayField((function(n){var r=n?[e].concat(n):[e];return t<0&&(t=r.length),r}),(function(e){var n=e?[null].concat(e):[null];return t<0&&(t=n.length),n}),(function(e){var n=e?[null].concat(e):[null];return t<0&&(t=n.length),n})),t},n.handleUnshift=function(e){return function(){return n.unshift(e)}},n.handleRemove=function(e){return function(){return n.remove(e)}},n.handlePop=function(){return function(){return n.pop()}},n.remove=n.remove.bind(Hi(n)),n.pop=n.pop.bind(Hi(n)),n}Ki(t,e);var n=t.prototype;return n.componentDidUpdate=function(e){this.props.validateOnChange&&this.props.formik.validateOnChange&&!$e()(ta(e.formik.values,e.name),ta(this.props.formik.values,this.props.name))&&this.props.formik.validateForm(this.props.formik.values)},n.remove=function(e){var t;return this.updateArrayField((function(n){var r=n?ma(n):[];return t||(t=r[e]),Yi(r.splice)&&r.splice(e,1),r}),!0,!0),t},n.pop=function(){var e;return this.updateArrayField((function(t){var n=t;return e||(e=n&&n.pop&&n.pop()),n}),!0,!0),e},n.render=function(){var e={push:this.push,pop:this.pop,swap:this.swap,move:this.move,insert:this.insert,replace:this.replace,unshift:this.unshift,remove:this.remove,handlePush:this.handlePush,handlePop:this.handlePop,handleSwap:this.handleSwap,handleMove:this.handleMove,handleInsert:this.handleInsert,handleReplace:this.handleReplace,handleUnshift:this.handleUnshift,handleRemove:this.handleRemove},t=this.props,n=t.component,i=t.render,a=t.children,o=t.name,u=Wi({},e,{form:Gi(t.formik,["validate","validationSchema"]),name:o});return n?(0,r.createElement)(n,u):i?i(u):a?"function"===typeof a?a(u):Zi(a)?null:r.Children.only(a):null},t}(r.Component);ga.defaultProps={validateOnChange:!0};r.Component,r.Component;function ka(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=s(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,u=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return o=e.done,e},e:function(e){u=!0,a=e},f:function(){try{o||null==n.return||n.return()}finally{if(u)throw a}}}}function ba(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var wa=!1,_a=!1,xa="${JSCORE_VERSION}",Ea=function(e,t){if(!e)throw Sa(t)},Sa=function(e){return new Error("Firebase Database ("+xa+") INTERNAL ASSERT FAILED: "+e)},Ia=function(e){for(var t=[],n=0,r=0;r<e.length;r++){var i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):55296===(64512&i)&&r+1<e.length&&56320===(64512&e.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&e.charCodeAt(++r)),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t},Ta={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray:function(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[],i=0;i<e.length;i+=3){var a=e[i],o=i+1<e.length,u=o?e[i+1]:0,s=i+2<e.length,c=s?e[i+2]:0,l=a>>2,f=(3&a)<<4|u>>4,h=(15&u)<<2|c>>6,d=63&c;s||(d=64,o||(h=64)),r.push(n[l],n[f],n[h],n[d])}return r.join("")},encodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(Ia(e),t)},decodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){for(var t=[],n=0,r=0;n<e.length;){var i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){var a=e[n++];t[r++]=String.fromCharCode((31&i)<<6|63&a)}else if(i>239&&i<365){var o=((7&i)<<18|(63&e[n++])<<12|(63&e[n++])<<6|63&e[n++])-65536;t[r++]=String.fromCharCode(55296+(o>>10)),t[r++]=String.fromCharCode(56320+(1023&o))}else{var u=e[n++],s=e[n++];t[r++]=String.fromCharCode((15&i)<<12|(63&u)<<6|63&s)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray:function(e,t){this.init_();for(var n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[],i=0;i<e.length;){var a=n[e.charAt(i++)],o=i<e.length?n[e.charAt(i)]:0,u=++i<e.length?n[e.charAt(i)]:64,s=++i<e.length?n[e.charAt(i)]:64;if(++i,null==a||null==o||null==u||null==s)throw Error();var c=a<<2|o>>4;if(r.push(c),64!==u){var l=o<<4&240|u>>2;if(r.push(l),64!==s){var f=u<<6&192|s;r.push(f)}}}return r},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}},Ca=function(e){var t=Ia(e);return Ta.encodeByteArray(t,!0)},Na=function(e){return Ca(e).replace(/\./g,"")},Aa=function(e){try{return Ta.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function Oa(e,t){if(!(t instanceof Object))return t;switch(t.constructor){case Date:return new Date(t.getTime());case Object:void 0===e&&(e={});break;case Array:e=[];break;default:return t}for(var n in t)t.hasOwnProperty(n)&&"__proto__"!==n&&(e[n]=Oa(e[n],t[n]));return e}var Pa=function(){function e(){var t=this;d(this,e),this.reject=function(){},this.resolve=function(){},this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))}return v(e,[{key:"wrapCallback",value:function(e){var t=this;return function(n,r){n?t.reject(n):t.resolve(r),"function"===typeof e&&(t.promise.catch((function(){})),1===e.length?e(n):e(n,r))}}}]),e}();function Ra(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');var n=t||"demo-project",r=e.iat||0,i=e.sub||e.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");var a=Object.assign({iss:"https://securetoken.google.com/".concat(n),aud:n,iat:r,exp:r+3600,auth_time:r,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},e);return[Na(JSON.stringify({alg:"none",type:"JWT"})),Na(JSON.stringify(a)),""].join(".")}function Da(){return"undefined"!==typeof navigator&&"string"===typeof navigator.userAgent?navigator.userAgent:""}function Fa(){return"undefined"!==typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Da())}function La(){try{return"[object process]"===Object.prototype.toString.call(n.g.process)}catch(e){return!1}}function ja(){var e="object"===typeof chrome?chrome.runtime:"object"===typeof browser?browser.runtime:void 0;return"object"===typeof e&&void 0!==e.id}function Ma(){return"object"===typeof navigator&&"ReactNative"===navigator.product}function Ua(){var e=Da();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}function Va(){return!0===wa||!0===_a}function qa(){return"object"===typeof indexedDB}var Ba=function(e){m(n,e);var t=x(n);function n(e,r,i){var a;return d(this,n),(a=t.call(this,r)).code=e,a.customData=i,a.name="FirebaseError",Object.setPrototypeOf(w(a),n.prototype),Error.captureStackTrace&&Error.captureStackTrace(w(a),za.prototype.create),a}return v(n)}(S(Error)),za=function(){function e(t,n,r){d(this,e),this.service=t,this.serviceName=n,this.errors=r}return v(e,[{key:"create",value:function(e){var t=(arguments.length<=1?void 0:arguments[1])||{},n="".concat(this.service,"/").concat(e),r=this.errors[e],i=r?Wa(r,t):"Error",a="".concat(this.serviceName,": ").concat(i," (").concat(n,")."),o=new Ba(n,a,t);return o}}]),e}();function Wa(e,t){return e.replace(Ka,(function(e,n){var r=t[n];return null!=r?String(r):"<".concat(n,"?>")}))}var Ka=/\{\$([^}]+)}/g;function Ga(e){return JSON.parse(e)}function Ha(e){return JSON.stringify(e)}var Qa=function(e){var t={},n={},r={},i="";try{var a=e.split(".");t=Ga(Aa(a[0])||""),n=Ga(Aa(a[1])||""),i=a[2],r=n.d||{},delete n.d}catch(o){}return{header:t,claims:n,data:r,signature:i}};function Ya(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function $a(e,t){return Object.prototype.hasOwnProperty.call(e,t)?e[t]:void 0}function Ja(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}function Xa(e,t,n){var r={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(r[i]=t.call(n,e[i],i,e));return r}function Za(e,t){if(e===t)return!0;for(var n=Object.keys(e),r=Object.keys(t),i=0,a=n;i<a.length;i++){var o=a[i];if(!r.includes(o))return!1;var u=e[o],s=t[o];if(eo(u)&&eo(s)){if(!Za(u,s))return!1}else if(u!==s)return!1}for(var c=0,l=r;c<l.length;c++){var f=l[c];if(!n.includes(f))return!1}return!0}function eo(e){return null!==e&&"object"===typeof e}function to(e){for(var t=[],n=function(){var e=l(i[r],2),n=e[0],a=e[1];Array.isArray(a)?a.forEach((function(e){t.push(encodeURIComponent(n)+"="+encodeURIComponent(e))})):t.push(encodeURIComponent(n)+"="+encodeURIComponent(a))},r=0,i=Object.entries(e);r<i.length;r++)n();return t.length?"&"+t.join("&"):""}function no(e){var t={};return e.replace(/^\?/,"").split("&").forEach((function(e){if(e){var n=l(e.split("="),2),r=n[0],i=n[1];t[decodeURIComponent(r)]=decodeURIComponent(i)}})),t}function ro(e){var t=e.indexOf("?");if(!t)return"";var n=e.indexOf("#",t);return e.substring(t,n>0?n:void 0)}var io=function(){function e(){d(this,e),this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(var t=1;t<this.blockSize;++t)this.pad_[t]=0;this.reset()}return v(e,[{key:"reset",value:function(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}},{key:"compress_",value:function(e,t){t||(t=0);var n=this.W_;if("string"===typeof e)for(var r=0;r<16;r++)n[r]=e.charCodeAt(t)<<24|e.charCodeAt(t+1)<<16|e.charCodeAt(t+2)<<8|e.charCodeAt(t+3),t+=4;else for(var i=0;i<16;i++)n[i]=e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3],t+=4;for(var a=16;a<80;a++){var o=n[a-3]^n[a-8]^n[a-14]^n[a-16];n[a]=4294967295&(o<<1|o>>>31)}for(var u,s,c=this.chain_[0],l=this.chain_[1],f=this.chain_[2],h=this.chain_[3],d=this.chain_[4],p=0;p<80;p++){p<40?p<20?(u=h^l&(f^h),s=1518500249):(u=l^f^h,s=1859775393):p<60?(u=l&f|h&(l|f),s=2400959708):(u=l^f^h,s=3395469782);var v=(c<<5|c>>>27)+u+d+s+n[p]&4294967295;d=h,h=f,f=4294967295&(l<<30|l>>>2),l=c,c=v}this.chain_[0]=this.chain_[0]+c&4294967295,this.chain_[1]=this.chain_[1]+l&4294967295,this.chain_[2]=this.chain_[2]+f&4294967295,this.chain_[3]=this.chain_[3]+h&4294967295,this.chain_[4]=this.chain_[4]+d&4294967295}},{key:"update",value:function(e,t){if(null!=e){void 0===t&&(t=e.length);for(var n=t-this.blockSize,r=0,i=this.buf_,a=this.inbuf_;r<t;){if(0===a)for(;r<=n;)this.compress_(e,r),r+=this.blockSize;if("string"===typeof e){for(;r<t;)if(i[a]=e.charCodeAt(r),++r,++a===this.blockSize){this.compress_(i),a=0;break}}else for(;r<t;)if(i[a]=e[r],++r,++a===this.blockSize){this.compress_(i),a=0;break}}this.inbuf_=a,this.total_+=t}}},{key:"digest",value:function(){var e=[],t=8*this.total_;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(var n=this.blockSize-1;n>=56;n--)this.buf_[n]=255&t,t/=256;this.compress_(this.buf_);for(var r=0,i=0;i<5;i++)for(var a=24;a>=0;a-=8)e[r]=this.chain_[i]>>a&255,++r;return e}}]),e}();function ao(e,t){var n=new oo(e,t);return n.subscribe.bind(n)}var oo=function(){function e(t,n){var r=this;d(this,e),this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then((function(){t(r)})).catch((function(e){r.error(e)}))}return v(e,[{key:"next",value:function(e){this.forEachObserver((function(t){t.next(e)}))}},{key:"error",value:function(e){this.forEachObserver((function(t){t.error(e)})),this.close(e)}},{key:"complete",value:function(){this.forEachObserver((function(e){e.complete()})),this.close()}},{key:"subscribe",value:function(e,t,n){var r,i=this;if(void 0===e&&void 0===t&&void 0===n)throw new Error("Missing Observer.");void 0===(r=function(e,t){if("object"!==typeof e||null===e)return!1;var n,r=ka(t);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(i in e&&"function"===typeof e[i])return!0}}catch(a){r.e(a)}finally{r.f()}return!1}(e,["next","error","complete"])?e:{next:e,error:t,complete:n}).next&&(r.next=uo),void 0===r.error&&(r.error=uo),void 0===r.complete&&(r.complete=uo);var a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((function(){try{i.finalError?r.error(i.finalError):r.complete()}catch(e){}})),this.observers.push(r),a}},{key:"unsubscribeOne",value:function(e){void 0!==this.observers&&void 0!==this.observers[e]&&(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}},{key:"forEachObserver",value:function(e){if(!this.finalized)for(var t=0;t<this.observers.length;t++)this.sendOne(t,e)}},{key:"sendOne",value:function(e,t){var n=this;this.task.then((function(){if(void 0!==n.observers&&void 0!==n.observers[e])try{t(n.observers[e])}catch(r){"undefined"!==typeof console&&console.error&&console.error(r)}}))}},{key:"close",value:function(e){var t=this;this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then((function(){t.observers=void 0,t.onNoObservers=void 0})))}}]),e}();function uo(){}var so=function(e,t,n,r){var i;if(r<t?i="at least "+t:r>n&&(i=0===n?"none":"no more than "+n),i)throw new Error(e+" failed: Was called with "+r+(1===r?" argument.":" arguments.")+" Expects "+i+".")};function co(e,t){return"".concat(e," failed: ").concat(t," argument ")}function lo(e,t,n,r){if((!r||n)&&"function"!==typeof n)throw new Error(co(e,t)+"must be a valid function.")}function fo(e,t,n,r){if((!r||n)&&("object"!==typeof n||null===n))throw new Error(co(e,t)+"must be a valid context object.")}var ho=function(e){for(var t=0,n=0;n<e.length;n++){var r=e.charCodeAt(n);r<128?t++:r<2048?t+=2:r>=55296&&r<=56319?(t+=4,n++):t+=3}return t};function po(e){return e&&e._delegate?e._delegate:e}var vo=function(){function e(t,n,r){d(this,e),this.name=t,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}return v(e,[{key:"setInstantiationMode",value:function(e){return this.instantiationMode=e,this}},{key:"setMultipleInstances",value:function(e){return this.multipleInstances=e,this}},{key:"setServiceProps",value:function(e){return this.serviceProps=e,this}},{key:"setInstanceCreatedCallback",value:function(e){return this.onInstanceCreated=e,this}}]),e}(),yo="[DEFAULT]",mo=function(){function e(t,n){d(this,e),this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}return v(e,[{key:"get",value:function(e){var t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){var n=new Pa;if(this.instancesDeferred.set(t,n),this.isInitialized(t)||this.shouldAutoInitialize())try{var r=this.getOrInitializeService({instanceIdentifier:t});r&&n.resolve(r)}catch(i){}}return this.instancesDeferred.get(t).promise}},{key:"getImmediate",value:function(e){var t,n=this.normalizeInstanceIdentifier(null===e||void 0===e?void 0:e.identifier),r=null!==(t=null===e||void 0===e?void 0:e.optional)&&void 0!==t&&t;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(r)return null;throw Error("Service ".concat(this.name," is not available"))}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(r)return null;throw i}}},{key:"getComponent",value:function(){return this.component}},{key:"setComponent",value:function(e){if(e.name!==this.name)throw Error("Mismatching Component ".concat(e.name," for Provider ").concat(this.name,"."));if(this.component)throw Error("Component for ".concat(this.name," has already been provided"));if(this.component=e,this.shouldAutoInitialize()){if(function(e){return"EAGER"===e.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:yo})}catch(s){}var t,n=ka(this.instancesDeferred.entries());try{for(n.s();!(t=n.n()).done;){var r=l(t.value,2),i=r[0],a=r[1],o=this.normalizeInstanceIdentifier(i);try{var u=this.getOrInitializeService({instanceIdentifier:o});a.resolve(u)}catch(s){}}}catch(c){n.e(c)}finally{n.f()}}}},{key:"clearInstance",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:yo;this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}},{key:"delete",value:function(){var e=He(Ke().mark((function e(){var t;return Ke().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=Array.from(this.instances.values()),e.next=3,Promise.all([].concat(h(t.filter((function(e){return"INTERNAL"in e})).map((function(e){return e.INTERNAL.delete()}))),h(t.filter((function(e){return"_delete"in e})).map((function(e){return e._delete()})))));case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"isComponentSet",value:function(){return null!=this.component}},{key:"isInitialized",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:yo;return this.instances.has(e)}},{key:"getOptions",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:yo;return this.instancesOptions.get(e)||{}}},{key:"initialize",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.options,n=void 0===t?{}:t,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error("".concat(this.name,"(").concat(r,") has already been initialized"));if(!this.isComponentSet())throw Error("Component ".concat(this.name," has not been registered yet"));var i,a=this.getOrInitializeService({instanceIdentifier:r,options:n}),o=ka(this.instancesDeferred.entries());try{for(o.s();!(i=o.n()).done;){var u=l(i.value,2),s=u[0],c=u[1],f=this.normalizeInstanceIdentifier(s);r===f&&c.resolve(a)}}catch(h){o.e(h)}finally{o.f()}return a}},{key:"onInit",value:function(e,t){var n,r=this.normalizeInstanceIdentifier(t),i=null!==(n=this.onInitCallbacks.get(r))&&void 0!==n?n:new Set;i.add(e),this.onInitCallbacks.set(r,i);var a=this.instances.get(r);return a&&e(a,r),function(){i.delete(e)}}},{key:"invokeOnInitCallbacks",value:function(e,t){var n=this.onInitCallbacks.get(t);if(n){var r,i=ka(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;try{a(e,t)}catch(cC){}}}catch(o){i.e(o)}finally{i.f()}}}},{key:"getOrInitializeService",value:function(e){var t,n=e.instanceIdentifier,r=e.options,i=void 0===r?{}:r,a=this.instances.get(n);if(!a&&this.component&&(a=this.component.instanceFactory(this.container,{instanceIdentifier:(t=n,t===yo?void 0:t),options:i}),this.instances.set(n,a),this.instancesOptions.set(n,i),this.invokeOnInitCallbacks(a,n),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,n,a)}catch(cC){}return a||null}},{key:"normalizeInstanceIdentifier",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:yo;return this.component?this.component.multipleInstances?e:yo:e}},{key:"shouldAutoInitialize",value:function(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}]),e}();var go,ko,bo=function(){function e(t){d(this,e),this.name=t,this.providers=new Map}return v(e,[{key:"addComponent",value:function(e){var t=this.getProvider(e.name);if(t.isComponentSet())throw new Error("Component ".concat(e.name," has already been registered with ").concat(this.name));t.setComponent(e)}},{key:"addOrOverwriteComponent",value:function(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}},{key:"getProvider",value:function(e){if(this.providers.has(e))return this.providers.get(e);var t=new mo(e,this);return this.providers.set(e,t),t}},{key:"getProviders",value:function(){return Array.from(this.providers.values())}}]),e}(),wo=[];!function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"}(ko||(ko={}));var _o={debug:ko.DEBUG,verbose:ko.VERBOSE,info:ko.INFO,warn:ko.WARN,error:ko.ERROR,silent:ko.SILENT},xo=ko.INFO,Eo=(ba(go={},ko.DEBUG,"log"),ba(go,ko.VERBOSE,"log"),ba(go,ko.INFO,"info"),ba(go,ko.WARN,"warn"),ba(go,ko.ERROR,"error"),go),So=function(e,t){if(!(t<e.logLevel)){var n=(new Date).toISOString(),r=Eo[t];if(!r)throw new Error("Attempted to log a message with an invalid logType (value: ".concat(t,")"));for(var i,a=arguments.length,o=new Array(a>2?a-2:0),u=2;u<a;u++)o[u-2]=arguments[u];(i=console)[r].apply(i,["[".concat(n,"]  ").concat(e.name,":")].concat(o))}},Io=function(){function e(t){d(this,e),this.name=t,this._logLevel=xo,this._logHandler=So,this._userLogHandler=null,wo.push(this)}return v(e,[{key:"logLevel",get:function(){return this._logLevel},set:function(e){if(!(e in ko))throw new TypeError('Invalid value "'.concat(e,'" assigned to `logLevel`'));this._logLevel=e}},{key:"setLogLevel",value:function(e){this._logLevel="string"===typeof e?_o[e]:e}},{key:"logHandler",get:function(){return this._logHandler},set:function(e){if("function"!==typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}},{key:"userLogHandler",get:function(){return this._userLogHandler},set:function(e){this._userLogHandler=e}},{key:"debug",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,ko.DEBUG].concat(t)),this._logHandler.apply(this,[this,ko.DEBUG].concat(t))}},{key:"log",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,ko.VERBOSE].concat(t)),this._logHandler.apply(this,[this,ko.VERBOSE].concat(t))}},{key:"info",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,ko.INFO].concat(t)),this._logHandler.apply(this,[this,ko.INFO].concat(t))}},{key:"warn",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,ko.WARN].concat(t)),this._logHandler.apply(this,[this,ko.WARN].concat(t))}},{key:"error",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,ko.ERROR].concat(t)),this._logHandler.apply(this,[this,ko.ERROR].concat(t))}}]),e}();function To(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Co(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?To(Object(n),!0).forEach((function(t){ba(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):To(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var No,Ao;var Oo=new WeakMap,Po=new WeakMap,Ro=new WeakMap,Do=new WeakMap,Fo=new WeakMap;var Lo={get:function(e,t,n){if(e instanceof IDBTransaction){if("done"===t)return Po.get(e);if("objectStoreNames"===t)return e.objectStoreNames||Ro.get(e);if("store"===t)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Uo(e[t])},set:function(e,t,n){return e[t]=n,!0},has:function(e,t){return e instanceof IDBTransaction&&("done"===t||"store"===t)||t in e}};function jo(e){return e!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(Ao||(Ao=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(e)?function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return e.apply(Vo(this),n),Uo(Oo.get(this))}:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return Uo(e.apply(Vo(this),n))}:function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];var a=e.call.apply(e,[Vo(this),t].concat(r));return Ro.set(a,t.sort?t.sort():[t]),Uo(a)}}function Mo(e){return"function"===typeof e?jo(e):(e instanceof IDBTransaction&&function(e){if(!Po.has(e)){var t=new Promise((function(t,n){var r=function(){e.removeEventListener("complete",i),e.removeEventListener("error",a),e.removeEventListener("abort",a)},i=function(){t(),r()},a=function(){n(e.error||new DOMException("AbortError","AbortError")),r()};e.addEventListener("complete",i),e.addEventListener("error",a),e.addEventListener("abort",a)}));Po.set(e,t)}}(e),function(e,t){return t.some((function(t){return e instanceof t}))}(e,No||(No=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction]))?new Proxy(e,Lo):e)}function Uo(e){if(e instanceof IDBRequest)return function(e){var t=new Promise((function(t,n){var r=function(){e.removeEventListener("success",i),e.removeEventListener("error",a)},i=function(){t(Uo(e.result)),r()},a=function(){n(e.error),r()};e.addEventListener("success",i),e.addEventListener("error",a)}));return t.then((function(t){t instanceof IDBCursor&&Oo.set(t,e)})).catch((function(){})),Fo.set(t,e),t}(e);if(Do.has(e))return Do.get(e);var t=Mo(e);return t!==e&&(Do.set(e,t),Fo.set(t,e)),t}var Vo=function(e){return Fo.get(e)};var qo,Bo,zo=["get","getKey","getAll","getAllKeys","count"],Wo=["put","add","delete","clear"],Ko=new Map;function Go(e,t){if(e instanceof IDBDatabase&&!(t in e)&&"string"===typeof t){if(Ko.get(t))return Ko.get(t);var n=t.replace(/FromIndex$/,""),r=t!==n,i=Wo.includes(n);if(n in(r?IDBIndex:IDBObjectStore).prototype&&(i||zo.includes(n))){var a=function(){var e=He(Ke().mark((function e(t){var a,o,u,s,c,l,f=arguments;return Ke().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(o=this.transaction(t,i?"readwrite":"readonly"),u=o.store,s=f.length,c=new Array(s>1?s-1:0),l=1;l<s;l++)c[l-1]=f[l];return r&&(u=u.index(c.shift())),e.next=6,Promise.all([(a=u)[n].apply(a,c),i&&o.done]);case 6:return e.abrupt("return",e.sent[0]);case 7:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}();return Ko.set(t,a),a}}}Lo=function(e){return Co(Co({},e),{},{get:function(t,n,r){return Go(t,n)||e.get(t,n,r)},has:function(t,n){return!!Go(t,n)||e.has(t,n)}})}(Lo);var Ho=function(){function e(t){d(this,e),this.container=t}return v(e,[{key:"getPlatformInfoString",value:function(){return this.container.getProviders().map((function(e){if(function(e){var t=e.getComponent();return"VERSION"===(null===t||void 0===t?void 0:t.type)}(e)){var t=e.getImmediate();return"".concat(t.library,"/").concat(t.version)}return null})).filter((function(e){return e})).join(" ")}}]),e}();var Qo="@firebase/app",Yo="0.7.33",$o=new Io("@firebase/app"),Jo="[DEFAULT]",Xo=(ba(qo={},Qo,"fire-core"),ba(qo,"@firebase/app-compat","fire-core-compat"),ba(qo,"@firebase/analytics","fire-analytics"),ba(qo,"@firebase/analytics-compat","fire-analytics-compat"),ba(qo,"@firebase/app-check","fire-app-check"),ba(qo,"@firebase/app-check-compat","fire-app-check-compat"),ba(qo,"@firebase/auth","fire-auth"),ba(qo,"@firebase/auth-compat","fire-auth-compat"),ba(qo,"@firebase/database","fire-rtdb"),ba(qo,"@firebase/database-compat","fire-rtdb-compat"),ba(qo,"@firebase/functions","fire-fn"),ba(qo,"@firebase/functions-compat","fire-fn-compat"),ba(qo,"@firebase/installations","fire-iid"),ba(qo,"@firebase/installations-compat","fire-iid-compat"),ba(qo,"@firebase/messaging","fire-fcm"),ba(qo,"@firebase/messaging-compat","fire-fcm-compat"),ba(qo,"@firebase/performance","fire-perf"),ba(qo,"@firebase/performance-compat","fire-perf-compat"),ba(qo,"@firebase/remote-config","fire-rc"),ba(qo,"@firebase/remote-config-compat","fire-rc-compat"),ba(qo,"@firebase/storage","fire-gcs"),ba(qo,"@firebase/storage-compat","fire-gcs-compat"),ba(qo,"@firebase/firestore","fire-fst"),ba(qo,"@firebase/firestore-compat","fire-fst-compat"),ba(qo,"fire-js","fire-js"),ba(qo,"firebase","fire-js-all"),qo),Zo=new Map,eu=new Map;function tu(e,t){try{e.container.addComponent(t)}catch(n){$o.debug("Component ".concat(t.name," failed to register with FirebaseApp ").concat(e.name),n)}}function nu(e,t){e.container.addOrOverwriteComponent(t)}function ru(e){var t=e.name;if(eu.has(t))return $o.debug("There were multiple attempts to register component ".concat(t,".")),!1;eu.set(t,e);var n,r=ka(Zo.values());try{for(r.s();!(n=r.n()).done;){tu(n.value,e)}}catch(i){r.e(i)}finally{r.f()}return!0}function iu(e,t){var n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}function au(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Jo;iu(e,t).clearInstance(n)}function ou(){eu.clear()}var uu=(ba(Bo={},"no-app","No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()"),ba(Bo,"bad-app-name","Illegal App name: '{$appName}"),ba(Bo,"duplicate-app","Firebase App named '{$appName}' already exists with different options or config"),ba(Bo,"app-deleted","Firebase App named '{$appName}' already deleted"),ba(Bo,"invalid-app-argument","firebase.{$appName}() takes either no argument or a Firebase App instance."),ba(Bo,"invalid-log-argument","First argument to `onLog` must be null or a function."),ba(Bo,"idb-open","Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}."),ba(Bo,"idb-get","Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}."),ba(Bo,"idb-set","Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}."),ba(Bo,"idb-delete","Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."),Bo),su=new za("app","Firebase",uu),cu=function(){function e(t,n,r){var i=this;d(this,e),this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new vo("app",(function(){return i}),"PUBLIC"))}return v(e,[{key:"automaticDataCollectionEnabled",get:function(){return this.checkDestroyed(),this._automaticDataCollectionEnabled},set:function(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}},{key:"name",get:function(){return this.checkDestroyed(),this._name}},{key:"options",get:function(){return this.checkDestroyed(),this._options}},{key:"config",get:function(){return this.checkDestroyed(),this._config}},{key:"container",get:function(){return this._container}},{key:"isDeleted",get:function(){return this._isDeleted},set:function(e){this._isDeleted=e}},{key:"checkDestroyed",value:function(){if(this.isDeleted)throw su.create("app-deleted",{appName:this._name})}}]),e}(),lu="9.10.0";function fu(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if("object"!==typeof t){var n=t;t={name:n}}var r=Object.assign({name:Jo,automaticDataCollectionEnabled:!1},t),i=r.name;if("string"!==typeof i||!i)throw su.create("bad-app-name",{appName:String(i)});var a=Zo.get(i);if(a){if(Za(e,a.options)&&Za(r,a.config))return a;throw su.create("duplicate-app",{appName:i})}var o,u=new bo(i),s=ka(eu.values());try{for(s.s();!(o=s.n()).done;){var c=o.value;u.addComponent(c)}}catch(f){s.e(f)}finally{s.f()}var l=new cu(e,r,u);return Zo.set(i,l),l}function hu(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Jo,t=Zo.get(e);if(!t)throw su.create("no-app",{appName:e});return t}function du(){return Array.from(Zo.values())}function pu(e){return vu.apply(this,arguments)}function vu(){return vu=He(Ke().mark((function e(t){var n;return Ke().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.name,!Zo.has(n)){e.next=6;break}return Zo.delete(n),e.next=5,Promise.all(t.container.getProviders().map((function(e){return e.delete()})));case 5:t.isDeleted=!0;case 6:case"end":return e.stop()}}),e)}))),vu.apply(this,arguments)}function yu(e,t,n){var r,i=null!==(r=Xo[e])&&void 0!==r?r:e;n&&(i+="-".concat(n));var a=i.match(/\s|\//),o=t.match(/\s|\//);if(a||o){var u=['Unable to register library "'.concat(i,'" with version "').concat(t,'":')];return a&&u.push('library name "'.concat(i,'" contains illegal characters (whitespace or "/")')),a&&o&&u.push("and"),o&&u.push('version name "'.concat(t,'" contains illegal characters (whitespace or "/")')),void $o.warn(u.join(" "))}ru(new vo("".concat(i,"-version"),(function(){return{library:i,version:t}}),"VERSION"))}function mu(e,t){if(null!==e&&"function"!==typeof e)throw su.create("invalid-log-argument");!function(e,t){var n,r=ka(wo);try{var i=function(){var r=n.value,i=null;t&&t.level&&(i=_o[t.level]),r.userLogHandler=null===e?null:function(t,n){for(var r=arguments.length,a=new Array(r>2?r-2:0),o=2;o<r;o++)a[o-2]=arguments[o];var u=a.map((function(e){if(null==e)return null;if("string"===typeof e)return e;if("number"===typeof e||"boolean"===typeof e)return e.toString();if(e instanceof Error)return e.message;try{return JSON.stringify(e)}catch(t){return null}})).filter((function(e){return e})).join(" ");n>=(null!==i&&void 0!==i?i:t.logLevel)&&e({level:ko[n].toLowerCase(),message:u,args:a,type:t.name})}};for(r.s();!(n=r.n()).done;)i()}catch(a){r.e(a)}finally{r.f()}}(e,t)}function gu(e){var t;t=e,wo.forEach((function(e){e.setLogLevel(t)}))}var ku="firebase-heartbeat-store",bu=null;function wu(){return bu||(bu=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.blocked,i=n.upgrade,a=n.blocking,o=n.terminated,u=indexedDB.open(e,t),s=Uo(u);return i&&u.addEventListener("upgradeneeded",(function(e){i(Uo(u.result),e.oldVersion,e.newVersion,Uo(u.transaction))})),r&&u.addEventListener("blocked",(function(){return r()})),s.then((function(e){o&&e.addEventListener("close",(function(){return o()})),a&&e.addEventListener("versionchange",(function(){return a()}))})).catch((function(){})),s}("firebase-heartbeat-database",1,{upgrade:function(e,t){if(0===t)e.createObjectStore(ku)}}).catch((function(e){throw su.create("idb-open",{originalErrorMessage:e.message})}))),bu}function _u(e){return xu.apply(this,arguments)}function xu(){return xu=He(Ke().mark((function e(t){var n,r,i;return Ke().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,wu();case 3:return r=e.sent,e.abrupt("return",r.transaction(ku).objectStore(ku).get(Iu(t)));case 7:e.prev=7,e.t0=e.catch(0),e.t0 instanceof Ba?$o.warn(e.t0.message):(i=su.create("idb-get",{originalErrorMessage:null===(n=e.t0)||void 0===n?void 0:n.message}),$o.warn(i.message));case 10:case"end":return e.stop()}}),e,null,[[0,7]])}))),xu.apply(this,arguments)}function Eu(e,t){return Su.apply(this,arguments)}function Su(){return Su=He(Ke().mark((function e(t,n){var r,i,a,o,u;return Ke().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,wu();case 3:return i=e.sent,a=i.transaction(ku,"readwrite"),o=a.objectStore(ku),e.next=8,o.put(n,Iu(t));case 8:return e.abrupt("return",a.done);case 11:e.prev=11,e.t0=e.catch(0),e.t0 instanceof Ba?$o.warn(e.t0.message):(u=su.create("idb-set",{originalErrorMessage:null===(r=e.t0)||void 0===r?void 0:r.message}),$o.warn(u.message));case 14:case"end":return e.stop()}}),e,null,[[0,11]])}))),Su.apply(this,arguments)}function Iu(e){return"".concat(e.name,"!").concat(e.options.appId)}var Tu=function(){function e(t){var n=this;d(this,e),this.container=t,this._heartbeatsCache=null;var r=this.container.getProvider("app").getImmediate();this._storage=new Ou(r),this._heartbeatsCachePromise=this._storage.read().then((function(e){return n._heartbeatsCache=e,e}))}return v(e,[{key:"triggerHeartbeat",value:function(){var e=He(Ke().mark((function e(){var t,n,r;return Ke().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=this.container.getProvider("platform-logger").getImmediate(),n=t.getPlatformInfoString(),r=Cu(),null!==this._heartbeatsCache){e.next=7;break}return e.next=6,this._heartbeatsCachePromise;case 6:this._heartbeatsCache=e.sent;case 7:if(this._heartbeatsCache.lastSentHeartbeatDate!==r&&!this._heartbeatsCache.heartbeats.some((function(e){return e.date===r}))){e.next=11;break}return e.abrupt("return");case 11:this._heartbeatsCache.heartbeats.push({date:r,agent:n});case 12:return this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter((function(e){var t=new Date(e.date).valueOf();return Date.now()-t<=2592e6})),e.abrupt("return",this._storage.overwrite(this._heartbeatsCache));case 14:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getHeartbeatsHeader",value:function(){var e=He(Ke().mark((function e(){var t,n,r,i,a;return Ke().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!==this._heartbeatsCache){e.next=3;break}return e.next=3,this._heartbeatsCachePromise;case 3:if(null!==this._heartbeatsCache&&0!==this._heartbeatsCache.heartbeats.length){e.next=5;break}return e.abrupt("return","");case 5:if(t=Cu(),n=Nu(this._heartbeatsCache.heartbeats),r=n.heartbeatsToSend,i=n.unsentEntries,a=Na(JSON.stringify({version:2,heartbeats:r})),this._heartbeatsCache.lastSentHeartbeatDate=t,!(i.length>0)){e.next=15;break}return this._heartbeatsCache.heartbeats=i,e.next=13,this._storage.overwrite(this._heartbeatsCache);case 13:e.next=17;break;case 15:this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache);case 17:return e.abrupt("return",a);case 18:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}();function Cu(){return(new Date).toISOString().substring(0,10)}function Nu(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1024,r=[],i=e.slice(),a=ka(e);try{var o=function(){var e=t.value,a=r.find((function(t){return t.agent===e.agent}));if(a){if(a.dates.push(e.date),Pu(r)>n)return a.dates.pop(),"break"}else if(r.push({agent:e.agent,dates:[e.date]}),Pu(r)>n)return r.pop(),"break";i=i.slice(1)};for(a.s();!(t=a.n()).done;){var u=o();if("break"===u)break}}catch(s){a.e(s)}finally{a.f()}return{heartbeatsToSend:r,unsentEntries:i}}var Au,Ou=function(){function e(t){d(this,e),this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}return v(e,[{key:"runIndexedDBEnvironmentCheck",value:function(){var e=He(Ke().mark((function e(){return Ke().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(qa()){e.next=4;break}return e.abrupt("return",!1);case 4:return e.abrupt("return",new Promise((function(e,t){try{var n=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=function(){i.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},i.onupgradeneeded=function(){n=!1},i.onerror=function(){var e;t((null===(e=i.error)||void 0===e?void 0:e.message)||"")}}catch(PO){t(PO)}})).then((function(){return!0})).catch((function(){return!1})));case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"read",value:function(){var e=He(Ke().mark((function e(){var t;return Ke().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._canUseIndexedDBPromise;case 2:if(e.sent){e.next=7;break}return e.abrupt("return",{heartbeats:[]});case 7:return e.next=9,_u(this.app);case 9:return t=e.sent,e.abrupt("return",t||{heartbeats:[]});case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"overwrite",value:function(){var e=He(Ke().mark((function e(t){var n,r;return Ke().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._canUseIndexedDBPromise;case 2:if(e.sent){e.next=7;break}return e.abrupt("return");case 7:return e.next=9,this.read();case 9:return r=e.sent,e.abrupt("return",Eu(this.app,{lastSentHeartbeatDate:null!==(n=t.lastSentHeartbeatDate)&&void 0!==n?n:r.lastSentHeartbeatDate,heartbeats:t.heartbeats}));case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"add",value:function(){var e=He(Ke().mark((function e(t){var n,r;return Ke().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._canUseIndexedDBPromise;case 2:if(e.sent){e.next=7;break}return e.abrupt("return");case 7:return e.next=9,this.read();case 9:return r=e.sent,e.abrupt("return",Eu(this.app,{lastSentHeartbeatDate:null!==(n=t.lastSentHeartbeatDate)&&void 0!==n?n:r.lastSentHeartbeatDate,heartbeats:[].concat(h(r.heartbeats),h(t.heartbeats))}));case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),e}();function Pu(e){return Na(JSON.stringify({version:2,heartbeats:e})).length}Au="",ru(new vo("platform-logger",(function(e){return new Ho(e)}),"PRIVATE")),ru(new vo("heartbeat",(function(e){return new Tu(e)}),"PRIVATE")),yu(Qo,Yo,Au),yu(Qo,Yo,"esm2017"),yu("fire-js","");function Ru(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=g(e)););return e}function Du(){return Du="undefined"!==typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=Ru(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(arguments.length<3?e:n):i.value}},Du.apply(this,arguments)}yu("firebase","9.10.0","app");function Fu(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}Object.create;var Lu;Object.create;var ju="facebook.com",Mu="github.com",Uu="google.com",Vu="password",qu="twitter.com",Bu="EMAIL_SIGNIN",zu="PASSWORD_RESET",Wu="RECOVER_EMAIL",Ku="REVERT_SECOND_FACTOR_ADDITION",Gu="VERIFY_AND_CHANGE_EMAIL",Hu="VERIFY_EMAIL";function Qu(){return ba({},"dependent-sdk-initialized-before-auth","Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.")}var Yu=function(){var e;return ba(e={},"admin-restricted-operation","This operation is restricted to administrators only."),ba(e,"argument-error",""),ba(e,"app-not-authorized","This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console."),ba(e,"app-not-installed","The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device."),ba(e,"captcha-check-failed","The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains."),ba(e,"code-expired","The SMS code has expired. Please re-send the verification code to try again."),ba(e,"cordova-not-ready","Cordova framework is not ready."),ba(e,"cors-unsupported","This browser is not supported."),ba(e,"credential-already-in-use","This credential is already associated with a different user account."),ba(e,"custom-token-mismatch","The custom token corresponds to a different audience."),ba(e,"requires-recent-login","This operation is sensitive and requires recent authentication. Log in again before retrying this request."),ba(e,"dependent-sdk-initialized-before-auth","Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."),ba(e,"dynamic-link-not-activated","Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions."),ba(e,"email-change-needs-verification","Multi-factor users must always have a verified email."),ba(e,"email-already-in-use","The email address is already in use by another account."),ba(e,"emulator-config-failed",'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.'),ba(e,"expired-action-code","The action code has expired."),ba(e,"cancelled-popup-request","This operation has been cancelled due to another conflicting popup being opened."),ba(e,"internal-error","An internal AuthError has occurred."),ba(e,"invalid-app-credential","The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired."),ba(e,"invalid-app-id","The mobile app identifier is not registed for the current project."),ba(e,"invalid-user-token","This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key."),ba(e,"invalid-auth-event","An internal AuthError has occurred."),ba(e,"invalid-verification-code","The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user."),ba(e,"invalid-continue-uri","The continue URL provided in the request is invalid."),ba(e,"invalid-cordova-configuration","The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme."),ba(e,"invalid-custom-token","The custom token format is incorrect. Please check the documentation."),ba(e,"invalid-dynamic-link-domain","The provided dynamic link domain is not configured or authorized for the current project."),ba(e,"invalid-email","The email address is badly formatted."),ba(e,"invalid-emulator-scheme","Emulator URL must start with a valid scheme (http:// or https://)."),ba(e,"invalid-api-key","Your API key is invalid, please check you have copied it correctly."),ba(e,"invalid-cert-hash","The SHA-1 certificate hash provided is invalid."),ba(e,"invalid-credential","The supplied auth credential is malformed or has expired."),ba(e,"invalid-message-payload","The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console."),ba(e,"invalid-multi-factor-session","The request does not contain a valid proof of first factor successful sign-in."),ba(e,"invalid-oauth-provider","EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers."),ba(e,"invalid-oauth-client-id","The OAuth client ID provided is either invalid or does not match the specified API key."),ba(e,"unauthorized-domain","This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console."),ba(e,"invalid-action-code","The action code is invalid. This can happen if the code is malformed, expired, or has already been used."),ba(e,"wrong-password","The password is invalid or the user does not have a password."),ba(e,"invalid-persistence-type","The specified persistence type is invalid. It can only be local, session or none."),ba(e,"invalid-phone-number","The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code]."),ba(e,"invalid-provider-id","The specified provider ID is invalid."),ba(e,"invalid-recipient-email","The email corresponding to this action failed to send as the provided recipient email address is invalid."),ba(e,"invalid-sender","The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console."),ba(e,"invalid-verification-id","The verification ID used to create the phone auth credential is invalid."),ba(e,"invalid-tenant-id","The Auth instance's tenant ID is invalid."),ba(e,"login-blocked","Login blocked by user-provided method: {$originalMessage}"),ba(e,"missing-android-pkg-name","An Android Package Name must be provided if the Android App is required to be installed."),ba(e,"auth-domain-config-required","Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console."),ba(e,"missing-app-credential","The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided."),ba(e,"missing-verification-code","The phone auth credential was created with an empty SMS verification code."),ba(e,"missing-continue-uri","A continue URL must be provided in the request."),ba(e,"missing-iframe-start","An internal AuthError has occurred."),ba(e,"missing-ios-bundle-id","An iOS Bundle ID must be provided if an App Store ID is provided."),ba(e,"missing-or-invalid-nonce","The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload."),ba(e,"missing-multi-factor-info","No second factor identifier is provided."),ba(e,"missing-multi-factor-session","The request is missing proof of first factor successful sign-in."),ba(e,"missing-phone-number","To send verification codes, provide a phone number for the recipient."),ba(e,"missing-verification-id","The phone auth credential was created with an empty verification ID."),ba(e,"app-deleted","This instance of FirebaseApp has been deleted."),ba(e,"multi-factor-info-not-found","The user does not have a second factor matching the identifier provided."),ba(e,"multi-factor-auth-required","Proof of ownership of a second factor is required to complete sign-in."),ba(e,"account-exists-with-different-credential","An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address."),ba(e,"network-request-failed","A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred."),ba(e,"no-auth-event","An internal AuthError has occurred."),ba(e,"no-such-provider","User was not linked to an account with the given provider."),ba(e,"null-user","A null user object was provided as the argument for an operation which requires a non-null user object."),ba(e,"operation-not-allowed","The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section."),ba(e,"operation-not-supported-in-this-environment",'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.'),ba(e,"popup-blocked","Unable to establish a connection with the popup. It may have been blocked by the browser."),ba(e,"popup-closed-by-user","The popup has been closed by the user before finalizing the operation."),ba(e,"provider-already-linked","User can only be linked to one identity for the given provider."),ba(e,"quota-exceeded","The project's quota for this operation has been exceeded."),ba(e,"redirect-cancelled-by-user","The redirect operation has been cancelled by the user before finalizing."),ba(e,"redirect-operation-pending","A redirect sign-in operation is already pending."),ba(e,"rejected-credential","The request contains malformed or mismatching credentials."),ba(e,"second-factor-already-in-use","The second factor is already enrolled on this account."),ba(e,"maximum-second-factor-count-exceeded","The maximum allowed number of second factors on a user has been exceeded."),ba(e,"tenant-id-mismatch","The provided tenant ID does not match the Auth instance's tenant ID"),ba(e,"timeout","The operation has timed out."),ba(e,"user-token-expired","The user's credential is no longer valid. The user must sign in again."),ba(e,"too-many-requests","We have blocked all requests from this device due to unusual activity. Try again later."),ba(e,"unauthorized-continue-uri","The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console."),ba(e,"unsupported-first-factor","Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor."),ba(e,"unsupported-persistence-type","The current environment does not support the specified persistence type."),ba(e,"unsupported-tenant-operation","This operation is not supported in a multi-tenant context."),ba(e,"unverified-email","The operation requires a verified email."),ba(e,"user-cancelled","The user did not grant your application the permissions it requested."),ba(e,"user-not-found","There is no user record corresponding to this identifier. The user may have been deleted."),ba(e,"user-disabled","The user account has been disabled by an administrator."),ba(e,"user-mismatch","The supplied credentials do not correspond to the previously signed in user."),ba(e,"user-signed-out",""),ba(e,"weak-password","The password must be 6 characters long or more."),ba(e,"web-storage-unsupported","This browser is not supported or 3rd party cookies and data may be disabled."),ba(e,"already-initialized","initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."),e},$u=Qu,Ju=new za("auth","Firebase",Qu()),Xu=new Io("@firebase/auth");function Zu(e){if(Xu.logLevel<=ko.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];Xu.error.apply(Xu,["Auth (".concat(lu,"): ").concat(e)].concat(n))}}function es(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw is.apply(void 0,[e].concat(n))}function ts(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return is.apply(void 0,[e].concat(n))}function ns(e,t,n){var r=Object.assign(Object.assign({},$u()),ba({},t,n));return new za("auth","Firebase",r).create(t,{appName:e.name})}function rs(e,t,n){if(!(t instanceof n))throw n.name!==t.constructor.name&&es(e,"argument-error"),ns(e,"argument-error","Type of ".concat(t.constructor.name," does not match expected instance.")+"Did you pass a reference from a different Auth SDK?")}function is(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];if("string"!==typeof e){var i,a=n[0],o=h(n.slice(1));return o[0]&&(o[0].appName=e.name),(i=e._errorFactory).create.apply(i,[a].concat(h(o)))}return Ju.create.apply(Ju,[e].concat(n))}function as(e,t){if(!e){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];throw is.apply(void 0,[t].concat(r))}}function os(e){var t="INTERNAL ASSERTION FAILED: "+e;throw Zu(t),new Error(t)}function us(e,t){e||os(t)}var ss=new Map;function cs(e){us(e instanceof Function,"Expected a class definition");var t=ss.get(e);return t?(us(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,ss.set(e,t),t)}function ls(e,t){var n=iu(e,"auth");if(n.isInitialized()){var r=n.getImmediate();if(Za(n.getOptions(),null!==t&&void 0!==t?t:{}))return r;es(r,"already-initialized")}return n.initialize({options:t})}function fs(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.href)||""}function hs(){return"http:"===ds()||"https:"===ds()}function ds(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.protocol)||null}var ps=function(){function e(t,n){d(this,e),this.shortDelay=t,this.longDelay=n,us(n>t,"Short delay should be less than long delay!"),this.isMobile=Fa()||Ma()}return v(e,[{key:"get",value:function(){return"undefined"!==typeof navigator&&navigator&&"onLine"in navigator&&"boolean"===typeof navigator.onLine&&(hs()||ja()||"connection"in navigator)&&!navigator.onLine?Math.min(5e3,this.shortDelay):this.isMobile?this.longDelay:this.shortDelay}}]),e}();function vs(e,t){us(e.emulator,"Emulator should always be set here");var n=e.emulator.url;return t?"".concat(n).concat(t.startsWith("/")?t.slice(1):t):n}var ys=function(){function e(){d(this,e)}return v(e,null,[{key:"initialize",value:function(e,t,n){this.fetchImpl=e,t&&(this.headersImpl=t),n&&(this.responseImpl=n)}},{key:"fetch",value:function(){return this.fetchImpl?this.fetchImpl:"undefined"!==typeof self&&"fetch"in self?self.fetch:void os("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}},{key:"headers",value:function(){return this.headersImpl?this.headersImpl:"undefined"!==typeof self&&"Headers"in self?self.Headers:void os("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}},{key:"response",value:function(){return this.responseImpl?this.responseImpl:"undefined"!==typeof self&&"Response"in self?self.Response:void os("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}]),e}(),ms=(ba(Lu={},"CREDENTIAL_MISMATCH","custom-token-mismatch"),ba(Lu,"MISSING_CUSTOM_TOKEN","internal-error"),ba(Lu,"INVALID_IDENTIFIER","invalid-email"),ba(Lu,"MISSING_CONTINUE_URI","internal-error"),ba(Lu,"INVALID_PASSWORD","wrong-password"),ba(Lu,"MISSING_PASSWORD","internal-error"),ba(Lu,"EMAIL_EXISTS","email-already-in-use"),ba(Lu,"PASSWORD_LOGIN_DISABLED","operation-not-allowed"),ba(Lu,"INVALID_IDP_RESPONSE","invalid-credential"),ba(Lu,"INVALID_PENDING_TOKEN","invalid-credential"),ba(Lu,"FEDERATED_USER_ID_ALREADY_LINKED","credential-already-in-use"),ba(Lu,"MISSING_REQ_TYPE","internal-error"),ba(Lu,"EMAIL_NOT_FOUND","user-not-found"),ba(Lu,"RESET_PASSWORD_EXCEED_LIMIT","too-many-requests"),ba(Lu,"EXPIRED_OOB_CODE","expired-action-code"),ba(Lu,"INVALID_OOB_CODE","invalid-action-code"),ba(Lu,"MISSING_OOB_CODE","internal-error"),ba(Lu,"CREDENTIAL_TOO_OLD_LOGIN_AGAIN","requires-recent-login"),ba(Lu,"INVALID_ID_TOKEN","invalid-user-token"),ba(Lu,"TOKEN_EXPIRED","user-token-expired"),ba(Lu,"USER_NOT_FOUND","user-token-expired"),ba(Lu,"TOO_MANY_ATTEMPTS_TRY_LATER","too-many-requests"),ba(Lu,"INVALID_CODE","invalid-verification-code"),ba(Lu,"INVALID_SESSION_INFO","invalid-verification-id"),ba(Lu,"INVALID_TEMPORARY_PROOF","invalid-credential"),ba(Lu,"MISSING_SESSION_INFO","missing-verification-id"),ba(Lu,"SESSION_EXPIRED","code-expired"),ba(Lu,"MISSING_ANDROID_PACKAGE_NAME","missing-android-pkg-name"),ba(Lu,"UNAUTHORIZED_DOMAIN","unauthorized-continue-uri"),ba(Lu,"INVALID_OAUTH_CLIENT_ID","invalid-oauth-client-id"),ba(Lu,"ADMIN_ONLY_OPERATION","admin-restricted-operation"),ba(Lu,"INVALID_MFA_PENDING_CREDENTIAL","invalid-multi-factor-session"),ba(Lu,"MFA_ENROLLMENT_NOT_FOUND","multi-factor-info-not-found"),ba(Lu,"MISSING_MFA_ENROLLMENT_ID","missing-multi-factor-info"),ba(Lu,"MISSING_MFA_PENDING_CREDENTIAL","missing-multi-factor-session"),ba(Lu,"SECOND_FACTOR_EXISTS","second-factor-already-in-use"),ba(Lu,"SECOND_FACTOR_LIMIT_EXCEEDED","maximum-second-factor-count-exceeded"),ba(Lu,"BLOCKING_FUNCTION_ERROR_RESPONSE","internal-error"),Lu),gs=new ps(3e4,6e4);function ks(e,t){return e.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:e.tenantId}):t}function bs(e,t,n,r){return ws.apply(this,arguments)}function ws(){return ws=He(Ke().mark((function e(t,n,r,i){var a,o=arguments;return Ke().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=o.length>4&&void 0!==o[4]?o[4]:{},e.abrupt("return",_s(t,a,He(Ke().mark((function e(){var a,o,u,s;return Ke().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={},o={},i&&("GET"===n?o=i:a={body:JSON.stringify(i)}),u=to(Object.assign({key:t.config.apiKey},o)).slice(1),e.next=6,t._getAdditionalHeaders();case 6:return(s=e.sent)["Content-Type"]="application/json",t.languageCode&&(s["X-Firebase-Locale"]=t.languageCode),e.abrupt("return",ys.fetch()(Is(t,t.config.apiHost,r,u),Object.assign({method:n,headers:s,referrerPolicy:"no-referrer"},a)));case 10:case"end":return e.stop()}}),e)})))));case 2:case"end":return e.stop()}}),e)}))),ws.apply(this,arguments)}function _s(e,t,n){return xs.apply(this,arguments)}function xs(){return xs=He(Ke().mark((function e(t,n,r){var i,a,o,u,s,c,f,h,d,p;return Ke().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t._canInitEmulator=!1,i=Object.assign(Object.assign({},ms),n),e.prev=2,a=new Ts(t),e.next=6,Promise.race([r(),a.promise]);case 6:return o=e.sent,a.clearNetworkTimeout(),e.next=10,o.json();case 10:if(!("needConfirmation"in(u=e.sent))){e.next=13;break}throw Cs(t,"account-exists-with-different-credential",u);case 13:if(!o.ok||"errorMessage"in u){e.next=17;break}return e.abrupt("return",u);case 17:if(s=o.ok?u.errorMessage:u.error.message,c=s.split(" : "),f=l(c,2),h=f[0],d=f[1],"FEDERATED_USER_ID_ALREADY_LINKED"!==h){e.next=23;break}throw Cs(t,"credential-already-in-use",u);case 23:if("EMAIL_EXISTS"!==h){e.next=27;break}throw Cs(t,"email-already-in-use",u);case 27:if("USER_DISABLED"!==h){e.next=29;break}throw Cs(t,"user-disabled",u);case 29:if(p=i[h]||h.toLowerCase().replace(/[_\s]+/g,"-"),!d){e.next=34;break}throw ns(t,p,d);case 34:es(t,p);case 35:e.next=42;break;case 37:if(e.prev=37,e.t0=e.catch(2),!(e.t0 instanceof Ba)){e.next=41;break}throw e.t0;case 41:es(t,"network-request-failed");case 42:case"end":return e.stop()}}),e,null,[[2,37]])}))),xs.apply(this,arguments)}function Es(e,t,n,r){return Ss.apply(this,arguments)}function Ss(){return Ss=He(Ke().mark((function e(t,n,r,i){var a,o,u=arguments;return Ke().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=u.length>4&&void 0!==u[4]?u[4]:{},e.next=3,bs(t,n,r,i,a);case 3:return"mfaPendingCredential"in(o=e.sent)&&es(t,"multi-factor-auth-required",{_serverResponse:o}),e.abrupt("return",o);case 6:case"end":return e.stop()}}),e)}))),Ss.apply(this,arguments)}function Is(e,t,n,r){var i="".concat(t).concat(n,"?").concat(r);return e.config.emulator?vs(e.config,i):"".concat(e.config.apiScheme,"://").concat(i)}var Ts=function(){function e(t){var n=this;d(this,e),this.auth=t,this.timer=null,this.promise=new Promise((function(e,t){n.timer=setTimeout((function(){return t(ts(n.auth,"network-request-failed"))}),gs.get())}))}return v(e,[{key:"clearNetworkTimeout",value:function(){clearTimeout(this.timer)}}]),e}();function Cs(e,t,n){var r={appName:e.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);var i=ts(e,t,r);return i.customData._tokenResponse=n,i}function Ns(e,t){return As.apply(this,arguments)}function As(){return As=He(Ke().mark((function e(t,n){return Ke().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",bs(t,"POST","/v1/accounts:delete",n));case 1:case"end":return e.stop()}}),e)}))),As.apply(this,arguments)}function Os(e,t){return Ps.apply(this,arguments)}function Ps(){return Ps=He(Ke().mark((function e(t,n){return Ke().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",bs(t,"POST","/v1/accounts:update",n));case 1:case"end":return e.stop()}}),e)}))),Ps.apply(this,arguments)}function Rs(e,t){return Ds.apply(this,arguments)}function Ds(){return Ds=He(Ke().mark((function e(t,n){return Ke().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",bs(t,"POST","/v1/accounts:lookup",n));case 1:case"end":return e.stop()}}),e)}))),Ds.apply(this,arguments)}function Fs(e){if(e)try{var t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch(n){}}function Ls(){return Ls=He(Ke().mark((function e(t){var n,r,i,a,o,u,s=arguments;return Ke().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=s.length>1&&void 0!==s[1]&&s[1],r=po(t),e.next=4,r.getIdToken(n);case 4:return i=e.sent,as((a=Ms(i))&&a.exp&&a.auth_time&&a.iat,r.auth,"internal-error"),o="object"===typeof a.firebase?a.firebase:void 0,u=null===o||void 0===o?void 0:o.sign_in_provider,e.abrupt("return",{claims:a,token:i,authTime:Fs(js(a.auth_time)),issuedAtTime:Fs(js(a.iat)),expirationTime:Fs(js(a.exp)),signInProvider:u||null,signInSecondFactor:(null===o||void 0===o?void 0:o.sign_in_second_factor)||null});case 10:case"end":return e.stop()}}),e)}))),Ls.apply(this,arguments)}function js(e){return 1e3*Number(e)}function Ms(e){var t,n=l(e.split("."),3),r=n[0],i=n[1],a=n[2];if(void 0===r||void 0===i||void 0===a)return Zu("JWT malformed, contained fewer than 3 sections"),null;try{var o=Aa(i);return o?JSON.parse(o):(Zu("Failed to decode base64 JWT payload"),null)}catch(u){return Zu("Caught error parsing JWT payload as JSON",null===(t=u)||void 0===t?void 0:t.toString()),null}}function Us(e,t){return Vs.apply(this,arguments)}function Vs(){return Vs=He(Ke().mark((function e(t,n){var r=arguments;return Ke().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(r.length>2&&void 0!==r[2]&&r[2])){e.next=3;break}return e.abrupt("return",n);case 3:return e.prev=3,e.next=6,n;case 6:return e.abrupt("return",e.sent);case 9:if(e.prev=9,e.t0=e.catch(3),!(e.t0 instanceof Ba&&qs(e.t0))){e.next=15;break}if(t.auth.currentUser!==t){e.next=15;break}return e.next=15,t.auth.signOut();case 15:throw e.t0;case 16:case"end":return e.stop()}}),e,null,[[3,9]])}))),Vs.apply(this,arguments)}function qs(e){var t=e.code;return t==="auth/".concat("user-disabled")||t==="auth/".concat("user-token-expired")}var Bs=function(){function e(t){d(this,e),this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}return v(e,[{key:"_start",value:function(){this.isRunning||(this.isRunning=!0,this.schedule())}},{key:"_stop",value:function(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}},{key:"getInterval",value:function(e){var t;if(e){var n=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),n}this.errorBackoff=3e4;var r=(null!==(t=this.user.stsTokenManager.expirationTime)&&void 0!==t?t:0)-Date.now()-3e5;return Math.max(0,r)}},{key:"schedule",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(this.isRunning){var n=this.getInterval(t);this.timerId=setTimeout(He(Ke().mark((function t(){return Ke().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.iteration();case 2:case"end":return t.stop()}}),t)}))),n)}}},{key:"iteration",value:function(){var e=He(Ke().mark((function e(){var t;return Ke().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.user.getIdToken(!0);case 3:e.next=9;break;case 5:return e.prev=5,e.t0=e.catch(0),(null===(t=e.t0)||void 0===t?void 0:t.code)==="auth/".concat("network-request-failed")&&this.schedule(!0),e.abrupt("return");case 9:this.schedule();case 10:case"end":return e.stop()}}),e,this,[[0,5]])})));return function(){return e.apply(this,arguments)}}()}]),e}(),zs=function(){function e(t,n){d(this,e),this.createdAt=t,this.lastLoginAt=n,this._initializeTime()}return v(e,[{key:"_initializeTime",value:function(){this.lastSignInTime=Fs(this.lastLoginAt),this.creationTime=Fs(this.createdAt)}},{key:"_copy",value:function(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}},{key:"toJSON",value:function(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}]),e}();function Ws(e){return Ks.apply(this,arguments)}function Ks(){return Ks=He(Ke().mark((function e(t){var n,r,i,a,o,u,s,c,l,f,h;return Ke().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.auth,e.next=3,t.getIdToken();case 3:return i=e.sent,e.next=6,Us(t,Rs(r,{idToken:i}));case 6:as(null===(a=e.sent)||void 0===a?void 0:a.users.length,r,"internal-error"),o=a.users[0],t._notifyReloadListener(o),u=(null===(n=o.providerUserInfo)||void 0===n?void 0:n.length)?Qs(o.providerUserInfo):[],s=Hs(t.providerData,u),c=t.isAnonymous,l=!(t.email&&o.passwordHash)&&!(null===s||void 0===s?void 0:s.length),f=!!c&&l,h={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:s,metadata:new zs(o.createdAt,o.lastLoginAt),isAnonymous:f},Object.assign(t,h);case 17:case"end":return e.stop()}}),e)}))),Ks.apply(this,arguments)}function Gs(){return(Gs=He(Ke().mark((function e(t){var n;return Ke().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=po(t),e.next=3,Ws(n);case 3:return e.next=5,n.auth._persistUserIfCurrent(n);case 5:n.auth._notifyListenersIfCurrent(n);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Hs(e,t){var n=e.filter((function(e){return!t.some((function(t){return t.providerId===e.providerId}))}));return[].concat(h(n),h(t))}function Qs(e){return e.map((function(e){var t=e.providerId,n=Fu(e,["providerId"]);return{providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}}))}function Ys(e,t){return $s.apply(this,arguments)}function $s(){return $s=He(Ke().mark((function e(t,n){var r;return Ke().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,_s(t,{},He(Ke().mark((function e(){var r,i,a,o,u,s;return Ke().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=to({grant_type:"refresh_token",refresh_token:n}).slice(1),i=t.config,a=i.tokenApiHost,o=i.apiKey,u=Is(t,a,"/v1/token","key=".concat(o)),e.next=5,t._getAdditionalHeaders();case 5:return(s=e.sent)["Content-Type"]="application/x-www-form-urlencoded",e.abrupt("return",ys.fetch()(u,{method:"POST",headers:s,body:r}));case 8:case"end":return e.stop()}}),e)}))));case 2:return r=e.sent,e.abrupt("return",{accessToken:r.access_token,expiresIn:r.expires_in,refreshToken:r.refresh_token});case 4:case"end":return e.stop()}}),e)}))),$s.apply(this,arguments)}var Js=function(){function e(){d(this,e),this.refreshToken=null,this.accessToken=null,this.expirationTime=null}return v(e,[{key:"isExpired",get:function(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}},{key:"updateFromServerResponse",value:function(e){as(e.idToken,"internal-error"),as("undefined"!==typeof e.idToken,"internal-error"),as("undefined"!==typeof e.refreshToken,"internal-error");var t="expiresIn"in e&&"undefined"!==typeof e.expiresIn?Number(e.expiresIn):function(e){var t=Ms(e);return as(t,"internal-error"),as("undefined"!==typeof t.exp,"internal-error"),as("undefined"!==typeof t.iat,"internal-error"),Number(t.exp)-Number(t.iat)}(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}},{key:"getToken",value:function(){var e=He(Ke().mark((function e(t){var n,r=arguments;return Ke().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=r.length>1&&void 0!==r[1]&&r[1],as(!this.accessToken||this.refreshToken,t,"user-token-expired"),n||!this.accessToken||this.isExpired){e.next=4;break}return e.abrupt("return",this.accessToken);case 4:if(!this.refreshToken){e.next=8;break}return e.next=7,this.refresh(t,this.refreshToken);case 7:return e.abrupt("return",this.accessToken);case 8:return e.abrupt("return",null);case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"clearRefreshToken",value:function(){this.refreshToken=null}},{key:"refresh",value:function(){var e=He(Ke().mark((function e(t,n){var r,i,a,o;return Ke().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ys(t,n);case 2:r=e.sent,i=r.accessToken,a=r.refreshToken,o=r.expiresIn,this.updateTokensAndExpiration(i,a,Number(o));case 7:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"updateTokensAndExpiration",value:function(e,t,n){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*n}},{key:"toJSON",value:function(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}},{key:"_assign",value:function(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}},{key:"_clone",value:function(){return Object.assign(new e,this.toJSON())}},{key:"_performRefresh",value:function(){return os("not implemented")}}],[{key:"fromJSON",value:function(t,n){var r=n.refreshToken,i=n.accessToken,a=n.expirationTime,o=new e;return r&&(as("string"===typeof r,"internal-error",{appName:t}),o.refreshToken=r),i&&(as("string"===typeof i,"internal-error",{appName:t}),o.accessToken=i),a&&(as("number"===typeof a,"internal-error",{appName:t}),o.expirationTime=a),o}}]),e}();function Xs(e,t){as("string"===typeof e||"undefined"===typeof e,"internal-error",{appName:t})}var Zs=function(){function e(t){d(this,e);var n=t.uid,r=t.auth,i=t.stsTokenManager,a=Fu(t,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Bs(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?h(a.providerData):[],this.metadata=new zs(a.createdAt||void 0,a.lastLoginAt||void 0)}return v(e,[{key:"getIdToken",value:function(){var e=He(Ke().mark((function e(t){var n;return Ke().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Us(this,this.stsTokenManager.getToken(this.auth,t));case 2:if(as(n=e.sent,this.auth,"internal-error"),this.accessToken===n){e.next=9;break}return this.accessToken=n,e.next=8,this.auth._persistUserIfCurrent(this);case 8:this.auth._notifyListenersIfCurrent(this);case 9:return e.abrupt("return",n);case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getIdTokenResult",value:function(e){return function(e){return Ls.apply(this,arguments)}(this,e)}},{key:"reload",value:function(){return function(e){return Gs.apply(this,arguments)}(this)}},{key:"_assign",value:function(e){this!==e&&(as(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map((function(e){return Object.assign({},e)})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}},{key:"_clone",value:function(t){return new e(Object.assign(Object.assign({},this),{auth:t,stsTokenManager:this.stsTokenManager._clone()}))}},{key:"_onReload",value:function(e){as(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}},{key:"_notifyReloadListener",value:function(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}},{key:"_startProactiveRefresh",value:function(){this.proactiveRefresh._start()}},{key:"_stopProactiveRefresh",value:function(){this.proactiveRefresh._stop()}},{key:"_updateTokensIfNecessary",value:function(){var e=He(Ke().mark((function e(t){var n,r,i=arguments;return Ke().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=i.length>1&&void 0!==i[1]&&i[1],r=!1,t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),r=!0),!n){e.next=6;break}return e.next=6,Ws(this);case 6:return e.next=8,this.auth._persistUserIfCurrent(this);case 8:r&&this.auth._notifyListenersIfCurrent(this);case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"delete",value:function(){var e=He(Ke().mark((function e(){var t;return Ke().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getIdToken();case 2:return t=e.sent,e.next=5,Us(this,Ns(this.auth,{idToken:t}));case 5:return this.stsTokenManager.clearRefreshToken(),e.abrupt("return",this.auth.signOut());case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"toJSON",value:function(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map((function(e){return Object.assign({},e)})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}},{key:"refreshToken",get:function(){return this.stsTokenManager.refreshToken||""}}],[{key:"_fromJSON",value:function(t,n){var r,i,a,o,u,s,c,l,f=null!==(r=n.displayName)&&void 0!==r?r:void 0,h=null!==(i=n.email)&&void 0!==i?i:void 0,d=null!==(a=n.phoneNumber)&&void 0!==a?a:void 0,p=null!==(o=n.photoURL)&&void 0!==o?o:void 0,v=null!==(u=n.tenantId)&&void 0!==u?u:void 0,y=null!==(s=n._redirectEventId)&&void 0!==s?s:void 0,m=null!==(c=n.createdAt)&&void 0!==c?c:void 0,g=null!==(l=n.lastLoginAt)&&void 0!==l?l:void 0,k=n.uid,b=n.emailVerified,w=n.isAnonymous,_=n.providerData,x=n.stsTokenManager;as(k&&x,t,"internal-error");var E=Js.fromJSON(this.name,x);as("string"===typeof k,t,"internal-error"),Xs(f,t.name),Xs(h,t.name),as("boolean"===typeof b,t,"internal-error"),as("boolean"===typeof w,t,"internal-error"),Xs(d,t.name),Xs(p,t.name),Xs(v,t.name),Xs(y,t.name),Xs(m,t.name),Xs(g,t.name);var S=new e({uid:k,auth:t,email:h,emailVerified:b,displayName:f,isAnonymous:w,photoURL:p,phoneNumber:d,tenantId:v,stsTokenManager:E,createdAt:m,lastLoginAt:g});return _&&Array.isArray(_)&&(S.providerData=_.map((function(e){return Object.assign({},e)}))),y&&(S._redirectEventId=y),S}},{key:"_fromIdTokenResponse",value:function(){var t=He(Ke().mark((function t(n,r){var i,a,o,u=arguments;return Ke().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return i=u.length>2&&void 0!==u[2]&&u[2],(a=new Js).updateFromServerResponse(r),o=new e({uid:r.localId,auth:n,stsTokenManager:a,isAnonymous:i}),t.next=6,Ws(o);case 6:return t.abrupt("return",o);case 7:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()}]),e}(),ec=function(){function e(){d(this,e),this.type="NONE",this.storage={}}return v(e,[{key:"_isAvailable",value:function(){var e=He(Ke().mark((function e(){return Ke().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",!0);case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"_set",value:function(){var e=He(Ke().mark((function e(t,n){return Ke().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.storage[t]=n;case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_get",value:function(){var e=He(Ke().mark((function e(t){var n;return Ke().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=this.storage[t],e.abrupt("return",void 0===n?null:n);case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_remove",value:function(){var e=He(Ke().mark((function e(t){return Ke().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:delete this.storage[t];case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_addListener",value:function(e,t){}},{key:"_removeListener",value:function(e,t){}}]),e}();ec.type="NONE";var tc=ec;function nc(e,t,n){return"firebase".concat(":",e,":").concat(t,":").concat(n)}var rc=function(){function e(t,n,r){d(this,e),this.persistence=t,this.auth=n,this.userKey=r;var i=this.auth,a=i.config,o=i.name;this.fullUserKey=nc(this.userKey,a.apiKey,o),this.fullPersistenceKey=nc("persistence",a.apiKey,o),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}return v(e,[{key:"setCurrentUser",value:function(e){return this.persistence._set(this.fullUserKey,e.toJSON())}},{key:"getCurrentUser",value:function(){var e=He(Ke().mark((function e(){var t;return Ke().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.persistence._get(this.fullUserKey);case 2:return t=e.sent,e.abrupt("return",t?Zs._fromJSON(this.auth,t):null);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"removeCurrentUser",value:function(){return this.persistence._remove(this.fullUserKey)}},{key:"savePersistenceForRedirect",value:function(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}},{key:"setPersistence",value:function(){var e=He(Ke().mark((function e(t){var n;return Ke().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.persistence!==t){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,this.getCurrentUser();case 4:return n=e.sent,e.next=7,this.removeCurrentUser();case 7:if(this.persistence=t,!n){e.next=10;break}return e.abrupt("return",this.setCurrentUser(n));case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"delete",value:function(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}}],[{key:"create",value:function(){var t=He(Ke().mark((function t(n,r){var i,a,o,u,s,c,l,f,h,d,p,v=arguments;return Ke().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(i=v.length>2&&void 0!==v[2]?v[2]:"authUser",r.length){t.next=3;break}return t.abrupt("return",new e(cs(tc),n,i));case 3:return t.next=5,Promise.all(r.map(function(){var e=He(Ke().mark((function e(t){return Ke().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._isAvailable();case 2:if(!e.sent){e.next=4;break}return e.abrupt("return",t);case 4:return e.abrupt("return",void 0);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 5:a=t.sent.filter((function(e){return e})),o=a[0]||cs(tc),u=nc(i,n.config.apiKey,n.name),s=null,c=ka(r),t.prev=10,c.s();case 12:if((l=c.n()).done){t.next=29;break}return f=l.value,t.prev=14,t.next=17,f._get(u);case 17:if(!(h=t.sent)){t.next=23;break}return d=Zs._fromJSON(n,h),f!==o&&(s=d),o=f,t.abrupt("break",29);case 23:t.next=27;break;case 25:t.prev=25,t.t0=t.catch(14);case 27:t.next=12;break;case 29:t.next=34;break;case 31:t.prev=31,t.t1=t.catch(10),c.e(t.t1);case 34:return t.prev=34,c.f(),t.finish(34);case 37:if(p=a.filter((function(e){return e._shouldAllowMigration})),o._shouldAllowMigration&&p.length){t.next=40;break}return t.abrupt("return",new e(o,n,i));case 40:if(o=p[0],!s){t.next=44;break}return t.next=44,o._set(u,s.toJSON());case 44:return t.next=46,Promise.all(r.map(function(){var e=He(Ke().mark((function e(t){return Ke().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t===o){e.next=8;break}return e.prev=1,e.next=4,t._remove(u);case 4:e.next=8;break;case 6:e.prev=6,e.t0=e.catch(1);case 8:case"end":return e.stop()}}),e,null,[[1,6]])})));return function(t){return e.apply(this,arguments)}}()));case 46:return t.abrupt("return",new e(o,n,i));case 47:case"end":return t.stop()}}),t,null,[[10,31,34,37],[14,25]])})));return function(e,n){return t.apply(this,arguments)}}()}]),e}();function ic(e){var t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(sc(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(ac(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(lc(t))return"Blackberry";if(fc(t))return"Webos";if(oc(t))return"Safari";if((t.includes("chrome/")||uc(t))&&!t.includes("edge/"))return"Chrome";if(cc(t))return"Android";var n=e.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);return 2===(null===n||void 0===n?void 0:n.length)?n[1]:"Other"}function ac(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Da();return/firefox\//i.test(e)}function oc(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Da(),t=e.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function uc(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Da();return/crios\//i.test(e)}function sc(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Da();return/iemobile/i.test(e)}function cc(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Da();return/android/i.test(e)}function lc(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Da();return/blackberry/i.test(e)}function fc(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Da();return/webos/i.test(e)}function hc(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Da();return/iphone|ipad|ipod/i.test(e)||/macintosh/i.test(e)&&/mobile/i.test(e)}function dc(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Da();return hc(t)&&!!(null===(e=window.navigator)||void 0===e?void 0:e.standalone)}function pc(){return Ua()&&10===document.documentMode}function vc(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Da();return hc(e)||cc(e)||fc(e)||lc(e)||/windows phone/i.test(e)||sc(e)}function yc(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];switch(e){case"Browser":t=ic(Da());break;case"Worker":t="".concat(ic(Da()),"-").concat(e);break;default:t=e}var r=n.length?n.join(","):"FirebaseCore-web";return"".concat(t,"/","JsCore","/").concat(lu,"/").concat(r)}var mc=function(){function e(t){d(this,e),this.auth=t,this.queue=[]}return v(e,[{key:"pushCallback",value:function(e,t){var n=this,r=function(t){return new Promise((function(n,r){try{n(e(t))}catch(i){r(i)}}))};r.onAbort=t,this.queue.push(r);var i=this.queue.length-1;return function(){n.queue[i]=function(){return Promise.resolve()}}}},{key:"runMiddleware",value:function(){var e=He(Ke().mark((function e(t){var n,r,i,a,o,u,s,c;return Ke().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.auth.currentUser!==t){e.next=2;break}return e.abrupt("return");case 2:r=[],e.prev=3,i=ka(this.queue),e.prev=5,i.s();case 7:if((a=i.n()).done){e.next=14;break}return o=a.value,e.next=11,o(t);case 11:o.onAbort&&r.push(o.onAbort);case 12:e.next=7;break;case 14:e.next=19;break;case 16:e.prev=16,e.t0=e.catch(5),i.e(e.t0);case 19:return e.prev=19,i.f(),e.finish(19);case 22:e.next=30;break;case 24:e.prev=24,e.t1=e.catch(3),r.reverse(),u=ka(r);try{for(u.s();!(s=u.n()).done;){c=s.value;try{c()}catch(iq){}}}catch(l){u.e(l)}finally{u.f()}throw this.auth._errorFactory.create("login-blocked",{originalMessage:null===(n=e.t1)||void 0===n?void 0:n.message});case 30:case"end":return e.stop()}}),e,this,[[3,24],[5,16,19,22]])})));return function(t){return e.apply(this,arguments)}}()}]),e}(),gc=function(){function e(t,n,r){d(this,e),this.app=t,this.heartbeatServiceProvider=n,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new bc(this),this.idTokenSubscription=new bc(this),this.beforeStateQueue=new mc(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Ju,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=r.sdkClientVersion}return v(e,[{key:"_initializeWithPersistence",value:function(e,t){var n=this;return t&&(this._popupRedirectResolver=cs(t)),this._initializationPromise=this.queue(He(Ke().mark((function r(){var i,a;return Ke().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(!n._deleted){r.next=2;break}return r.abrupt("return");case 2:return r.next=4,rc.create(n,e);case 4:if(n.persistenceManager=r.sent,!n._deleted){r.next=7;break}return r.abrupt("return");case 7:if(!(null===(i=n._popupRedirectResolver)||void 0===i?void 0:i._shouldInitProactively)){r.next=15;break}return r.prev=8,r.next=11,n._popupRedirectResolver._initialize(n);case 11:r.next=15;break;case 13:r.prev=13,r.t0=r.catch(8);case 15:return r.next=17,n.initializeCurrentUser(t);case 17:if(n.lastNotifiedUid=(null===(a=n.currentUser)||void 0===a?void 0:a.uid)||null,!n._deleted){r.next=20;break}return r.abrupt("return");case 20:n._isInitialized=!0;case 21:case"end":return r.stop()}}),r,null,[[8,13]])})))),this._initializationPromise}},{key:"_onStorageEvent",value:function(){var e=He(Ke().mark((function e(){var t;return Ke().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._deleted){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,this.assertedPersistence.getCurrentUser();case 4:if(t=e.sent,this.currentUser||t){e.next=7;break}return e.abrupt("return");case 7:if(!this.currentUser||!t||this.currentUser.uid!==t.uid){e.next=12;break}return this._currentUser._assign(t),e.next=11,this.currentUser.getIdToken();case 11:return e.abrupt("return");case 12:return e.next=14,this._updateCurrentUser(t,!0);case 14:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"initializeCurrentUser",value:function(){var e=He(Ke().mark((function e(t){var n,r,i,a,o,u,s;return Ke().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.assertedPersistence.getCurrentUser();case 2:if(r=e.sent,i=r,a=!1,!t||!this.config.authDomain){e.next=14;break}return e.next=8,this.getOrInitRedirectPersistenceManager();case 8:return o=null===(n=this.redirectUser)||void 0===n?void 0:n._redirectEventId,u=null===i||void 0===i?void 0:i._redirectEventId,e.next=12,this.tryRedirectSignIn(t);case 12:s=e.sent,o&&o!==u||!(null===s||void 0===s?void 0:s.user)||(i=s.user,a=!0);case 14:if(i){e.next=16;break}return e.abrupt("return",this.directlySetCurrentUser(null));case 16:if(i._redirectEventId){e.next=32;break}if(!a){e.next=27;break}return e.prev=18,e.next=21,this.beforeStateQueue.runMiddleware(i);case 21:e.next=27;break;case 23:e.prev=23,e.t0=e.catch(18),i=r,this._popupRedirectResolver._overrideRedirectResult(this,(function(){return Promise.reject(e.t0)}));case 27:if(!i){e.next=31;break}return e.abrupt("return",this.reloadAndSetCurrentUserOrClear(i));case 31:return e.abrupt("return",this.directlySetCurrentUser(null));case 32:return as(this._popupRedirectResolver,this,"argument-error"),e.next=35,this.getOrInitRedirectPersistenceManager();case 35:if(!this.redirectUser||this.redirectUser._redirectEventId!==i._redirectEventId){e.next=37;break}return e.abrupt("return",this.directlySetCurrentUser(i));case 37:return e.abrupt("return",this.reloadAndSetCurrentUserOrClear(i));case 38:case"end":return e.stop()}}),e,this,[[18,23]])})));return function(t){return e.apply(this,arguments)}}()},{key:"tryRedirectSignIn",value:function(){var e=He(Ke().mark((function e(t){var n;return Ke().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=null,e.prev=1,e.next=4,this._popupRedirectResolver._completeRedirectFn(this,t,!0);case 4:n=e.sent,e.next=11;break;case 7:return e.prev=7,e.t0=e.catch(1),e.next=11,this._setRedirectUser(null);case 11:return e.abrupt("return",n);case 12:case"end":return e.stop()}}),e,this,[[1,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"reloadAndSetCurrentUserOrClear",value:function(){var e=He(Ke().mark((function e(t){var n;return Ke().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Ws(t);case 3:e.next=9;break;case 5:if(e.prev=5,e.t0=e.catch(0),(null===(n=e.t0)||void 0===n?void 0:n.code)==="auth/".concat("network-request-failed")){e.next=9;break}return e.abrupt("return",this.directlySetCurrentUser(null));case 9:return e.abrupt("return",this.directlySetCurrentUser(t));case 10:case"end":return e.stop()}}),e,this,[[0,5]])})));return function(t){return e.apply(this,arguments)}}()},{key:"useDeviceLanguage",value:function(){this.languageCode=function(){if("undefined"===typeof navigator)return null;var e=navigator;return e.languages&&e.languages[0]||e.language||null}()}},{key:"_delete",value:function(){var e=He(Ke().mark((function e(){return Ke().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this._deleted=!0;case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"updateCurrentUser",value:function(){var e=He(Ke().mark((function e(t){var n;return Ke().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=t?po(t):null)&&as(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),e.abrupt("return",this._updateCurrentUser(n&&n._clone(this)));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_updateCurrentUser",value:function(){var e=He(Ke().mark((function e(t){var n,r=this,i=arguments;return Ke().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=i.length>1&&void 0!==i[1]&&i[1],!this._deleted){e.next=3;break}return e.abrupt("return");case 3:if(t&&as(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),n){e.next=7;break}return e.next=7,this.beforeStateQueue.runMiddleware(t);case 7:return e.abrupt("return",this.queue(He(Ke().mark((function e(){return Ke().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.directlySetCurrentUser(t);case 2:r.notifyAuthListeners();case 3:case"end":return e.stop()}}),e)})))));case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"signOut",value:function(){var e=He(Ke().mark((function e(){return Ke().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.beforeStateQueue.runMiddleware(null);case 2:if(!this.redirectPersistenceManager&&!this._popupRedirectResolver){e.next=5;break}return e.next=5,this._setRedirectUser(null);case 5:return e.abrupt("return",this._updateCurrentUser(null,!0));case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"setPersistence",value:function(e){var t=this;return this.queue(He(Ke().mark((function n(){return Ke().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,t.assertedPersistence.setPersistence(cs(e));case 2:case"end":return n.stop()}}),n)}))))}},{key:"_getPersistence",value:function(){return this.assertedPersistence.persistence.type}},{key:"_updateErrorMap",value:function(e){this._errorFactory=new za("auth","Firebase",e())}},{key:"onAuthStateChanged",value:function(e,t,n){return this.registerStateListener(this.authStateSubscription,e,t,n)}},{key:"beforeAuthStateChanged",value:function(e,t){return this.beforeStateQueue.pushCallback(e,t)}},{key:"onIdTokenChanged",value:function(e,t,n){return this.registerStateListener(this.idTokenSubscription,e,t,n)}},{key:"toJSON",value:function(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}},{key:"_setRedirectUser",value:function(){var e=He(Ke().mark((function e(t,n){var r;return Ke().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getOrInitRedirectPersistenceManager(n);case 2:return r=e.sent,e.abrupt("return",null===t?r.removeCurrentUser():r.setCurrentUser(t));case 4:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"getOrInitRedirectPersistenceManager",value:function(){var e=He(Ke().mark((function e(t){var n;return Ke().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.redirectPersistenceManager){e.next=9;break}return as(n=t&&cs(t)||this._popupRedirectResolver,this,"argument-error"),e.next=5,rc.create(this,[cs(n._redirectPersistence)],"redirectUser");case 5:return this.redirectPersistenceManager=e.sent,e.next=8,this.redirectPersistenceManager.getCurrentUser();case 8:this.redirectUser=e.sent;case 9:return e.abrupt("return",this.redirectPersistenceManager);case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_redirectUserForId",value:function(){var e=He(Ke().mark((function e(t){var n,r;return Ke().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._isInitialized){e.next=3;break}return e.next=3,this.queue(He(Ke().mark((function e(){return Ke().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)}))));case 3:if((null===(n=this._currentUser)||void 0===n?void 0:n._redirectEventId)!==t){e.next=5;break}return e.abrupt("return",this._currentUser);case 5:if((null===(r=this.redirectUser)||void 0===r?void 0:r._redirectEventId)!==t){e.next=7;break}return e.abrupt("return",this.redirectUser);case 7:return e.abrupt("return",null);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_persistUserIfCurrent",value:function(){var e=He(Ke().mark((function e(t){var n=this;return Ke().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t!==this.currentUser){e.next=2;break}return e.abrupt("return",this.queue(He(Ke().mark((function e(){return Ke().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",n.directlySetCurrentUser(t));case 1:case"end":return e.stop()}}),e)})))));case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_notifyListenersIfCurrent",value:function(e){e===this.currentUser&&this.notifyAuthListeners()}},{key:"_key",value:function(){return"".concat(this.config.authDomain,":").concat(this.config.apiKey,":").concat(this.name)}},{key:"_startProactiveRefresh",value:function(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}},{key:"_stopProactiveRefresh",value:function(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}},{key:"_currentUser",get:function(){return this.currentUser}},{key:"notifyAuthListeners",value:function(){var e,t;if(this._isInitialized){this.idTokenSubscription.next(this.currentUser);var n=null!==(t=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==t?t:null;this.lastNotifiedUid!==n&&(this.lastNotifiedUid=n,this.authStateSubscription.next(this.currentUser))}}},{key:"registerStateListener",value:function(e,t,n,r){var i=this;if(this._deleted)return function(){};var a="function"===typeof t?t:t.next.bind(t),o=this._isInitialized?Promise.resolve():this._initializationPromise;return as(o,this,"internal-error"),o.then((function(){return a(i.currentUser)})),"function"===typeof t?e.addObserver(t,n,r):e.addObserver(t)}},{key:"directlySetCurrentUser",value:function(){var e=He(Ke().mark((function e(t){return Ke().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,!t){e.next=8;break}return e.next=6,this.assertedPersistence.setCurrentUser(t);case 6:e.next=10;break;case 8:return e.next=10,this.assertedPersistence.removeCurrentUser();case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"queue",value:function(e){return this.operations=this.operations.then(e,e),this.operations}},{key:"assertedPersistence",get:function(){return as(this.persistenceManager,this,"internal-error"),this.persistenceManager}},{key:"_logFramework",value:function(e){e&&!this.frameworks.includes(e)&&(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=yc(this.config.clientPlatform,this._getFrameworks()))}},{key:"_getFrameworks",value:function(){return this.frameworks}},{key:"_getAdditionalHeaders",value:function(){var e=He(Ke().mark((function e(){var t,n,r;return Ke().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=ba({},"X-Client-Version",this.clientVersion),this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId),e.next=4,null===(t=this.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===t?void 0:t.getHeartbeatsHeader();case 4:return(r=e.sent)&&(n["X-Firebase-Client"]=r),e.abrupt("return",n);case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}();function kc(e){return po(e)}var bc=function(){function e(t){var n=this;d(this,e),this.auth=t,this.observer=null,this.addObserver=ao((function(e){return n.observer=e}))}return v(e,[{key:"next",get:function(){return as(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}]),e}();function wc(e,t,n){var r=kc(e);as(r._canInitEmulator,r,"emulator-config-failed"),as(/^https?:\/\//.test(t),r,"invalid-emulator-scheme");var i=!!(null===n||void 0===n?void 0:n.disableWarnings),a=_c(t),o=function(e){var t=_c(e),n=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!n)return{host:"",port:null};var r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){var a=i[1];return{host:a,port:xc(r.substr(a.length+1))}}var o=l(r.split(":"),2);return{host:o[0],port:xc(o[1])}}(t),u=o.host,s=o.port,c=null===s?"":":".concat(s);r.config.emulator={url:"".concat(a,"//").concat(u).concat(c,"/")},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:u,port:s,protocol:a.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||function(){function e(){var e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}"undefined"!==typeof console&&"function"===typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials.");"undefined"!==typeof window&&"undefined"!==typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",e):e())}()}function _c(e){var t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function xc(e){if(!e)return null;var t=Number(e);return isNaN(t)?null:t}var Ec=function(){function e(t,n){d(this,e),this.providerId=t,this.signInMethod=n}return v(e,[{key:"toJSON",value:function(){return os("not implemented")}},{key:"_getIdTokenResponse",value:function(e){return os("not implemented")}},{key:"_linkToIdToken",value:function(e,t){return os("not implemented")}},{key:"_getReauthenticationResolver",value:function(e){return os("not implemented")}}]),e}();function Sc(e,t){return Ic.apply(this,arguments)}function Ic(){return Ic=He(Ke().mark((function e(t,n){return Ke().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",bs(t,"POST","/v1/accounts:resetPassword",ks(t,n)));case 1:case"end":return e.stop()}}),e)}))),Ic.apply(this,arguments)}function Tc(e,t){return Cc.apply(this,arguments)}function Cc(){return Cc=He(Ke().mark((function e(t,n){return Ke().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",bs(t,"POST","/v1/accounts:update",n));case 1:case"end":return e.stop()}}),e)}))),Cc.apply(this,arguments)}function Nc(e,t){return Ac.apply(this,arguments)}function Ac(){return Ac=He(Ke().mark((function e(t,n){return Ke().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",bs(t,"POST","/v1/accounts:update",ks(t,n)));case 1:case"end":return e.stop()}}),e)}))),Ac.apply(this,arguments)}function Oc(e,t){return Pc.apply(this,arguments)}function Pc(){return Pc=He(Ke().mark((function e(t,n){return Ke().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Es(t,"POST","/v1/accounts:signInWithPassword",ks(t,n)));case 1:case"end":return e.stop()}}),e)}))),Pc.apply(this,arguments)}function Rc(e,t){return Dc.apply(this,arguments)}function Dc(){return Dc=He(Ke().mark((function e(t,n){return Ke().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",bs(t,"POST","/v1/accounts:sendOobCode",ks(t,n)));case 1:case"end":return e.stop()}}),e)}))),Dc.apply(this,arguments)}function Fc(e,t){return Lc.apply(this,arguments)}function Lc(){return Lc=He(Ke().mark((function e(t,n){return Ke().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Rc(t,n));case 1:case"end":return e.stop()}}),e)}))),Lc.apply(this,arguments)}function jc(e,t){return Mc.apply(this,arguments)}function Mc(){return Mc=He(Ke().mark((function e(t,n){return Ke().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Rc(t,n));case 1:case"end":return e.stop()}}),e)}))),Mc.apply(this,arguments)}function Uc(e,t){return Vc.apply(this,arguments)}function Vc(){return Vc=He(Ke().mark((function e(t,n){return Ke().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Rc(t,n));case 1:case"end":return e.stop()}}),e)}))),Vc.apply(this,arguments)}function qc(e,t){return Bc.apply(this,arguments)}function Bc(){return Bc=He(Ke().mark((function e(t,n){return Ke().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Rc(t,n));case 1:case"end":return e.stop()}}),e)}))),Bc.apply(this,arguments)}function zc(e,t){return Wc.apply(this,arguments)}function Wc(){return Wc=He(Ke().mark((function e(t,n){return Ke().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Es(t,"POST","/v1/accounts:signInWithEmailLink",ks(t,n)));case 1:case"end":return e.stop()}}),e)}))),Wc.apply(this,arguments)}function Kc(e,t){return Gc.apply(this,arguments)}function Gc(){return Gc=He(Ke().mark((function e(t,n){return Ke().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Es(t,"POST","/v1/accounts:signInWithEmailLink",ks(t,n)));case 1:case"end":return e.stop()}}),e)}))),Gc.apply(this,arguments)}var Hc=function(e){m(n,e);var t=x(n);function n(e,r,i){var a,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return d(this,n),(a=t.call(this,"password",i))._email=e,a._password=r,a._tenantId=o,a}return v(n,[{key:"toJSON",value:function(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}},{key:"_getIdTokenResponse",value:function(){var e=He(Ke().mark((function e(t){return Ke().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=this.signInMethod,e.next="password"===e.t0?3:"emailLink"===e.t0?4:5;break;case 3:return e.abrupt("return",Oc(t,{returnSecureToken:!0,email:this._email,password:this._password}));case 4:return e.abrupt("return",zc(t,{email:this._email,oobCode:this._password}));case 5:es(t,"internal-error");case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_linkToIdToken",value:function(){var e=He(Ke().mark((function e(t,n){return Ke().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=this.signInMethod,e.next="password"===e.t0?3:"emailLink"===e.t0?4:5;break;case 3:return e.abrupt("return",Tc(t,{idToken:n,returnSecureToken:!0,email:this._email,password:this._password}));case 4:return e.abrupt("return",Kc(t,{idToken:n,email:this._email,oobCode:this._password}));case 5:es(t,"internal-error");case 6:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_getReauthenticationResolver",value:function(e){return this._getIdTokenResponse(e)}}],[{key:"_fromEmailAndPassword",value:function(e,t){return new n(e,t,"password")}},{key:"_fromEmailAndCode",value:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return new n(e,t,"emailLink",r)}},{key:"fromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e;if((null===t||void 0===t?void 0:t.email)&&(null===t||void 0===t?void 0:t.password)){if("password"===t.signInMethod)return this._fromEmailAndPassword(t.email,t.password);if("emailLink"===t.signInMethod)return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}}]),n}(Ec);function Qc(e,t){return Yc.apply(this,arguments)}function Yc(){return Yc=He(Ke().mark((function e(t,n){return Ke().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Es(t,"POST","/v1/accounts:signInWithIdp",ks(t,n)));case 1:case"end":return e.stop()}}),e)}))),Yc.apply(this,arguments)}var $c=function(e){m(n,e);var t=x(n);function n(){var e;return d(this,n),(e=t.apply(this,arguments)).pendingToken=null,e}return v(n,[{key:"toJSON",value:function(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}},{key:"_getIdTokenResponse",value:function(e){return Qc(e,this.buildRequest())}},{key:"_linkToIdToken",value:function(e,t){var n=this.buildRequest();return n.idToken=t,Qc(e,n)}},{key:"_getReauthenticationResolver",value:function(e){var t=this.buildRequest();return t.autoCreate=!1,Qc(e,t)}},{key:"buildRequest",value:function(){var e={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{var t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=to(t)}return e}}],[{key:"_fromParams",value:function(e){var t=new n(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):es("argument-error"),t}},{key:"fromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e,r=t.providerId,i=t.signInMethod,a=Fu(t,["providerId","signInMethod"]);if(!r||!i)return null;var o=new n(r,i);return o.idToken=a.idToken||void 0,o.accessToken=a.accessToken||void 0,o.secret=a.secret,o.nonce=a.nonce,o.pendingToken=a.pendingToken||null,o}}]),n}(Ec);function Jc(e,t){return Xc.apply(this,arguments)}function Xc(){return Xc=He(Ke().mark((function e(t,n){return Ke().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",bs(t,"POST","/v1/accounts:sendVerificationCode",ks(t,n)));case 1:case"end":return e.stop()}}),e)}))),Xc.apply(this,arguments)}function Zc(){return Zc=He(Ke().mark((function e(t,n){return Ke().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Es(t,"POST","/v1/accounts:signInWithPhoneNumber",ks(t,n)));case 1:case"end":return e.stop()}}),e)}))),Zc.apply(this,arguments)}function el(){return el=He(Ke().mark((function e(t,n){var r;return Ke().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Es(t,"POST","/v1/accounts:signInWithPhoneNumber",ks(t,n));case 2:if(!(r=e.sent).temporaryProof){e.next=5;break}throw Cs(t,"account-exists-with-different-credential",r);case 5:return e.abrupt("return",r);case 6:case"end":return e.stop()}}),e)}))),el.apply(this,arguments)}var tl=ba({},"USER_NOT_FOUND","user-not-found");function nl(){return nl=He(Ke().mark((function e(t,n){var r;return Ke().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Object.assign(Object.assign({},n),{operation:"REAUTH"}),e.abrupt("return",Es(t,"POST","/v1/accounts:signInWithPhoneNumber",ks(t,r),tl));case 2:case"end":return e.stop()}}),e)}))),nl.apply(this,arguments)}var rl=function(e){m(n,e);var t=x(n);function n(e){var r;return d(this,n),(r=t.call(this,"phone","phone")).params=e,r}return v(n,[{key:"_getIdTokenResponse",value:function(e){return function(e,t){return Zc.apply(this,arguments)}(e,this._makeVerificationRequest())}},{key:"_linkToIdToken",value:function(e,t){return function(e,t){return el.apply(this,arguments)}(e,Object.assign({idToken:t},this._makeVerificationRequest()))}},{key:"_getReauthenticationResolver",value:function(e){return function(e,t){return nl.apply(this,arguments)}(e,this._makeVerificationRequest())}},{key:"_makeVerificationRequest",value:function(){var e=this.params,t=e.temporaryProof,n=e.phoneNumber,r=e.verificationId,i=e.verificationCode;return t&&n?{temporaryProof:t,phoneNumber:n}:{sessionInfo:r,code:i}}},{key:"toJSON",value:function(){var e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}}],[{key:"_fromVerification",value:function(e,t){return new n({verificationId:e,verificationCode:t})}},{key:"_fromTokenResponse",value:function(e,t){return new n({phoneNumber:e,temporaryProof:t})}},{key:"fromJSON",value:function(e){"string"===typeof e&&(e=JSON.parse(e));var t=e,r=t.verificationId,i=t.verificationCode,a=t.phoneNumber,o=t.temporaryProof;return i||r||a||o?new n({verificationId:r,verificationCode:i,phoneNumber:a,temporaryProof:o}):null}}]),n}(Ec);var il=function(){function e(t){var n,r,i,a,o,u;d(this,e);var s=no(ro(t)),c=null!==(n=s.apiKey)&&void 0!==n?n:null,l=null!==(r=s.oobCode)&&void 0!==r?r:null,f=function(e){switch(e){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(i=s.mode)&&void 0!==i?i:null);as(c&&l&&f,"argument-error"),this.apiKey=c,this.operation=f,this.code=l,this.continueUrl=null!==(a=s.continueUrl)&&void 0!==a?a:null,this.languageCode=null!==(o=s.languageCode)&&void 0!==o?o:null,this.tenantId=null!==(u=s.tenantId)&&void 0!==u?u:null}return v(e,null,[{key:"parseLink",value:function(t){var n=function(e){var t=no(ro(e)).link,n=t?no(ro(t)).deep_link_id:null,r=no(ro(e)).deep_link_id;return(r?no(ro(r)).link:null)||r||n||t||e}(t);try{return new e(n)}catch(cC){return null}}}]),e}();var al=function(){function e(){d(this,e),this.providerId=e.PROVIDER_ID}return v(e,null,[{key:"credential",value:function(e,t){return Hc._fromEmailAndPassword(e,t)}},{key:"credentialWithLink",value:function(e,t){var n=il.parseLink(t);return as(n,"argument-error"),Hc._fromEmailAndCode(e,n.code,n.tenantId)}}]),e}();al.PROVIDER_ID="password",al.EMAIL_PASSWORD_SIGN_IN_METHOD="password",al.EMAIL_LINK_SIGN_IN_METHOD="emailLink";var ol=function(){function e(t){d(this,e),this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}return v(e,[{key:"setDefaultLanguage",value:function(e){this.defaultLanguageCode=e}},{key:"setCustomParameters",value:function(e){return this.customParameters=e,this}},{key:"getCustomParameters",value:function(){return this.customParameters}}]),e}(),ul=function(e){m(n,e);var t=x(n);function n(){var e;return d(this,n),(e=t.apply(this,arguments)).scopes=[],e}return v(n,[{key:"addScope",value:function(e){return this.scopes.includes(e)||this.scopes.push(e),this}},{key:"getScopes",value:function(){return h(this.scopes)}}]),n}(ol),sl=function(e){m(n,e);var t=x(n);function n(){return d(this,n),t.apply(this,arguments)}return v(n,[{key:"credential",value:function(e){return this._credential(Object.assign(Object.assign({},e),{nonce:e.rawNonce}))}},{key:"_credential",value:function(e){return as(e.idToken||e.accessToken,"argument-error"),$c._fromParams(Object.assign(Object.assign({},e),{providerId:this.providerId,signInMethod:this.providerId}))}}],[{key:"credentialFromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e;return as("providerId"in t&&"signInMethod"in t,"argument-error"),$c._fromParams(t)}},{key:"credentialFromResult",value:function(e){return n.oauthCredentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.oauthCredentialFromTaggedObject(e.customData||{})}},{key:"oauthCredentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var r=t.oauthIdToken,i=t.oauthAccessToken,a=t.oauthTokenSecret,o=t.pendingToken,u=t.nonce,s=t.providerId;if(!i&&!a&&!r&&!o)return null;if(!s)return null;try{return new n(s)._credential({idToken:r,accessToken:i,nonce:u,pendingToken:o})}catch(c){return null}}}]),n}(ul),cl=function(e){m(n,e);var t=x(n);function n(){return d(this,n),t.call(this,"facebook.com")}return v(n,null,[{key:"credential",value:function(e){return $c._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return n.credential(t.oauthAccessToken)}catch(cC){return null}}}]),n}(ul);cl.FACEBOOK_SIGN_IN_METHOD="facebook.com",cl.PROVIDER_ID="facebook.com";var ll=function(e){m(n,e);var t=x(n);function n(){var e;return d(this,n),(e=t.call(this,"google.com")).addScope("profile"),e}return v(n,null,[{key:"credential",value:function(e,t){return $c._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var r=t.oauthIdToken,i=t.oauthAccessToken;if(!r&&!i)return null;try{return n.credential(r,i)}catch(cC){return null}}}]),n}(ul);ll.GOOGLE_SIGN_IN_METHOD="google.com",ll.PROVIDER_ID="google.com";var fl=function(e){m(n,e);var t=x(n);function n(){return d(this,n),t.call(this,"github.com")}return v(n,null,[{key:"credential",value:function(e){return $c._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.GITHUB_SIGN_IN_METHOD,accessToken:e})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return n.credential(t.oauthAccessToken)}catch(cC){return null}}}]),n}(ul);fl.GITHUB_SIGN_IN_METHOD="github.com",fl.PROVIDER_ID="github.com";var hl=function(e){m(n,e);var t=x(n);function n(e,r){var i;return d(this,n),(i=t.call(this,e,e)).pendingToken=r,i}return v(n,[{key:"_getIdTokenResponse",value:function(e){return Qc(e,this.buildRequest())}},{key:"_linkToIdToken",value:function(e,t){var n=this.buildRequest();return n.idToken=t,Qc(e,n)}},{key:"_getReauthenticationResolver",value:function(e){var t=this.buildRequest();return t.autoCreate=!1,Qc(e,t)}},{key:"toJSON",value:function(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}},{key:"buildRequest",value:function(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}],[{key:"fromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e,r=t.providerId,i=t.signInMethod,a=t.pendingToken;return r&&i&&a&&r===i?new n(r,a):null}},{key:"_create",value:function(e,t){return new n(e,t)}}]),n}(Ec),dl=function(e){m(n,e);var t=x(n);function n(e){return d(this,n),as(e.startsWith("saml."),"argument-error"),t.call(this,e)}return v(n,null,[{key:"credentialFromResult",value:function(e){return n.samlCredentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.samlCredentialFromTaggedObject(e.customData||{})}},{key:"credentialFromJSON",value:function(e){var t=hl.fromJSON(e);return as(t,"argument-error"),t}},{key:"samlCredentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var n=t.pendingToken,r=t.providerId;if(!n||!r)return null;try{return hl._create(r,n)}catch(i){return null}}}]),n}(ol),pl=function(e){m(n,e);var t=x(n);function n(){return d(this,n),t.call(this,"twitter.com")}return v(n,null,[{key:"credential",value:function(e,t){return $c._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var r=t.oauthAccessToken,i=t.oauthTokenSecret;if(!r||!i)return null;try{return n.credential(r,i)}catch(cC){return null}}}]),n}(ul);function vl(e,t){return yl.apply(this,arguments)}function yl(){return yl=He(Ke().mark((function e(t,n){return Ke().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Es(t,"POST","/v1/accounts:signUp",ks(t,n)));case 1:case"end":return e.stop()}}),e)}))),yl.apply(this,arguments)}pl.TWITTER_SIGN_IN_METHOD="twitter.com",pl.PROVIDER_ID="twitter.com";var ml=function(){function e(t){d(this,e),this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}return v(e,null,[{key:"_fromIdTokenResponse",value:function(){var t=He(Ke().mark((function t(n,r,i){var a,o,u,s,c=arguments;return Ke().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=c.length>3&&void 0!==c[3]&&c[3],t.next=3,Zs._fromIdTokenResponse(n,i,a);case 3:return o=t.sent,u=gl(i),s=new e({user:o,providerId:u,_tokenResponse:i,operationType:r}),t.abrupt("return",s);case 7:case"end":return t.stop()}}),t)})));return function(e,n,r){return t.apply(this,arguments)}}()},{key:"_forOperation",value:function(){var t=He(Ke().mark((function t(n,r,i){var a;return Ke().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,n._updateTokensIfNecessary(i,!0);case 2:return a=gl(i),t.abrupt("return",new e({user:n,providerId:a,_tokenResponse:i,operationType:r}));case 4:case"end":return t.stop()}}),t)})));return function(e,n,r){return t.apply(this,arguments)}}()}]),e}();function gl(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}function kl(){return kl=He(Ke().mark((function e(t){var n,r,i,a;return Ke().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=kc(t),e.next=3,r._initializationPromise;case 3:if(!(null===(n=r.currentUser)||void 0===n?void 0:n.isAnonymous)){e.next=5;break}return e.abrupt("return",new ml({user:r.currentUser,providerId:null,operationType:"signIn"}));case 5:return e.next=7,vl(r,{returnSecureToken:!0});case 7:return i=e.sent,e.next=10,ml._fromIdTokenResponse(r,"signIn",i,!0);case 10:return a=e.sent,e.next=13,r._updateCurrentUser(a.user);case 13:return e.abrupt("return",a);case 14:case"end":return e.stop()}}),e)}))),kl.apply(this,arguments)}var bl=function(e){m(n,e);var t=x(n);function n(e,r,i,a){var o,u;return d(this,n),(o=t.call(this,r.code,r.message)).operationType=i,o.user=a,Object.setPrototypeOf(w(o),n.prototype),o.customData={appName:e.name,tenantId:null!==(u=e.tenantId)&&void 0!==u?u:void 0,_serverResponse:r.customData._serverResponse,operationType:i},o}return v(n,null,[{key:"_fromErrorAndOperation",value:function(e,t,r,i){return new n(e,t,r,i)}}]),n}(Ba);function wl(e,t,n,r){return("reauthenticate"===t?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch((function(n){if(n.code==="auth/".concat("multi-factor-auth-required"))throw bl._fromErrorAndOperation(e,n,t,r);throw n}))}function _l(e){return new Set(e.map((function(e){return e.providerId})).filter((function(e){return!!e})))}function xl(e,t){return El.apply(this,arguments)}function El(){return El=He(Ke().mark((function e(t,n){var r,i,a,o;return Ke().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=po(t),e.next=3,Tl(!0,r,n);case 3:return e.t0=Os,e.t1=r.auth,e.next=7,r.getIdToken();case 7:return e.t2=e.sent,e.t3=[n],e.t4={idToken:e.t2,deleteProvider:e.t3},e.next=12,(0,e.t0)(e.t1,e.t4);case 12:return i=e.sent,a=i.providerUserInfo,o=_l(a||[]),r.providerData=r.providerData.filter((function(e){return o.has(e.providerId)})),o.has("phone")||(r.phoneNumber=null),e.next=19,r.auth._persistUserIfCurrent(r);case 19:return e.abrupt("return",r);case 20:case"end":return e.stop()}}),e)}))),El.apply(this,arguments)}function Sl(e,t){return Il.apply(this,arguments)}function Il(){return Il=He(Ke().mark((function e(t,n){var r,i,a=arguments;return Ke().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=a.length>2&&void 0!==a[2]&&a[2],e.t0=Us,e.t1=t,e.t2=n,e.t3=t.auth,e.next=7,t.getIdToken();case 7:return e.t4=e.sent,e.t5=e.t2._linkToIdToken.call(e.t2,e.t3,e.t4),e.t6=r,e.next=12,(0,e.t0)(e.t1,e.t5,e.t6);case 12:return i=e.sent,e.abrupt("return",ml._forOperation(t,"link",i));case 14:case"end":return e.stop()}}),e)}))),Il.apply(this,arguments)}function Tl(e,t,n){return Cl.apply(this,arguments)}function Cl(){return(Cl=He(Ke().mark((function e(t,n,r){var i,a;return Ke().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ws(n);case 2:i=_l(n.providerData),a=!1===t?"provider-already-linked":"no-such-provider",as(i.has(r)===t,n.auth,a);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Nl(e,t){return Al.apply(this,arguments)}function Al(){return Al=He(Ke().mark((function e(t,n){var r,i,a,o,u,s,c,l=arguments;return Ke().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=l.length>2&&void 0!==l[2]&&l[2],a=t.auth,o="reauthenticate",e.prev=3,e.next=6,Us(t,wl(a,o,n,t),r);case 6:return as((u=e.sent).idToken,a,"internal-error"),as(s=Ms(u.idToken),a,"internal-error"),c=s.sub,as(t.uid===c,a,"user-mismatch"),e.abrupt("return",ml._forOperation(t,o,u));case 15:throw e.prev=15,e.t0=e.catch(3),(null===(i=e.t0)||void 0===i?void 0:i.code)==="auth/".concat("user-not-found")&&es(a,"user-mismatch"),e.t0;case 19:case"end":return e.stop()}}),e,null,[[3,15]])}))),Al.apply(this,arguments)}function Ol(e,t){return Pl.apply(this,arguments)}function Pl(){return Pl=He(Ke().mark((function e(t,n){var r,i,a,o,u=arguments;return Ke().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=u.length>2&&void 0!==u[2]&&u[2],i="signIn",e.next=4,wl(t,i,n);case 4:return a=e.sent,e.next=7,ml._fromIdTokenResponse(t,i,a);case 7:if(o=e.sent,r){e.next=11;break}return e.next=11,t._updateCurrentUser(o.user);case 11:return e.abrupt("return",o);case 12:case"end":return e.stop()}}),e)}))),Pl.apply(this,arguments)}function Rl(e,t){return Dl.apply(this,arguments)}function Dl(){return Dl=He(Ke().mark((function e(t,n){return Ke().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Ol(kc(t),n));case 1:case"end":return e.stop()}}),e)}))),Dl.apply(this,arguments)}function Fl(e,t){return Ll.apply(this,arguments)}function Ll(){return(Ll=He(Ke().mark((function e(t,n){var r;return Ke().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=po(t),e.next=3,Tl(!1,r,n.providerId);case 3:return e.abrupt("return",Sl(r,n));case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function jl(e,t){return Ml.apply(this,arguments)}function Ml(){return(Ml=He(Ke().mark((function e(t,n){return Ke().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Nl(po(t),n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ul(e,t){return Vl.apply(this,arguments)}function Vl(){return Vl=He(Ke().mark((function e(t,n){return Ke().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Es(t,"POST","/v1/accounts:signInWithCustomToken",ks(t,n)));case 1:case"end":return e.stop()}}),e)}))),Vl.apply(this,arguments)}function ql(){return ql=He(Ke().mark((function e(t,n){var r,i,a;return Ke().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=kc(t),e.next=3,Ul(r,{token:n,returnSecureToken:!0});case 3:return i=e.sent,e.next=6,ml._fromIdTokenResponse(r,"signIn",i);case 6:return a=e.sent,e.next=9,r._updateCurrentUser(a.user);case 9:return e.abrupt("return",a);case 10:case"end":return e.stop()}}),e)}))),ql.apply(this,arguments)}var Bl=function(){function e(t,n){d(this,e),this.factorId=t,this.uid=n.mfaEnrollmentId,this.enrollmentTime=new Date(n.enrolledAt).toUTCString(),this.displayName=n.displayName}return v(e,null,[{key:"_fromServerResponse",value:function(e,t){return"phoneInfo"in t?zl._fromServerResponse(e,t):es(e,"internal-error")}}]),e}(),zl=function(e){m(n,e);var t=x(n);function n(e){var r;return d(this,n),(r=t.call(this,"phone",e)).phoneNumber=e.phoneInfo,r}return v(n,null,[{key:"_fromServerResponse",value:function(e,t){return new n(t)}}]),n}(Bl);function Wl(e,t,n){var r;as((null===(r=n.url)||void 0===r?void 0:r.length)>0,e,"invalid-continue-uri"),as("undefined"===typeof n.dynamicLinkDomain||n.dynamicLinkDomain.length>0,e,"invalid-dynamic-link-domain"),t.continueUrl=n.url,t.dynamicLinkDomain=n.dynamicLinkDomain,t.canHandleCodeInApp=n.handleCodeInApp,n.iOS&&(as(n.iOS.bundleId.length>0,e,"missing-ios-bundle-id"),t.iOSBundleId=n.iOS.bundleId),n.android&&(as(n.android.packageName.length>0,e,"missing-android-pkg-name"),t.androidInstallApp=n.android.installApp,t.androidMinimumVersionCode=n.android.minimumVersion,t.androidPackageName=n.android.packageName)}function Kl(){return Kl=He(Ke().mark((function e(t,n,r){var i,a;return Ke().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=po(t),a={requestType:"PASSWORD_RESET",email:n},r&&Wl(i,a,r),e.next=5,jc(i,a);case 5:case"end":return e.stop()}}),e)}))),Kl.apply(this,arguments)}function Gl(){return Gl=He(Ke().mark((function e(t,n,r){return Ke().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Sc(po(t),{oobCode:n,newPassword:r});case 2:case"end":return e.stop()}}),e)}))),Gl.apply(this,arguments)}function Hl(){return Hl=He(Ke().mark((function e(t,n){return Ke().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Nc(po(t),{oobCode:n});case 2:case"end":return e.stop()}}),e)}))),Hl.apply(this,arguments)}function Ql(e,t){return Yl.apply(this,arguments)}function Yl(){return Yl=He(Ke().mark((function e(t,n){var r,i,a,o;return Ke().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=po(t),e.next=3,Sc(r,{oobCode:n});case 3:i=e.sent,as(a=i.requestType,r,"internal-error"),e.t0=a,e.next="EMAIL_SIGNIN"===e.t0?9:"VERIFY_AND_CHANGE_EMAIL"===e.t0?10:"REVERT_SECOND_FACTOR_ADDITION"===e.t0?12:13;break;case 9:return e.abrupt("break",14);case 10:return as(i.newEmail,r,"internal-error"),e.abrupt("break",14);case 12:as(i.mfaInfo,r,"internal-error");case 13:as(i.email,r,"internal-error");case 14:return o=null,i.mfaInfo&&(o=Bl._fromServerResponse(kc(r),i.mfaInfo)),e.abrupt("return",{data:{email:("VERIFY_AND_CHANGE_EMAIL"===i.requestType?i.newEmail:i.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===i.requestType?i.email:i.newEmail)||null,multiFactorInfo:o},operation:a});case 17:case"end":return e.stop()}}),e)}))),Yl.apply(this,arguments)}function $l(){return $l=He(Ke().mark((function e(t,n){var r,i;return Ke().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ql(po(t),n);case 2:return r=e.sent,i=r.data,e.abrupt("return",i.email);case 5:case"end":return e.stop()}}),e)}))),$l.apply(this,arguments)}function Jl(e,t,n){return Xl.apply(this,arguments)}function Xl(){return Xl=He(Ke().mark((function e(t,n,r){var i,a,o;return Ke().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=kc(t),e.next=3,vl(i,{returnSecureToken:!0,email:n,password:r});case 3:return a=e.sent,e.next=6,ml._fromIdTokenResponse(i,"signIn",a);case 6:return o=e.sent,e.next=9,i._updateCurrentUser(o.user);case 9:return e.abrupt("return",o);case 10:case"end":return e.stop()}}),e)}))),Xl.apply(this,arguments)}function Zl(e,t,n){return Rl(po(e),al.credential(t,n))}function ef(){return ef=He(Ke().mark((function e(t,n,r){var i,a;return Ke().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=po(t),a={requestType:"EMAIL_SIGNIN",email:n},as(r.handleCodeInApp,i,"argument-error"),r&&Wl(i,a,r),e.next=6,Uc(i,a);case 6:case"end":return e.stop()}}),e)}))),ef.apply(this,arguments)}function tf(){return tf=He(Ke().mark((function e(t,n,r){var i,a;return Ke().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=po(t),as((a=al.credentialWithLink(n,r||fs()))._tenantId===(i.tenantId||null),i,"tenant-id-mismatch"),e.abrupt("return",Rl(i,a));case 4:case"end":return e.stop()}}),e)}))),tf.apply(this,arguments)}function nf(e,t){return rf.apply(this,arguments)}function rf(){return rf=He(Ke().mark((function e(t,n){return Ke().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",bs(t,"POST","/v1/accounts:createAuthUri",ks(t,n)));case 1:case"end":return e.stop()}}),e)}))),rf.apply(this,arguments)}function af(){return af=He(Ke().mark((function e(t,n){var r,i,a,o;return Ke().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=hs()?fs():"http://localhost",i={identifier:n,continueUri:r},e.next=4,nf(po(t),i);case 4:return a=e.sent,o=a.signinMethods,e.abrupt("return",o||[]);case 7:case"end":return e.stop()}}),e)}))),af.apply(this,arguments)}function of(){return(of=He(Ke().mark((function e(t,n){var r,i,a,o;return Ke().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=po(t),e.next=3,t.getIdToken();case 3:return i=e.sent,a={requestType:"VERIFY_EMAIL",idToken:i},n&&Wl(r.auth,a,n),e.next=8,Fc(r.auth,a);case 8:if(o=e.sent,o.email===t.email){e.next=13;break}return e.next=13,t.reload();case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function uf(){return(uf=He(Ke().mark((function e(t,n,r){var i,a,o,u;return Ke().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=po(t),e.next=3,t.getIdToken();case 3:return a=e.sent,o={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:a,newEmail:n},r&&Wl(i.auth,o,r),e.next=8,qc(i.auth,o);case 8:if(u=e.sent,u.email===t.email){e.next=13;break}return e.next=13,t.reload();case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function sf(e,t){return cf.apply(this,arguments)}function cf(){return cf=He(Ke().mark((function e(t,n){return Ke().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",bs(t,"POST","/v1/accounts:update",n));case 1:case"end":return e.stop()}}),e)}))),cf.apply(this,arguments)}function lf(){return(lf=He(Ke().mark((function e(t,n){var r,i,a,o,u,s,c;return Ke().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=n.displayName,i=n.photoURL,void 0!==r||void 0!==i){e.next=3;break}return e.abrupt("return");case 3:return a=po(t),e.next=6,a.getIdToken();case 6:return o=e.sent,u={idToken:o,displayName:r,photoUrl:i,returnSecureToken:!0},e.next=10,Us(a,sf(a.auth,u));case 10:return s=e.sent,a.displayName=s.displayName||null,a.photoURL=s.photoUrl||null,(c=a.providerData.find((function(e){return"password"===e.providerId})))&&(c.displayName=a.displayName,c.photoURL=a.photoURL),e.next=17,a._updateTokensIfNecessary(s);case 17:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ff(e,t,n){return hf.apply(this,arguments)}function hf(){return hf=He(Ke().mark((function e(t,n,r){var i,a,o,u;return Ke().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=t.auth,e.next=3,t.getIdToken();case 3:return a=e.sent,o={idToken:a,returnSecureToken:!0},n&&(o.email=n),r&&(o.password=r),e.next=9,Us(t,Tc(i,o));case 9:return u=e.sent,e.next=12,t._updateTokensIfNecessary(u,!0);case 12:case"end":return e.stop()}}),e)}))),hf.apply(this,arguments)}var df=v((function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};d(this,e),this.isNewUser=t,this.providerId=n,this.profile=r})),pf=function(e){m(n,e);var t=x(n);function n(e,r,i,a){var o;return d(this,n),(o=t.call(this,e,r,i)).username=a,o}return v(n)}(df),vf=function(e){m(n,e);var t=x(n);function n(e,r){return d(this,n),t.call(this,e,"facebook.com",r)}return v(n)}(df),yf=function(e){m(n,e);var t=x(n);function n(e,r){return d(this,n),t.call(this,e,"github.com",r,"string"===typeof(null===r||void 0===r?void 0:r.login)?null===r||void 0===r?void 0:r.login:null)}return v(n)}(pf),mf=function(e){m(n,e);var t=x(n);function n(e,r){return d(this,n),t.call(this,e,"google.com",r)}return v(n)}(df),gf=function(e){m(n,e);var t=x(n);function n(e,r,i){return d(this,n),t.call(this,e,"twitter.com",r,i)}return v(n)}(pf);function kf(e){var t=e.user,n=e._tokenResponse;return t.isAnonymous&&!n?{providerId:null,isNewUser:!1,profile:null}:function(e){var t,n;if(!e)return null;var r=e.providerId,i=e.rawUserInfo?JSON.parse(e.rawUserInfo):{},a=e.isNewUser||"identitytoolkit#SignupNewUserResponse"===e.kind;if(!r&&(null===e||void 0===e?void 0:e.idToken)){var o=null===(n=null===(t=Ms(e.idToken))||void 0===t?void 0:t.firebase)||void 0===n?void 0:n.sign_in_provider;if(o)return new df(a,"anonymous"!==o&&"custom"!==o?o:null)}if(!r)return null;switch(r){case"facebook.com":return new vf(a,i);case"github.com":return new yf(a,i);case"google.com":return new mf(a,i);case"twitter.com":return new gf(a,i,e.screenName||null);case"custom":case"anonymous":return new df(a,null);default:return new df(a,r,i)}}(n)}function bf(e,t,n,r){return po(e).onAuthStateChanged(t,n,r)}var wf=function(){function e(t,n,r){d(this,e),this.type=t,this.credential=n,this.auth=r}return v(e,[{key:"toJSON",value:function(){return{multiFactorSession:ba({},"enroll"===this.type?"idToken":"pendingCredential",this.credential)}}}],[{key:"_fromIdtoken",value:function(t,n){return new e("enroll",t,n)}},{key:"_fromMfaPendingCredential",value:function(t){return new e("signin",t)}},{key:"fromJSON",value:function(t){var n,r;if(null===t||void 0===t?void 0:t.multiFactorSession){if(null===(n=t.multiFactorSession)||void 0===n?void 0:n.pendingCredential)return e._fromMfaPendingCredential(t.multiFactorSession.pendingCredential);if(null===(r=t.multiFactorSession)||void 0===r?void 0:r.idToken)return e._fromIdtoken(t.multiFactorSession.idToken)}return null}}]),e}(),_f=function(){function e(t,n,r){d(this,e),this.session=t,this.hints=n,this.signInResolver=r}return v(e,[{key:"resolveSignIn",value:function(){var e=He(Ke().mark((function e(t){var n;return Ke().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t,e.abrupt("return",this.signInResolver(n));case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}],[{key:"_fromError",value:function(t,n){var r=kc(t),i=n.customData._serverResponse,a=(i.mfaInfo||[]).map((function(e){return Bl._fromServerResponse(r,e)}));as(i.mfaPendingCredential,r,"internal-error");var o=wf._fromMfaPendingCredential(i.mfaPendingCredential);return new e(o,a,function(){var e=He(Ke().mark((function e(t){var a,u,s;return Ke().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._process(r,o);case 2:a=e.sent,delete i.mfaInfo,delete i.mfaPendingCredential,u=Object.assign(Object.assign({},i),{idToken:a.idToken,refreshToken:a.refreshToken}),e.t0=n.operationType,e.next="signIn"===e.t0?9:"reauthenticate"===e.t0?15:17;break;case 9:return e.next=11,ml._fromIdTokenResponse(r,n.operationType,u);case 11:return s=e.sent,e.next=14,r._updateCurrentUser(s.user);case 14:return e.abrupt("return",s);case 15:return as(n.user,r,"internal-error"),e.abrupt("return",ml._forOperation(n.user,n.operationType,u));case 17:es(r,"internal-error");case 18:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}}]),e}();function xf(e,t){return bs(e,"POST","/v2/accounts/mfaEnrollment:start",ks(e,t))}function Ef(e,t){return bs(e,"POST","/v2/accounts/mfaEnrollment:withdraw",ks(e,t))}var Sf=function(){function e(t){var n=this;d(this,e),this.user=t,this.enrolledFactors=[],t._onReload((function(e){e.mfaInfo&&(n.enrolledFactors=e.mfaInfo.map((function(e){return Bl._fromServerResponse(t.auth,e)})))}))}return v(e,[{key:"getSession",value:function(){var e=He(Ke().mark((function e(){return Ke().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=wf,e.next=3,this.user.getIdToken();case 3:return e.t1=e.sent,e.t2=this.user.auth,e.abrupt("return",e.t0._fromIdtoken.call(e.t0,e.t1,e.t2));case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"enroll",value:function(){var e=He(Ke().mark((function e(t,n){var r,i,a;return Ke().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t,e.next=3,this.getSession();case 3:return i=e.sent,e.next=6,Us(this.user,r._process(this.user.auth,i,n));case 6:return a=e.sent,e.next=9,this.user._updateTokensIfNecessary(a);case 9:return e.abrupt("return",this.user.reload());case 10:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"unenroll",value:function(){var e=He(Ke().mark((function e(t){var n,r,i,a;return Ke().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r="string"===typeof t?t:t.uid,e.next=3,this.user.getIdToken();case 3:return i=e.sent,e.next=6,Us(this.user,Ef(this.user.auth,{idToken:i,mfaEnrollmentId:r}));case 6:return a=e.sent,this.enrolledFactors=this.enrolledFactors.filter((function(e){return e.uid!==r})),e.next=10,this.user._updateTokensIfNecessary(a);case 10:return e.prev=10,e.next=13,this.user.reload();case 13:e.next=19;break;case 15:if(e.prev=15,e.t0=e.catch(10),(null===(n=e.t0)||void 0===n?void 0:n.code)==="auth/".concat("user-token-expired")){e.next=19;break}throw e.t0;case 19:case"end":return e.stop()}}),e,this,[[10,15]])})));return function(t){return e.apply(this,arguments)}}()}],[{key:"_fromUser",value:function(t){return new e(t)}}]),e}(),If=new WeakMap;var Tf="__sak",Cf=function(){function e(t,n){d(this,e),this.storageRetriever=t,this.type=n}return v(e,[{key:"_isAvailable",value:function(){try{return this.storage?(this.storage.setItem(Tf,"1"),this.storage.removeItem(Tf),Promise.resolve(!0)):Promise.resolve(!1)}catch(cC){return Promise.resolve(!1)}}},{key:"_set",value:function(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}},{key:"_get",value:function(e){var t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}},{key:"_remove",value:function(e){return this.storage.removeItem(e),Promise.resolve()}},{key:"storage",get:function(){return this.storageRetriever()}}]),e}();var Nf=function(e){m(n,e);var t=x(n);function n(){var e;return d(this,n),(e=t.call(this,(function(){return window.localStorage}),"LOCAL")).boundEventHandler=function(t,n){return e.onStorageEvent(t,n)},e.listeners={},e.localCache={},e.pollTimer=null,e.safariLocalStorageNotSynced=function(){var e=Da();return oc(e)||hc(e)}()&&function(){try{return!(!window||window===window.top)}catch(e){return!1}}(),e.fallbackToPolling=vc(),e._shouldAllowMigration=!0,e}return v(n,[{key:"forAllChangedKeys",value:function(e){for(var t=0,n=Object.keys(this.listeners);t<n.length;t++){var r=n[t],i=this.storage.getItem(r),a=this.localCache[r];i!==a&&e(r,a,i)}}},{key:"onStorageEvent",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(e.key){var r=e.key;if(n?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){var i=this.storage.getItem(r);if(e.newValue!==i)null!==e.newValue?this.storage.setItem(r,e.newValue):this.storage.removeItem(r);else if(this.localCache[r]===e.newValue&&!n)return}var a=function(){var e=t.storage.getItem(r);(n||t.localCache[r]!==e)&&t.notifyListeners(r,e)},o=this.storage.getItem(r);pc()&&o!==e.newValue&&e.newValue!==e.oldValue?setTimeout(a,10):a()}else this.forAllChangedKeys((function(e,n,r){t.notifyListeners(e,r)}))}},{key:"notifyListeners",value:function(e,t){this.localCache[e]=t;var n=this.listeners[e];if(n)for(var r=0,i=Array.from(n);r<i.length;r++){(0,i[r])(t?JSON.parse(t):t)}}},{key:"startPolling",value:function(){var e=this;this.stopPolling(),this.pollTimer=setInterval((function(){e.forAllChangedKeys((function(t,n,r){e.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:n,newValue:r}),!0)}))}),1e3)}},{key:"stopPolling",value:function(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}},{key:"attachListener",value:function(){window.addEventListener("storage",this.boundEventHandler)}},{key:"detachListener",value:function(){window.removeEventListener("storage",this.boundEventHandler)}},{key:"_addListener",value:function(e,t){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}},{key:"_removeListener",value:function(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}},{key:"_set",value:function(){var e=He(Ke().mark((function e(t,r){return Ke().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Du(g(n.prototype),"_set",this).call(this,t,r);case 2:this.localCache[t]=JSON.stringify(r);case 3:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_get",value:function(){var e=He(Ke().mark((function e(t){var r;return Ke().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Du(g(n.prototype),"_get",this).call(this,t);case 2:return r=e.sent,this.localCache[t]=JSON.stringify(r),e.abrupt("return",r);case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_remove",value:function(){var e=He(Ke().mark((function e(t){return Ke().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Du(g(n.prototype),"_remove",this).call(this,t);case 2:delete this.localCache[t];case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),n}(Cf);Nf.type="LOCAL";var Af=Nf,Of=function(e){m(n,e);var t=x(n);function n(){return d(this,n),t.call(this,(function(){return window.sessionStorage}),"SESSION")}return v(n,[{key:"_addListener",value:function(e,t){}},{key:"_removeListener",value:function(e,t){}}]),n}(Cf);Of.type="SESSION";var Pf=Of;function Rf(e){return Promise.all(e.map(function(){var e=He(Ke().mark((function e(t){var n;return Ke().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t;case 3:return n=e.sent,e.abrupt("return",{fulfilled:!0,value:n});case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",{fulfilled:!1,reason:e.t0});case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()))}var Df=function(){function e(t){d(this,e),this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}return v(e,[{key:"isListeningto",value:function(e){return this.eventTarget===e}},{key:"handleEvent",value:function(){var e=He(Ke().mark((function e(t){var n,r,i,a,o,u,s,c;return Ke().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=(n=t).data,i=r.eventId,a=r.eventType,o=r.data,null===(u=this.handlersMap[a])||void 0===u?void 0:u.size){e.next=5;break}return e.abrupt("return");case 5:return n.ports[0].postMessage({status:"ack",eventId:i,eventType:a}),s=Array.from(u).map(function(){var e=He(Ke().mark((function e(t){return Ke().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",t(n.origin,o));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),e.next=9,Rf(s);case 9:c=e.sent,n.ports[0].postMessage({status:"done",eventId:i,eventType:a,response:c});case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_subscribe",value:function(e,t){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}},{key:"_unsubscribe",value:function(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),t&&0!==this.handlersMap[e].size||delete this.handlersMap[e],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}],[{key:"_getInstance",value:function(t){var n=this.receivers.find((function(e){return e.isListeningto(t)}));if(n)return n;var r=new e(t);return this.receivers.push(r),r}}]),e}();function Ff(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,n="",r=0;r<t;r++)n+=Math.floor(10*Math.random());return e+n}Df.receivers=[];var Lf=function(){function e(t){d(this,e),this.target=t,this.handlers=new Set}return v(e,[{key:"removeMessageHandler",value:function(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}},{key:"_send",value:function(){var e=He(Ke().mark((function e(t,n){var r,i,a,o,u=this,s=arguments;return Ke().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=s.length>2&&void 0!==s[2]?s[2]:50,i="undefined"!==typeof MessageChannel?new MessageChannel:null){e.next=4;break}throw new Error("connection_unavailable");case 4:return e.abrupt("return",new Promise((function(e,s){var c=Ff("",20);i.port1.start();var l=setTimeout((function(){s(new Error("unsupported_event"))}),r);o={messageChannel:i,onMessage:function(t){var n=t;if(n.data.eventId===c)switch(n.data.status){case"ack":clearTimeout(l),a=setTimeout((function(){s(new Error("timeout"))}),3e3);break;case"done":clearTimeout(a),e(n.data.response);break;default:clearTimeout(l),clearTimeout(a),s(new Error("invalid_response"))}}},u.handlers.add(o),i.port1.addEventListener("message",o.onMessage),u.target.postMessage({eventType:t,eventId:c,data:n},[i.port2])})).finally((function(){o&&u.removeMessageHandler(o)})));case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()}]),e}();function jf(){return window}function Mf(){return"undefined"!==typeof jf().WorkerGlobalScope&&"function"===typeof jf().importScripts}function Uf(){return Vf.apply(this,arguments)}function Vf(){return(Vf=He(Ke().mark((function e(){var t;return Ke().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null===navigator||void 0===navigator?void 0:navigator.serviceWorker){e.next=2;break}return e.abrupt("return",null);case 2:return e.prev=2,e.next=5,navigator.serviceWorker.ready;case 5:return t=e.sent,e.abrupt("return",t.active);case 9:return e.prev=9,e.t0=e.catch(2),e.abrupt("return",null);case 12:case"end":return e.stop()}}),e,null,[[2,9]])})))).apply(this,arguments)}function qf(){var e;return(null===(e=null===navigator||void 0===navigator?void 0:navigator.serviceWorker)||void 0===e?void 0:e.controller)||null}var Bf="firebaseLocalStorageDb",zf="firebaseLocalStorage",Wf="fbase_key",Kf=function(){function e(t){d(this,e),this.request=t}return v(e,[{key:"toPromise",value:function(){var e=this;return new Promise((function(t,n){e.request.addEventListener("success",(function(){t(e.request.result)})),e.request.addEventListener("error",(function(){n(e.request.error)}))}))}}]),e}();function Gf(e,t){return e.transaction([zf],t?"readwrite":"readonly").objectStore(zf)}function Hf(){var e=indexedDB.deleteDatabase(Bf);return new Kf(e).toPromise()}function Qf(){var e=indexedDB.open(Bf,1);return new Promise((function(t,n){e.addEventListener("error",(function(){n(e.error)})),e.addEventListener("upgradeneeded",(function(){var t=e.result;try{t.createObjectStore(zf,{keyPath:Wf})}catch(r){n(r)}})),e.addEventListener("success",He(Ke().mark((function n(){var r;return Ke().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if((r=e.result).objectStoreNames.contains(zf)){n.next=12;break}return r.close(),n.next=5,Hf();case 5:return n.t0=t,n.next=8,Qf();case 8:n.t1=n.sent,(0,n.t0)(n.t1),n.next=13;break;case 12:t(r);case 13:case"end":return n.stop()}}),n)}))))}))}function Yf(e,t,n){return $f.apply(this,arguments)}function $f(){return $f=He(Ke().mark((function e(t,n,r){var i,a;return Ke().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=Gf(t,!0).put((ba(i={},Wf,n),ba(i,"value",r),i)),e.abrupt("return",new Kf(a).toPromise());case 2:case"end":return e.stop()}}),e)}))),$f.apply(this,arguments)}function Jf(e,t){return Xf.apply(this,arguments)}function Xf(){return Xf=He(Ke().mark((function e(t,n){var r,i;return Ke().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Gf(t,!1).get(n),e.next=3,new Kf(r).toPromise();case 3:return i=e.sent,e.abrupt("return",void 0===i?null:i.value);case 5:case"end":return e.stop()}}),e)}))),Xf.apply(this,arguments)}function Zf(e,t){var n=Gf(e,!0).delete(t);return new Kf(n).toPromise()}var eh=function(){function e(){d(this,e),this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then((function(){}),(function(){}))}return v(e,[{key:"_openDb",value:function(){var e=He(Ke().mark((function e(){return Ke().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.db){e.next=2;break}return e.abrupt("return",this.db);case 2:return e.next=4,Qf();case 4:return this.db=e.sent,e.abrupt("return",this.db);case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"_withRetries",value:function(){var e=He(Ke().mark((function e(t){var n,r;return Ke().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=0;case 1:return e.prev=2,e.next=5,this._openDb();case 5:return r=e.sent,e.next=8,t(r);case 8:return e.abrupt("return",e.sent);case 11:if(e.prev=11,e.t0=e.catch(2),!(n++>3)){e.next=15;break}throw e.t0;case 15:this.db&&(this.db.close(),this.db=void 0);case 16:e.next=1;break;case 18:case"end":return e.stop()}}),e,this,[[2,11]])})));return function(t){return e.apply(this,arguments)}}()},{key:"initializeServiceWorkerMessaging",value:function(){var e=He(Ke().mark((function e(){return Ke().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Mf()?this.initializeReceiver():this.initializeSender());case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"initializeReceiver",value:function(){var e=He(Ke().mark((function e(){var t=this;return Ke().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.receiver=Df._getInstance(Mf()?self:null),this.receiver._subscribe("keyChanged",function(){var e=He(Ke().mark((function e(n,r){var i;return Ke().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._poll();case 2:return i=e.sent,e.abrupt("return",{keyProcessed:i.includes(r.key)});case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),this.receiver._subscribe("ping",function(){var e=He(Ke().mark((function e(t,n){return Ke().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",["keyChanged"]);case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}());case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"initializeSender",value:function(){var e=He(Ke().mark((function e(){var t,n,r;return Ke().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Uf();case 2:if(this.activeServiceWorker=e.sent,this.activeServiceWorker){e.next=5;break}return e.abrupt("return");case 5:return this.sender=new Lf(this.activeServiceWorker),e.next=8,this.sender._send("ping",{},800);case 8:if(r=e.sent){e.next=11;break}return e.abrupt("return");case 11:(null===(t=r[0])||void 0===t?void 0:t.fulfilled)&&(null===(n=r[0])||void 0===n?void 0:n.value.includes("keyChanged"))&&(this.serviceWorkerReceiverAvailable=!0);case 12:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"notifyServiceWorker",value:function(){var e=He(Ke().mark((function e(t){return Ke().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.sender&&this.activeServiceWorker&&qf()===this.activeServiceWorker){e.next=2;break}return e.abrupt("return");case 2:return e.prev=2,e.next=5,this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50);case 5:e.next=9;break;case 7:e.prev=7,e.t0=e.catch(2);case 9:case"end":return e.stop()}}),e,this,[[2,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"_isAvailable",value:function(){var e=He(Ke().mark((function e(){var t;return Ke().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,indexedDB){e.next=3;break}return e.abrupt("return",!1);case 3:return e.next=5,Qf();case 5:return t=e.sent,e.next=8,Yf(t,Tf,"1");case 8:return e.next=10,Zf(t,Tf);case 10:return e.abrupt("return",!0);case 13:e.prev=13,e.t0=e.catch(0);case 15:return e.abrupt("return",!1);case 16:case"end":return e.stop()}}),e,null,[[0,13]])})));return function(){return e.apply(this,arguments)}}()},{key:"_withPendingWrite",value:function(){var e=He(Ke().mark((function e(t){return Ke().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.pendingWrites++,e.prev=1,e.next=4,t();case 4:return e.prev=4,this.pendingWrites--,e.finish(4);case 7:case"end":return e.stop()}}),e,this,[[1,,4,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"_set",value:function(){var e=He(Ke().mark((function e(t,n){var r=this;return Ke().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this._withPendingWrite(He(Ke().mark((function e(){return Ke().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r._withRetries((function(e){return Yf(e,t,n)}));case 2:return r.localCache[t]=n,e.abrupt("return",r.notifyServiceWorker(t));case 4:case"end":return e.stop()}}),e)})))));case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_get",value:function(){var e=He(Ke().mark((function e(t){var n;return Ke().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._withRetries((function(e){return Jf(e,t)}));case 2:return n=e.sent,this.localCache[t]=n,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_remove",value:function(){var e=He(Ke().mark((function e(t){var n=this;return Ke().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this._withPendingWrite(He(Ke().mark((function e(){return Ke().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n._withRetries((function(e){return Zf(e,t)}));case 2:return delete n.localCache[t],e.abrupt("return",n.notifyServiceWorker(t));case 4:case"end":return e.stop()}}),e)})))));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_poll",value:function(){var e=He(Ke().mark((function e(){var t,n,r,i,a,o,u,s,c,l,f;return Ke().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._withRetries((function(e){var t=Gf(e,!1).getAll();return new Kf(t).toPromise()}));case 2:if(t=e.sent){e.next=5;break}return e.abrupt("return",[]);case 5:if(0===this.pendingWrites){e.next=7;break}return e.abrupt("return",[]);case 7:n=[],r=new Set,i=ka(t);try{for(i.s();!(a=i.n()).done;)o=a.value,u=o.fbase_key,s=o.value,r.add(u),JSON.stringify(this.localCache[u])!==JSON.stringify(s)&&(this.notifyListeners(u,s),n.push(u))}catch(h){i.e(h)}finally{i.f()}for(c=0,l=Object.keys(this.localCache);c<l.length;c++)f=l[c],this.localCache[f]&&!r.has(f)&&(this.notifyListeners(f,null),n.push(f));return e.abrupt("return",n);case 13:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"notifyListeners",value:function(e,t){this.localCache[e]=t;var n=this.listeners[e];if(n)for(var r=0,i=Array.from(n);r<i.length;r++){(0,i[r])(t)}}},{key:"startPolling",value:function(){var e=this;this.stopPolling(),this.pollTimer=setInterval(He(Ke().mark((function t(){return Ke().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",e._poll());case 1:case"end":return t.stop()}}),t)}))),800)}},{key:"stopPolling",value:function(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}},{key:"_addListener",value:function(e,t){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}},{key:"_removeListener",value:function(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&this.stopPolling()}}]),e}();eh.type="LOCAL";var th=eh;function nh(e,t){return bs(e,"POST","/v2/accounts/mfaSignIn:start",ks(e,t))}function rh(e){return ih.apply(this,arguments)}function ih(){return ih=He(Ke().mark((function e(t){return Ke().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,bs(t,"GET","/v1/recaptchaParams");case 2:if(e.t0=e.sent.recaptchaSiteKey,e.t0){e.next=5;break}e.t0="";case 5:return e.abrupt("return",e.t0);case 6:case"end":return e.stop()}}),e)}))),ih.apply(this,arguments)}function ah(e){return new Promise((function(t,n){var r=document.createElement("script");r.setAttribute("src",e),r.onload=t,r.onerror=function(e){var t=ts("internal-error");t.customData=e,n(t)},r.type="text/javascript",r.charset="UTF-8",function(){var e,t;return null!==(t=null===(e=document.getElementsByTagName("head"))||void 0===e?void 0:e[0])&&void 0!==t?t:document}().appendChild(r)}))}function oh(e){return"__".concat(e).concat(Math.floor(1e6*Math.random()))}var uh=1e12,sh=function(){function e(t){d(this,e),this.auth=t,this.counter=uh,this._widgets=new Map}return v(e,[{key:"render",value:function(e,t){var n=this.counter;return this._widgets.set(n,new ch(e,this.auth.name,t||{})),this.counter++,n}},{key:"reset",value:function(e){var t,n=e||uh;null===(t=this._widgets.get(n))||void 0===t||t.delete(),this._widgets.delete(n)}},{key:"getResponse",value:function(e){var t,n=e||uh;return(null===(t=this._widgets.get(n))||void 0===t?void 0:t.getResponse())||""}},{key:"execute",value:function(){var e=He(Ke().mark((function e(t){var n,r;return Ke().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t||uh,null===(n=this._widgets.get(r))||void 0===n||n.execute(),e.abrupt("return","");case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),e}(),ch=function(){function e(t,n,r){var i=this;d(this,e),this.params=r,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=function(){i.execute()};var a="string"===typeof t?document.getElementById(t):t;as(a,"argument-error",{appName:n}),this.container=a,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}return v(e,[{key:"getResponse",value:function(){return this.checkIfDeleted(),this.responseToken}},{key:"delete",value:function(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}},{key:"execute",value:function(){var e=this;this.checkIfDeleted(),this.timerId||(this.timerId=window.setTimeout((function(){e.responseToken=function(e){for(var t=[],n="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ",r=0;r<e;r++)t.push(n.charAt(Math.floor(Math.random()*n.length)));return t.join("")}(50);var t=e.params,n=t.callback,r=t["expired-callback"];if(n)try{n(e.responseToken)}catch(i){}e.timerId=window.setTimeout((function(){if(e.timerId=null,e.responseToken=null,r)try{r()}catch(i){}e.isVisible&&e.execute()}),6e4)}),500))}},{key:"checkIfDeleted",value:function(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}]),e}();var lh=oh("rcb"),fh=new ps(3e4,6e4),hh="https://www.google.com/recaptcha/api.js?",dh=function(){function e(){var t;d(this,e),this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!(null===(t=jf().grecaptcha)||void 0===t?void 0:t.render)}return v(e,[{key:"load",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return as(ph(n),e,"argument-error"),this.shouldResolveImmediately(n)?Promise.resolve(jf().grecaptcha):new Promise((function(r,i){var a=jf().setTimeout((function(){i(ts(e,"network-request-failed"))}),fh.get());jf()[lh]=function(){jf().clearTimeout(a),delete jf()[lh];var o=jf().grecaptcha;if(o){var u=o.render;o.render=function(e,n){var r=u(e,n);return t.counter++,r},t.hostLanguage=n,r(o)}else i(ts(e,"internal-error"))},ah("".concat(hh,"?").concat(to({onload:lh,render:"explicit",hl:n}))).catch((function(){clearTimeout(a),i(ts(e,"internal-error"))}))}))}},{key:"clearedOneInstance",value:function(){this.counter--}},{key:"shouldResolveImmediately",value:function(e){var t;return!!(null===(t=jf().grecaptcha)||void 0===t?void 0:t.render)&&(e===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}]),e}();function ph(e){return e.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(e)}var vh=function(){function e(){d(this,e)}return v(e,[{key:"load",value:function(){var e=He(Ke().mark((function e(t){return Ke().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new sh(t));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"clearedOneInstance",value:function(){}}]),e}(),yh="recaptcha",mh={theme:"light",type:"image"},gh=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Object.assign({},mh),r=arguments.length>2?arguments[2]:void 0;d(this,e),this.parameters=n,this.type=yh,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=kc(r),this.isInvisible="invisible"===this.parameters.size,as("undefined"!==typeof document,this.auth,"operation-not-supported-in-this-environment");var i="string"===typeof t?document.getElementById(t):t;as(i,this.auth,"argument-error"),this.container=i,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new vh:new dh,this.validateStartingState()}return v(e,[{key:"verify",value:function(){var e=He(Ke().mark((function e(){var t,n,r,i=this;return Ke().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.assertNotDestroyed(),e.next=3,this.render();case 3:if(t=e.sent,n=this.getAssertedRecaptcha(),!(r=n.getResponse(t))){e.next=8;break}return e.abrupt("return",r);case 8:return e.abrupt("return",new Promise((function(e){i.tokenChangeListeners.add((function t(n){n&&(i.tokenChangeListeners.delete(t),e(n))})),i.isInvisible&&n.execute(t)})));case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this;try{this.assertNotDestroyed()}catch(t){return Promise.reject(t)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch((function(t){throw e.renderPromise=null,t}))),this.renderPromise}},{key:"_reset",value:function(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}},{key:"clear",value:function(){var e=this;this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach((function(t){e.container.removeChild(t)}))}},{key:"validateStartingState",value:function(){as(!this.parameters.sitekey,this.auth,"argument-error"),as(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),as("undefined"!==typeof document,this.auth,"operation-not-supported-in-this-environment")}},{key:"makeTokenCallback",value:function(e){var t=this;return function(n){if(t.tokenChangeListeners.forEach((function(e){return e(n)})),"function"===typeof e)e(n);else if("string"===typeof e){var r=jf()[e];"function"===typeof r&&r(n)}}}},{key:"assertNotDestroyed",value:function(){as(!this.destroyed,this.auth,"internal-error")}},{key:"makeRenderPromise",value:function(){var e=He(Ke().mark((function e(){var t,n;return Ke().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.init();case 2:return this.widgetId||(t=this.container,this.isInvisible||(n=document.createElement("div"),t.appendChild(n),t=n),this.widgetId=this.getAssertedRecaptcha().render(t,this.parameters)),e.abrupt("return",this.widgetId);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"init",value:function(){var e=He(Ke().mark((function e(){var t;return Ke().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return as(hs()&&!Mf(),this.auth,"internal-error"),e.next=3,kh();case 3:return e.next=5,this._recaptchaLoader.load(this.auth,this.auth.languageCode||void 0);case 5:return this.recaptcha=e.sent,e.next=8,rh(this.auth);case 8:as(t=e.sent,this.auth,"internal-error"),this.parameters.sitekey=t;case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getAssertedRecaptcha",value:function(){return as(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}]),e}();function kh(){var e=null;return new Promise((function(t){"complete"!==document.readyState?(e=function(){return t()},window.addEventListener("load",e)):t()})).catch((function(t){throw e&&window.removeEventListener("load",e),t}))}var bh=function(){function e(t,n){d(this,e),this.verificationId=t,this.onConfirmation=n}return v(e,[{key:"confirm",value:function(e){var t=rl._fromVerification(this.verificationId,e);return this.onConfirmation(t)}}]),e}();function wh(){return wh=He(Ke().mark((function e(t,n,r){var i,a;return Ke().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=kc(t),e.next=3,Sh(i,n,po(r));case 3:return a=e.sent,e.abrupt("return",new bh(a,(function(e){return Rl(i,e)})));case 5:case"end":return e.stop()}}),e)}))),wh.apply(this,arguments)}function _h(e,t,n){return xh.apply(this,arguments)}function xh(){return(xh=He(Ke().mark((function e(t,n,r){var i,a;return Ke().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=po(t),e.next=3,Tl(!1,i,"phone");case 3:return e.next=5,Sh(i.auth,n,po(r));case 5:return a=e.sent,e.abrupt("return",new bh(a,(function(e){return Fl(i,e)})));case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Eh(){return(Eh=He(Ke().mark((function e(t,n,r){var i,a;return Ke().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=po(t),e.next=3,Sh(i.auth,n,po(r));case 3:return a=e.sent,e.abrupt("return",new bh(a,(function(e){return jl(i,e)})));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Sh(e,t,n){return Ih.apply(this,arguments)}function Ih(){return Ih=He(Ke().mark((function e(t,n,r){var i,a,o,u,s,c,l,f,h;return Ke().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.verify();case 2:if(a=e.sent,e.prev=3,as("string"===typeof a,t,"argument-error"),as(r.type===yh,t,"argument-error"),!("session"in(o="string"===typeof n?{phoneNumber:n}:n))){e.next=26;break}if(u=o.session,!("phoneNumber"in o)){e.next=17;break}return as("enroll"===u.type,t,"internal-error"),e.next=13,xf(t,{idToken:u.credential,phoneEnrollmentInfo:{phoneNumber:o.phoneNumber,recaptchaToken:a}});case 13:return s=e.sent,e.abrupt("return",s.phoneSessionInfo.sessionInfo);case 17:return as("signin"===u.type,t,"internal-error"),as(c=(null===(i=o.multiFactorHint)||void 0===i?void 0:i.uid)||o.multiFactorUid,t,"missing-multi-factor-info"),e.next=22,nh(t,{mfaPendingCredential:u.credential,mfaEnrollmentId:c,phoneSignInInfo:{recaptchaToken:a}});case 22:return l=e.sent,e.abrupt("return",l.phoneResponseInfo.sessionInfo);case 24:e.next=31;break;case 26:return e.next=28,Jc(t,{phoneNumber:o.phoneNumber,recaptchaToken:a});case 28:return f=e.sent,h=f.sessionInfo,e.abrupt("return",h);case 31:return e.prev=31,r._reset(),e.finish(31);case 34:case"end":return e.stop()}}),e,null,[[3,,31,34]])}))),Ih.apply(this,arguments)}function Th(){return(Th=He(Ke().mark((function e(t,n){return Ke().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Sl(po(t),n);case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Ch=function(){function e(t){d(this,e),this.providerId=e.PROVIDER_ID,this.auth=kc(t)}return v(e,[{key:"verifyPhoneNumber",value:function(e,t){return Sh(this.auth,e,po(t))}}],[{key:"credential",value:function(e,t){return rl._fromVerification(e,t)}},{key:"credentialFromResult",value:function(t){var n=t;return e.credentialFromTaggedObject(n)}},{key:"credentialFromError",value:function(t){return e.credentialFromTaggedObject(t.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var n=t.phoneNumber,r=t.temporaryProof;return n&&r?rl._fromTokenResponse(n,r):null}}]),e}();function Nh(e,t){return t?cs(t):(as(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}Ch.PROVIDER_ID="phone",Ch.PHONE_SIGN_IN_METHOD="phone";var Ah=function(e){m(n,e);var t=x(n);function n(e){var r;return d(this,n),(r=t.call(this,"custom","custom")).params=e,r}return v(n,[{key:"_getIdTokenResponse",value:function(e){return Qc(e,this._buildIdpRequest())}},{key:"_linkToIdToken",value:function(e,t){return Qc(e,this._buildIdpRequest(t))}},{key:"_getReauthenticationResolver",value:function(e){return Qc(e,this._buildIdpRequest())}},{key:"_buildIdpRequest",value:function(e){var t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}]),n}(Ec);function Oh(e){return Ol(e.auth,new Ah(e),e.bypassAuthState)}function Ph(e){var t=e.auth,n=e.user;return as(n,t,"internal-error"),Nl(n,new Ah(e),e.bypassAuthState)}function Rh(e){return Dh.apply(this,arguments)}function Dh(){return Dh=He(Ke().mark((function e(t){var n,r;return Ke().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.auth,as(r=t.user,n,"internal-error"),e.abrupt("return",Sl(r,new Ah(t),t.bypassAuthState));case 3:case"end":return e.stop()}}),e)}))),Dh.apply(this,arguments)}var Fh=function(){function e(t,n,r,i){var a=arguments.length>4&&void 0!==arguments[4]&&arguments[4];d(this,e),this.auth=t,this.resolver=r,this.user=i,this.bypassAuthState=a,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}return v(e,[{key:"execute",value:function(){var e=this;return new Promise(function(){var t=He(Ke().mark((function t(n,r){return Ke().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.pendingPromise={resolve:n,reject:r},t.prev=1,t.next=4,e.resolver._initialize(e.auth);case 4:return e.eventManager=t.sent,t.next=7,e.onExecution();case 7:e.eventManager.registerConsumer(e),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(1),e.reject(t.t0);case 13:case"end":return t.stop()}}),t,null,[[1,10]])})));return function(e,n){return t.apply(this,arguments)}}())}},{key:"onAuthEvent",value:function(){var e=He(Ke().mark((function e(t){var n,r,i,a,o,u,s;return Ke().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.urlResponse,r=t.sessionId,i=t.postBody,a=t.tenantId,o=t.error,u=t.type,!o){e.next=4;break}return this.reject(o),e.abrupt("return");case 4:return s={auth:this.auth,requestUri:n,sessionId:r,tenantId:a||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState},e.prev=5,e.t0=this,e.next=9,this.getIdpTask(u)(s);case 9:e.t1=e.sent,e.t0.resolve.call(e.t0,e.t1),e.next=16;break;case 13:e.prev=13,e.t2=e.catch(5),this.reject(e.t2);case 16:case"end":return e.stop()}}),e,this,[[5,13]])})));return function(t){return e.apply(this,arguments)}}()},{key:"onError",value:function(e){this.reject(e)}},{key:"getIdpTask",value:function(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return Oh;case"linkViaPopup":case"linkViaRedirect":return Rh;case"reauthViaPopup":case"reauthViaRedirect":return Ph;default:es(this.auth,"internal-error")}}},{key:"resolve",value:function(e){us(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}},{key:"reject",value:function(e){us(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}},{key:"unregisterAndCleanUp",value:function(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}]),e}(),Lh=new ps(2e3,1e4);function jh(e,t,n){return Mh.apply(this,arguments)}function Mh(){return Mh=He(Ke().mark((function e(t,n,r){var i,a,o;return Ke().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=kc(t),rs(t,n,ol),a=Nh(i,r),o=new Bh(i,"signInViaPopup",n,a),e.abrupt("return",o.executeNotNull());case 5:case"end":return e.stop()}}),e)}))),Mh.apply(this,arguments)}function Uh(){return(Uh=He(Ke().mark((function e(t,n,r){var i,a,o;return Ke().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return rs((i=po(t)).auth,n,ol),a=Nh(i.auth,r),o=new Bh(i.auth,"reauthViaPopup",n,a,i),e.abrupt("return",o.executeNotNull());case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Vh(e,t,n){return qh.apply(this,arguments)}function qh(){return(qh=He(Ke().mark((function e(t,n,r){var i,a,o;return Ke().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return rs((i=po(t)).auth,n,ol),a=Nh(i.auth,r),o=new Bh(i.auth,"linkViaPopup",n,a,i),e.abrupt("return",o.executeNotNull());case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Bh=function(e){m(n,e);var t=x(n);function n(e,r,i,a,o){var u;return d(this,n),(u=t.call(this,e,r,a,o)).provider=i,u.authWindow=null,u.pollId=null,n.currentPopupAction&&n.currentPopupAction.cancel(),n.currentPopupAction=w(u),u}return v(n,[{key:"executeNotNull",value:function(){var e=He(Ke().mark((function e(){var t;return Ke().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.execute();case 2:return as(t=e.sent,this.auth,"internal-error"),e.abrupt("return",t);case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"onExecution",value:function(){var e=He(Ke().mark((function e(){var t,n=this;return Ke().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return us(1===this.filter.length,"Popup operations only handle one event"),t=Ff(),e.next=4,this.resolver._openPopup(this.auth,this.provider,this.filter[0],t);case 4:this.authWindow=e.sent,this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch((function(e){n.reject(e)})),this.resolver._isIframeWebStorageSupported(this.auth,(function(e){e||n.reject(ts(n.auth,"web-storage-unsupported"))})),this.pollUserCancellation();case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"eventId",get:function(){var e;return(null===(e=this.authWindow)||void 0===e?void 0:e.associatedEvent)||null}},{key:"cancel",value:function(){this.reject(ts(this.auth,"cancelled-popup-request"))}},{key:"cleanUp",value:function(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,n.currentPopupAction=null}},{key:"pollUserCancellation",value:function(){var e=this;!function t(){var n,r;(null===(r=null===(n=e.authWindow)||void 0===n?void 0:n.window)||void 0===r?void 0:r.closed)?e.pollId=window.setTimeout((function(){e.pollId=null,e.reject(ts(e.auth,"popup-closed-by-user"))}),2e3):e.pollId=window.setTimeout(t,Lh.get())}()}}]),n}(Fh);Bh.currentPopupAction=null;var zh=new Map,Wh=function(e){m(n,e);var t=x(n);function n(e,r){var i,a=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return d(this,n),(i=t.call(this,e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],r,void 0,a)).eventId=null,i}return v(n,[{key:"execute",value:function(){var e=He(Ke().mark((function e(){var t,r;return Ke().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=zh.get(this.auth._key())){e.next=21;break}return e.prev=2,e.next=5,Kh(this.resolver,this.auth);case 5:if(!e.sent){e.next=12;break}return e.next=9,Du(g(n.prototype),"execute",this).call(this);case 9:e.t0=e.sent,e.next=13;break;case 12:e.t0=null;case 13:r=e.t0,t=function(){return Promise.resolve(r)},e.next=20;break;case 17:e.prev=17,e.t1=e.catch(2),t=function(){return Promise.reject(e.t1)};case 20:zh.set(this.auth._key(),t);case 21:return this.bypassAuthState||zh.set(this.auth._key(),(function(){return Promise.resolve(null)})),e.abrupt("return",t());case 23:case"end":return e.stop()}}),e,this,[[2,17]])})));return function(){return e.apply(this,arguments)}}()},{key:"onAuthEvent",value:function(){var e=He(Ke().mark((function e(t){var r;return Ke().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("signInViaRedirect"!==t.type){e.next=4;break}return e.abrupt("return",Du(g(n.prototype),"onAuthEvent",this).call(this,t));case 4:if("unknown"!==t.type){e.next=7;break}return this.resolve(null),e.abrupt("return");case 7:if(!t.eventId){e.next=17;break}return e.next=10,this.auth._redirectUserForId(t.eventId);case 10:if(!(r=e.sent)){e.next=16;break}return this.user=r,e.abrupt("return",Du(g(n.prototype),"onAuthEvent",this).call(this,t));case 16:this.resolve(null);case 17:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"onExecution",value:function(){var e=He(Ke().mark((function e(){return Ke().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"cleanUp",value:function(){}}]),n}(Fh);function Kh(e,t){return Gh.apply(this,arguments)}function Gh(){return Gh=He(Ke().mark((function e(t,n){var r,i,a;return Ke().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Jh(n),i=$h(t),e.next=4,i._isAvailable();case 4:if(e.sent){e.next=6;break}return e.abrupt("return",!1);case 6:return e.next=8,i._get(r);case 8:return e.t0=e.sent,a="true"===e.t0,e.next=12,i._remove(r);case 12:return e.abrupt("return",a);case 13:case"end":return e.stop()}}),e)}))),Gh.apply(this,arguments)}function Hh(e,t){return Qh.apply(this,arguments)}function Qh(){return Qh=He(Ke().mark((function e(t,n){return Ke().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",$h(t)._set(Jh(n),"true"));case 1:case"end":return e.stop()}}),e)}))),Qh.apply(this,arguments)}function Yh(e,t){zh.set(e._key(),t)}function $h(e){return cs(e._redirectPersistence)}function Jh(e){return nc("pendingRedirect",e.config.apiKey,e.name)}function Xh(e,t,n){return function(e,t,n){return Zh.apply(this,arguments)}(e,t,n)}function Zh(){return Zh=He(Ke().mark((function e(t,n,r){var i,a;return Ke().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=kc(t),rs(t,n,ol),a=Nh(i,r),e.next=5,Hh(a,i);case 5:return e.abrupt("return",a._openRedirect(i,n,"signInViaRedirect"));case 6:case"end":return e.stop()}}),e)}))),Zh.apply(this,arguments)}function ed(e,t,n){return function(e,t,n){return td.apply(this,arguments)}(e,t,n)}function td(){return(td=He(Ke().mark((function e(t,n,r){var i,a,o;return Ke().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return rs((i=po(t)).auth,n,ol),a=Nh(i.auth,r),e.next=5,Hh(a,i.auth);case 5:return e.next=7,sd(i);case 7:return o=e.sent,e.abrupt("return",a._openRedirect(i.auth,n,"reauthViaRedirect",o));case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function nd(e,t,n){return function(e,t,n){return rd.apply(this,arguments)}(e,t,n)}function rd(){return(rd=He(Ke().mark((function e(t,n,r){var i,a,o;return Ke().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return rs((i=po(t)).auth,n,ol),a=Nh(i.auth,r),e.next=5,Tl(!1,i,n.providerId);case 5:return e.next=7,Hh(a,i.auth);case 7:return e.next=9,sd(i);case 9:return o=e.sent,e.abrupt("return",a._openRedirect(i.auth,n,"linkViaRedirect",o));case 11:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function id(e,t){return ad.apply(this,arguments)}function ad(){return ad=He(Ke().mark((function e(t,n){return Ke().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,kc(t)._initializationPromise;case 2:return e.abrupt("return",od(t,n,!1));case 3:case"end":return e.stop()}}),e)}))),ad.apply(this,arguments)}function od(e,t){return ud.apply(this,arguments)}function ud(){return ud=He(Ke().mark((function e(t,n){var r,i,a,o,u,s=arguments;return Ke().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=s.length>2&&void 0!==s[2]&&s[2],i=kc(t),a=Nh(i,n),o=new Wh(i,a,r),e.next=6,o.execute();case 6:if(!(u=e.sent)||r){e.next=13;break}return delete u.user._redirectEventId,e.next=11,i._persistUserIfCurrent(u.user);case 11:return e.next=13,i._setRedirectUser(null,n);case 13:return e.abrupt("return",u);case 14:case"end":return e.stop()}}),e)}))),ud.apply(this,arguments)}function sd(e){return cd.apply(this,arguments)}function cd(){return(cd=He(Ke().mark((function e(t){var n;return Ke().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Ff("".concat(t.uid,":::")),t._redirectEventId=n,e.next=4,t.auth._setRedirectUser(t);case 4:return e.next=6,t.auth._persistUserIfCurrent(t);case 6:return e.abrupt("return",n);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var ld=function(){function e(t){d(this,e),this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}return v(e,[{key:"registerConsumer",value:function(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}},{key:"unregisterConsumer",value:function(e){this.consumers.delete(e)}},{key:"onEvent",value:function(e){var t=this;if(this.hasEventBeenHandled(e))return!1;var n=!1;return this.consumers.forEach((function(r){t.isEventForConsumer(e,r)&&(n=!0,t.sendToConsumer(e,r),t.saveEventToCache(e))})),this.hasHandledPotentialRedirect||!function(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return hd(e);default:return!1}}(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}},{key:"sendToConsumer",value:function(e,t){var n;if(e.error&&!hd(e)){var r=(null===(n=e.error.code)||void 0===n?void 0:n.split("auth/")[1])||"internal-error";t.onError(ts(this.auth,r))}else t.onAuthEvent(e)}},{key:"isEventForConsumer",value:function(e,t){var n=null===t.eventId||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&n}},{key:"hasEventBeenHandled",value:function(e){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(fd(e))}},{key:"saveEventToCache",value:function(e){this.cachedEventUids.add(fd(e)),this.lastProcessedEventTime=Date.now()}}]),e}();function fd(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter((function(e){return e})).join("-")}function hd(e){var t=e.type,n=e.error;return"unknown"===t&&(null===n||void 0===n?void 0:n.code)==="auth/".concat("no-auth-event")}function dd(e){return pd.apply(this,arguments)}function pd(){return pd=He(Ke().mark((function e(t){var n,r=arguments;return Ke().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=r.length>1&&void 0!==r[1]?r[1]:{},e.abrupt("return",bs(t,"GET","/v1/projects",n));case 2:case"end":return e.stop()}}),e)}))),pd.apply(this,arguments)}var vd=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,yd=/^https?/;function md(){return md=He(Ke().mark((function e(t){var n,r,i,a,o;return Ke().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.config.emulator){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,dd(t);case 4:n=e.sent,r=n.authorizedDomains,i=ka(r),e.prev=7,i.s();case 9:if((a=i.n()).done){e.next=20;break}if(o=a.value,e.prev=11,!gd(o)){e.next=14;break}return e.abrupt("return");case 14:e.next=18;break;case 16:e.prev=16,e.t0=e.catch(11);case 18:e.next=9;break;case 20:e.next=25;break;case 22:e.prev=22,e.t1=e.catch(7),i.e(e.t1);case 25:return e.prev=25,i.f(),e.finish(25);case 28:es(t,"unauthorized-domain");case 29:case"end":return e.stop()}}),e,null,[[7,22,25,28],[11,16]])}))),md.apply(this,arguments)}function gd(e){var t=fs(),n=new URL(t),r=n.protocol,i=n.hostname;if(e.startsWith("chrome-extension://")){var a=new URL(e);return""===a.hostname&&""===i?"chrome-extension:"===r&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):"chrome-extension:"===r&&a.hostname===i}if(!yd.test(r))return!1;if(vd.test(e))return i===e;var o=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(i)}var kd=new ps(3e4,6e4);function bd(){var e=jf().___jsl;if(null===e||void 0===e?void 0:e.H)for(var t=0,n=Object.keys(e.H);t<n.length;t++){var r=n[t];if(e.H[r].r=e.H[r].r||[],e.H[r].L=e.H[r].L||[],e.H[r].r=h(e.H[r].L),e.CP)for(var i=0;i<e.CP.length;i++)e.CP[i]=null}}var wd=null;function _d(e){return wd=wd||function(e){return new Promise((function(t,n){var r,i,a;function o(){bd(),gapi.load("gapi.iframes",{callback:function(){t(gapi.iframes.getContext())},ontimeout:function(){bd(),n(ts(e,"network-request-failed"))},timeout:kd.get()})}if(null===(i=null===(r=jf().gapi)||void 0===r?void 0:r.iframes)||void 0===i?void 0:i.Iframe)t(gapi.iframes.getContext());else{if(!(null===(a=jf().gapi)||void 0===a?void 0:a.load)){var u=oh("iframefcb");return jf()[u]=function(){gapi.load?o():n(ts(e,"network-request-failed"))},ah("https://apis.google.com/js/api.js?onload=".concat(u)).catch((function(e){return n(e)}))}o()}})).catch((function(e){throw wd=null,e}))}(e),wd}var xd=new ps(5e3,15e3),Ed={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Sd=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Id(e){var t=e.config;as(t.authDomain,e,"auth-domain-config-required");var n=t.emulator?vs(t,"emulator/auth/iframe"):"https://".concat(e.config.authDomain,"/").concat("__/auth/iframe"),r={apiKey:t.apiKey,appName:e.name,v:lu},i=Sd.get(e.config.apiHost);i&&(r.eid=i);var a=e._getFrameworks();return a.length&&(r.fw=a.join(",")),"".concat(n,"?").concat(to(r).slice(1))}function Td(e){return Cd.apply(this,arguments)}function Cd(){return Cd=He(Ke().mark((function e(t){var n,r;return Ke().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,_d(t);case 2:return n=e.sent,as(r=jf().gapi,t,"internal-error"),e.abrupt("return",n.open({where:document.body,url:Id(t),messageHandlersFilter:r.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Ed,dontclear:!0},(function(e){return new Promise(function(){var n=He(Ke().mark((function n(r,i){var a,o,u;return Ke().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return u=function(){jf().clearTimeout(o),r(e)},n.next=3,e.restyle({setHideOnLeave:!1});case 3:a=ts(t,"network-request-failed"),o=jf().setTimeout((function(){i(a)}),xd.get()),e.ping(u).then(u,(function(){i(a)}));case 6:case"end":return n.stop()}}),n)})));return function(e,t){return n.apply(this,arguments)}}())})));case 6:case"end":return e.stop()}}),e)}))),Cd.apply(this,arguments)}var Nd={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},Ad="_blank",Od="http://localhost",Pd=function(){function e(t){d(this,e),this.window=t,this.associatedEvent=null}return v(e,[{key:"close",value:function(){if(this.window)try{this.window.close()}catch(e){}}}]),e}();function Rd(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:500,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:600,a=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString(),u="",s=Object.assign(Object.assign({},Nd),{width:r.toString(),height:i.toString(),top:a,left:o}),c=Da().toLowerCase();n&&(u=uc(c)?Ad:n),ac(c)&&(t=t||Od,s.scrollbars="yes");var f=Object.entries(s).reduce((function(e,t){var n=l(t,2),r=n[0],i=n[1];return"".concat(e).concat(r,"=").concat(i,",")}),"");if(dc(c)&&"_self"!==u)return Dd(t||"",u),new Pd(null);var h=window.open(t||"",u,f);as(h,e,"popup-blocked");try{h.focus()}catch(d){}return new Pd(h)}function Dd(e,t){var n=document.createElement("a");n.href=e,n.target=t;var r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}var Fd="__/auth/handler",Ld="emulator/auth/handler";function jd(e,t,n,r,i,a){as(e.config.authDomain,e,"auth-domain-config-required"),as(e.config.apiKey,e,"invalid-api-key");var o={apiKey:e.config.apiKey,appName:e.name,authType:n,redirectUrl:r,v:lu,eventId:i};if(t instanceof ol){t.setDefaultLanguage(e.languageCode),o.providerId=t.providerId||"",Ja(t.getCustomParameters())||(o.customParameters=JSON.stringify(t.getCustomParameters()));for(var u=0,s=Object.entries(a||{});u<s.length;u++){var c=l(s[u],2),f=c[0],h=c[1];o[f]=h}}if(t instanceof ul){var d=t.getScopes().filter((function(e){return""!==e}));d.length>0&&(o.scopes=d.join(","))}e.tenantId&&(o.tid=e.tenantId);for(var p=o,v=0,y=Object.keys(p);v<y.length;v++){var m=y[v];void 0===p[m]&&delete p[m]}return"".concat(function(e){var t=e.config;if(!t.emulator)return"https://".concat(t.authDomain,"/").concat(Fd);return vs(t,Ld)}(e),"?").concat(to(p).slice(1))}var Md="webStorageSupport",Ud=function(){function e(){d(this,e),this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Pf,this._completeRedirectFn=od,this._overrideRedirectResult=Yh}return v(e,[{key:"_openPopup",value:function(){var e=He(Ke().mark((function e(t,n,r,i){var a,o;return Ke().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return us(null===(a=this.eventManagers[t._key()])||void 0===a?void 0:a.manager,"_initialize() not called before _openPopup()"),o=jd(t,n,r,fs(),i),e.abrupt("return",Rd(t,o,Ff()));case 3:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_openRedirect",value:function(){var e=He(Ke().mark((function e(t,n,r,i){return Ke().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._originValidation(t);case 2:return a=jd(t,n,r,fs(),i),jf().location.href=a,e.abrupt("return",new Promise((function(){})));case 4:case"end":return e.stop()}var a}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_initialize",value:function(e){var t=this,n=e._key();if(this.eventManagers[n]){var r=this.eventManagers[n],i=r.manager,a=r.promise;return i?Promise.resolve(i):(us(a,"If manager is not set, promise should be"),a)}var o=this.initAndGetManager(e);return this.eventManagers[n]={promise:o},o.catch((function(){delete t.eventManagers[n]})),o}},{key:"initAndGetManager",value:function(){var e=He(Ke().mark((function e(t){var n,r;return Ke().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Td(t);case 2:return n=e.sent,r=new ld(t),n.register("authEvent",(function(e){return as(null===e||void 0===e?void 0:e.authEvent,t,"invalid-auth-event"),{status:r.onEvent(e.authEvent)?"ACK":"ERROR"}}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:r},this.iframes[t._key()]=n,e.abrupt("return",r);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_isIframeWebStorageSupported",value:function(e,t){this.iframes[e._key()].send(Md,{type:Md},(function(n){var r,i=null===(r=null===n||void 0===n?void 0:n[0])||void 0===r?void 0:r.webStorageSupport;void 0!==i&&t(!!i),es(e,"internal-error")}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}},{key:"_originValidation",value:function(e){var t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=function(e){return md.apply(this,arguments)}(e)),this.originValidationPromises[t]}},{key:"_shouldInitProactively",get:function(){return vc()||oc()||hc()}}]),e}(),Vd=Ud,qd=function(){function e(t){d(this,e),this.factorId=t}return v(e,[{key:"_process",value:function(e,t,n){switch(t.type){case"enroll":return this._finalizeEnroll(e,t.credential,n);case"signin":return this._finalizeSignIn(e,t.credential);default:return os("unexpected MultiFactorSessionType")}}}]),e}(),Bd=function(e){m(n,e);var t=x(n);function n(e){var r;return d(this,n),(r=t.call(this,"phone")).credential=e,r}return v(n,[{key:"_finalizeEnroll",value:function(e,t,n){return function(e,t){return bs(e,"POST","/v2/accounts/mfaEnrollment:finalize",ks(e,t))}(e,{idToken:t,displayName:n,phoneVerificationInfo:this.credential._makeVerificationRequest()})}},{key:"_finalizeSignIn",value:function(e,t){return function(e,t){return bs(e,"POST","/v2/accounts/mfaSignIn:finalize",ks(e,t))}(e,{mfaPendingCredential:t,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}],[{key:"_fromCredential",value:function(e){return new n(e)}}]),n}(qd),zd=function(){function e(){d(this,e)}return v(e,null,[{key:"assertion",value:function(e){return Bd._fromCredential(e)}}]),e}();zd.FACTOR_ID="phone";var Wd,Kd="@firebase/auth",Gd="0.20.7",Hd=function(){function e(t){d(this,e),this.auth=t,this.internalListeners=new Map}return v(e,[{key:"getUid",value:function(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}},{key:"getToken",value:function(){var e=He(Ke().mark((function e(t){var n;return Ke().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.assertAuthConfigured(),e.next=3,this.auth._initializationPromise;case 3:if(this.auth.currentUser){e.next=5;break}return e.abrupt("return",null);case 5:return e.next=7,this.auth.currentUser.getIdToken(t);case 7:return n=e.sent,e.abrupt("return",{accessToken:n});case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"addAuthTokenListener",value:function(e){if(this.assertAuthConfigured(),!this.internalListeners.has(e)){var t=this.auth.onIdTokenChanged((function(t){var n;e((null===(n=t)||void 0===n?void 0:n.stsTokenManager.accessToken)||null)}));this.internalListeners.set(e,t),this.updateProactiveRefresh()}}},{key:"removeAuthTokenListener",value:function(e){this.assertAuthConfigured();var t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}},{key:"assertAuthConfigured",value:function(){as(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}},{key:"updateProactiveRefresh",value:function(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}]),e}();Wd="Browser",ru(new vo("auth",(function(e,t){var n=t.options,r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),a=r.options,o=a.apiKey,u=a.authDomain;return function(e,t){as(o&&!o.includes(":"),"invalid-api-key",{appName:e.name}),as(!(null===u||void 0===u?void 0:u.includes(":")),"argument-error",{appName:e.name});var r={apiKey:o,authDomain:u,clientPlatform:Wd,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:yc(Wd)},i=new gc(e,t,r);return function(e,t){var n=(null===t||void 0===t?void 0:t.persistence)||[],r=(Array.isArray(n)?n:[n]).map(cs);(null===t||void 0===t?void 0:t.errorMap)&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(r,null===t||void 0===t?void 0:t.popupRedirectResolver)}(i,n),i}(r,i)}),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((function(e,t,n){e.getProvider("auth-internal").initialize()}))),ru(new vo("auth-internal",(function(e){return function(e){return new Hd(e)}(kc(e.getProvider("auth").getImmediate()))}),"PRIVATE").setInstantiationMode("EXPLICIT")),yu(Kd,Gd,function(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(Wd)),yu(Kd,Gd,"esm2017");var Qd,Yd="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof n.g?n.g:"undefined"!==typeof self?self:{},$d={},Jd=Jd||{},Xd=Yd||self;function Zd(){}function ep(e){var t=typeof e;return"array"==(t="object"!=t?t:e?Array.isArray(e)?"array":t:"null")||"object"==t&&"number"==typeof e.length}function tp(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}var np="closure_uid_"+(1e9*Math.random()>>>0),rp=0;function ip(e,t,n){return e.call.apply(e.bind,arguments)}function ap(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),e.apply(t,n)}}return function(){return e.apply(t,arguments)}}function op(e,t,n){return(op=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?ip:ap).apply(null,arguments)}function up(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}function sp(e,t){function n(){}n.prototype=t.prototype,e.X=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.Vb=function(e,n,r){for(var i=Array(arguments.length-2),a=2;a<arguments.length;a++)i[a-2]=arguments[a];return t.prototype[n].apply(e,i)}}function cp(){this.s=this.s,this.o=this.o}var lp={};cp.prototype.s=!1,cp.prototype.na=function(){if(!this.s&&(this.s=!0,this.M(),0)){var e=function(e){return Object.prototype.hasOwnProperty.call(e,np)&&e[np]||(e[np]=++rp)}(this);delete lp[e]}},cp.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};var fp=Array.prototype.indexOf?function(e,t){return Array.prototype.indexOf.call(e,t,void 0)}:function(e,t){if("string"===typeof e)return"string"!==typeof t||1!=t.length?-1:e.indexOf(t,0);for(var n=0;n<e.length;n++)if(n in e&&e[n]===t)return n;return-1};function hp(e){var t=e.length;if(0<t){for(var n=Array(t),r=0;r<t;r++)n[r]=e[r];return n}return[]}function dp(e,t){for(var n=1;n<arguments.length;n++){var r=arguments[n];if(ep(r)){var i=e.length||0,a=r.length||0;e.length=i+a;for(var o=0;o<a;o++)e[i+o]=r[o]}else e.push(r)}}function pp(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}pp.prototype.h=function(){this.defaultPrevented=!0};var vp=function(){if(!Xd.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{Xd.addEventListener("test",Zd,t),Xd.removeEventListener("test",Zd,t)}catch(QV){}return e}();function yp(e){return/^[\s\xa0]*$/.test(e)}var mp=String.prototype.trim?function(e){return e.trim()}:function(e){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(e)[1]};function gp(e,t){return e<t?-1:e>t?1:0}function kp(){var e=Xd.navigator;return e&&(e=e.userAgent)?e:""}function bp(e){return-1!=kp().indexOf(e)}function wp(e){return wp[" "](e),e}wp[" "]=Zd;var _p,xp=bp("Opera"),Ep=bp("Trident")||bp("MSIE"),Sp=bp("Edge"),Ip=Sp||Ep,Tp=bp("Gecko")&&!(-1!=kp().toLowerCase().indexOf("webkit")&&!bp("Edge"))&&!(bp("Trident")||bp("MSIE"))&&!bp("Edge"),Cp=-1!=kp().toLowerCase().indexOf("webkit")&&!bp("Edge");function Np(){var e=Xd.document;return e?e.documentMode:void 0}e:{var Ap="",Op=function(){var e=kp();return Tp?/rv:([^\);]+)(\)|;)/.exec(e):Sp?/Edge\/([\d\.]+)/.exec(e):Ep?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(e):Cp?/WebKit\/(\S+)/.exec(e):xp?/(?:Version)[ \/]?(\S+)/.exec(e):void 0}();if(Op&&(Ap=Op?Op[1]:""),Ep){var Pp=Np();if(null!=Pp&&Pp>parseFloat(Ap)){_p=String(Pp);break e}}_p=Ap}var Rp,Dp={};function Fp(){return function(e){var t=Dp;return Object.prototype.hasOwnProperty.call(t,9)?t[9]:t[9]=e(9)}((function(){for(var e=0,t=mp(String(_p)).split("."),n=mp("9").split("."),r=Math.max(t.length,n.length),i=0;0==e&&i<r;i++){var a=t[i]||"",o=n[i]||"";do{if(a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],o=/(\d*)(\D*)(.*)/.exec(o)||["","","",""],0==a[0].length&&0==o[0].length)break;e=gp(0==a[1].length?0:parseInt(a[1],10),0==o[1].length?0:parseInt(o[1],10))||gp(0==a[2].length,0==o[2].length)||gp(a[2],o[2]),a=a[3],o=o[3]}while(0==e)}return 0<=e}))}if(Xd.document&&Ep){var Lp=Np();Rp=Lp||(parseInt(_p,10)||void 0)}else Rp=void 0;var jp=Rp;function Mp(e,t){if(pp.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if(Tp){e:{try{wp(t.nodeName);var i=!0;break e}catch(HV){}i=!1}i||(t=null)}}else"mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType="string"===typeof e.pointerType?e.pointerType:Up[e.pointerType]||"",this.state=e.state,this.i=e,e.defaultPrevented&&Mp.X.h.call(this)}}sp(Mp,pp);var Up={2:"touch",3:"pen",4:"mouse"};Mp.prototype.h=function(){Mp.X.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var Vp="closure_listenable_"+(1e6*Math.random()|0),qp=0;function Bp(e,t,n,r,i){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.ha=i,this.key=++qp,this.ba=this.ea=!1}function zp(e){e.ba=!0,e.listener=null,e.proxy=null,e.src=null,e.ha=null}function Wp(e,t,n){for(var r in e)t.call(n,e[r],r,e)}function Kp(e){var t={};for(var n in e)t[n]=e[n];return t}var Gp="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Hp(e,t){for(var n,r,i=1;i<arguments.length;i++){for(n in r=arguments[i])e[n]=r[n];for(var a=0;a<Gp.length;a++)n=Gp[a],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function Qp(e){this.src=e,this.g={},this.h=0}function Yp(e,t){var n=t.type;if(n in e.g){var r,i=e.g[n],a=fp(i,t);(r=0<=a)&&Array.prototype.splice.call(i,a,1),r&&(zp(t),0==e.g[n].length&&(delete e.g[n],e.h--))}}function $p(e,t,n,r){for(var i=0;i<e.length;++i){var a=e[i];if(!a.ba&&a.listener==t&&a.capture==!!n&&a.ha==r)return i}return-1}Qp.prototype.add=function(e,t,n,r,i){var a=e.toString();(e=this.g[a])||(e=this.g[a]=[],this.h++);var o=$p(e,t,r,i);return-1<o?(t=e[o],n||(t.ea=!1)):((t=new Bp(t,this.src,a,!!r,i)).ea=n,e.push(t)),t};var Jp="closure_lm_"+(1e6*Math.random()|0),Xp={};function Zp(e,t,n,r,i){if(r&&r.once)return tv(e,t,n,r,i);if(Array.isArray(t)){for(var a=0;a<t.length;a++)Zp(e,t[a],n,r,i);return null}return n=sv(n),e&&e[Vp]?e.N(t,n,tp(r)?!!r.capture:!!r,i):ev(e,t,n,!1,r,i)}function ev(e,t,n,r,i,a){if(!t)throw Error("Invalid event type");var o=tp(i)?!!i.capture:!!i,u=ov(e);if(u||(e[Jp]=u=new Qp(e)),(n=u.add(t,n,r,o,a)).proxy)return n;if(r=function(){function e(n){return t.call(e.src,e.listener,n)}var t=av;return e}(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)vp||(i=o),void 0===i&&(i=!1),e.addEventListener(t.toString(),r,i);else if(e.attachEvent)e.attachEvent(iv(t.toString()),r);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(r)}return n}function tv(e,t,n,r,i){if(Array.isArray(t)){for(var a=0;a<t.length;a++)tv(e,t[a],n,r,i);return null}return n=sv(n),e&&e[Vp]?e.O(t,n,tp(r)?!!r.capture:!!r,i):ev(e,t,n,!0,r,i)}function nv(e,t,n,r,i){if(Array.isArray(t))for(var a=0;a<t.length;a++)nv(e,t[a],n,r,i);else r=tp(r)?!!r.capture:!!r,n=sv(n),e&&e[Vp]?(e=e.i,(t=String(t).toString())in e.g&&(-1<(n=$p(a=e.g[t],n,r,i))&&(zp(a[n]),Array.prototype.splice.call(a,n,1),0==a.length&&(delete e.g[t],e.h--)))):e&&(e=ov(e))&&(t=e.g[t.toString()],e=-1,t&&(e=$p(t,n,r,i)),(n=-1<e?t[e]:null)&&rv(n))}function rv(e){if("number"!==typeof e&&e&&!e.ba){var t=e.src;if(t&&t[Vp])Yp(t.i,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(iv(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=ov(t))?(Yp(n,e),0==n.h&&(n.src=null,t[Jp]=null)):zp(e)}}}function iv(e){return e in Xp?Xp[e]:Xp[e]="on"+e}function av(e,t){if(e.ba)e=!0;else{t=new Mp(t,this);var n=e.listener,r=e.ha||e.src;e.ea&&rv(e),e=n.call(r,t)}return e}function ov(e){return(e=e[Jp])instanceof Qp?e:null}var uv="__closure_events_fn_"+(1e9*Math.random()>>>0);function sv(e){return"function"===typeof e?e:(e[uv]||(e[uv]=function(t){return e.handleEvent(t)}),e[uv])}function cv(){cp.call(this),this.i=new Qp(this),this.P=this,this.I=null}function lv(e,t){var n,r=e.I;if(r)for(n=[];r;r=r.I)n.push(r);if(e=e.P,r=t.type||t,"string"===typeof t)t=new pp(t,e);else if(t instanceof pp)t.target=t.target||e;else{var i=t;Hp(t=new pp(r,e),i)}if(i=!0,n)for(var a=n.length-1;0<=a;a--){var o=t.g=n[a];i=fv(o,r,!0,t)&&i}if(i=fv(o=t.g=e,r,!0,t)&&i,i=fv(o,r,!1,t)&&i,n)for(a=0;a<n.length;a++)i=fv(o=t.g=n[a],r,!1,t)&&i}function fv(e,t,n,r){if(!(t=e.i.g[String(t)]))return!0;t=t.concat();for(var i=!0,a=0;a<t.length;++a){var o=t[a];if(o&&!o.ba&&o.capture==n){var u=o.listener,s=o.ha||o.src;o.ea&&Yp(e.i,o),i=!1!==u.call(s,r)&&i}}return i&&!r.defaultPrevented}sp(cv,cp),cv.prototype[Vp]=!0,cv.prototype.removeEventListener=function(e,t,n,r){nv(this,e,t,n,r)},cv.prototype.M=function(){if(cv.X.M.call(this),this.i){var e,t=this.i;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)zp(n[r]);delete t.g[e],t.h--}}this.I=null},cv.prototype.N=function(e,t,n,r){return this.i.add(String(e),t,!1,n,r)},cv.prototype.O=function(e,t,n,r){return this.i.add(String(e),t,!0,n,r)};var hv=Xd.JSON.stringify;function dv(){var e=wv,t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}var pv,vv=function(){function e(){d(this,e),this.h=this.g=null}return v(e,[{key:"add",value:function(e,t){var n=yv.get();n.set(e,t),this.h?this.h.next=n:this.g=n,this.h=n}}]),e}(),yv=new(function(){function e(t,n){d(this,e),this.i=t,this.j=n,this.h=0,this.g=null}return v(e,[{key:"get",value:function(){var e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}]),e}())((function(){return new mv}),(function(e){return e.reset()})),mv=function(){function e(){d(this,e),this.next=this.g=this.h=null}return v(e,[{key:"set",value:function(e,t){this.h=e,this.g=t,this.next=null}},{key:"reset",value:function(){this.next=this.g=this.h=null}}]),e}();function gv(e){Xd.setTimeout((function(){throw e}),0)}function kv(e,t){pv||function(){var e=Xd.Promise.resolve(void 0);pv=function(){e.then(_v)}}(),bv||(pv(),bv=!0),wv.add(e,t)}var bv=!1,wv=new vv;function _v(){for(var e;e=dv();){try{e.h.call(e.g)}catch(QV){gv(QV)}var t=yv;t.j(e),100>t.h&&(t.h++,e.next=t.g,t.g=e)}bv=!1}function xv(e,t){cv.call(this),this.h=e||1,this.g=t||Xd,this.j=op(this.kb,this),this.l=Date.now()}function Ev(e){e.ca=!1,e.R&&(e.g.clearTimeout(e.R),e.R=null)}function Sv(e,t,n){if("function"===typeof e)n&&(e=op(e,n));else{if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=op(e.handleEvent,e)}return 2147483647<Number(t)?-1:Xd.setTimeout(e,t||0)}function Iv(e){e.g=Sv((function(){e.g=null,e.i&&(e.i=!1,Iv(e))}),e.j);var t=e.h;e.h=null,e.m.apply(null,t)}sp(xv,cv),(Qd=xv.prototype).ca=!1,Qd.R=null,Qd.kb=function(){if(this.ca){var e=Date.now()-this.l;0<e&&e<.8*this.h?this.R=this.g.setTimeout(this.j,this.h-e):(this.R&&(this.g.clearTimeout(this.R),this.R=null),lv(this,"tick"),this.ca&&(Ev(this),this.start()))}},Qd.start=function(){this.ca=!0,this.R||(this.R=this.g.setTimeout(this.j,this.h),this.l=Date.now())},Qd.M=function(){xv.X.M.call(this),Ev(this),delete this.g};var Tv=function(e){m(n,e);var t=x(n);function n(e,r){var i;return d(this,n),(i=t.call(this)).m=e,i.j=r,i.h=null,i.i=!1,i.g=null,i}return v(n,[{key:"l",value:function(e){this.h=arguments,this.g?this.i=!0:Iv(this)}},{key:"M",value:function(){Du(g(n.prototype),"M",this).call(this),this.g&&(Xd.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}]),n}(cp);function Cv(e){cp.call(this),this.h=e,this.g={}}sp(Cv,cp);var Nv=[];function Av(e,t,n,r){Array.isArray(n)||(n&&(Nv[0]=n.toString()),n=Nv);for(var i=0;i<n.length;i++){var a=Zp(t,n[i],r||e.handleEvent,!1,e.h||e);if(!a)break;e.g[a.key]=a}}function Ov(e){Wp(e.g,(function(e,t){this.g.hasOwnProperty(t)&&rv(e)}),e),e.g={}}function Pv(){this.g=!0}function Rv(e,t,n,r){e.info((function(){return"XMLHTTP TEXT ("+t+"): "+function(e,t){if(!e.g)return t;if(!t)return null;try{var n=JSON.parse(t);if(n)for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var r=n[e];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var a=i[0];if("noop"!=a&&"stop"!=a&&"close"!=a)for(var o=1;o<i.length;o++)i[o]=""}}}return hv(n)}catch(VV){return t}}(e,n)+(r?" "+r:"")}))}Cv.prototype.M=function(){Cv.X.M.call(this),Ov(this)},Cv.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Pv.prototype.Aa=function(){this.g=!1},Pv.prototype.info=function(){};var Dv={},Fv=null;function Lv(){return Fv=Fv||new cv}function jv(e){pp.call(this,Dv.Oa,e)}function Mv(e){var t=Lv();lv(t,new jv(t,e))}function Uv(e,t){pp.call(this,Dv.STAT_EVENT,e),this.stat=t}function Vv(e){var t=Lv();lv(t,new Uv(t,e))}function qv(e,t){pp.call(this,Dv.Pa,e),this.size=t}function Bv(e,t){if("function"!==typeof e)throw Error("Fn must not be null and must be a function");return Xd.setTimeout((function(){e()}),t)}Dv.Oa="serverreachability",sp(jv,pp),Dv.STAT_EVENT="statevent",sp(Uv,pp),Dv.Pa="timingevent",sp(qv,pp);var zv={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,La:7,TIMEOUT:8,Cb:9},Wv={qb:"complete",Mb:"success",Ma:"error",La:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function Kv(){}function Gv(e){return e.h||(e.h=e.i())}function Hv(){}Kv.prototype.h=null;var Qv,Yv={OPEN:"a",pb:"b",Ma:"c",Bb:"d"};function $v(){pp.call(this,"d")}function Jv(){pp.call(this,"c")}function Xv(){}function Zv(e,t,n,r){this.l=e,this.j=t,this.m=n,this.U=r||1,this.S=new Cv(this),this.O=ty,e=Ip?125:void 0,this.T=new xv(e),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.V=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.Y=-1,this.I=!1,this.N=0,this.L=null,this.$=this.J=this.Z=this.P=!1,this.h=new ey}function ey(){this.i=null,this.g="",this.h=!1}sp($v,pp),sp(Jv,pp),sp(Xv,Kv),Xv.prototype.g=function(){return new XMLHttpRequest},Xv.prototype.i=function(){return{}},Qv=new Xv;var ty=45e3,ny={},ry={};function iy(e,t,n){e.K=1,e.v=xy(gy(t)),e.s=n,e.P=!0,ay(e,null)}function ay(e,t){e.F=Date.now(),cy(e),e.A=gy(e.v);var n=e.A,r=e.U;Array.isArray(r)||(r=[String(r)]),Ly(n.i,"t",r),e.C=0,n=e.l.H,e.h=new ey,e.g=Lm(e.l,n?t:null,!e.s),0<e.N&&(e.L=new Tv(op(e.Ka,e,e.g),e.N)),Av(e.S,e.g,"readystatechange",e.hb),t=e.H?Kp(e.H):{},e.s?(e.u||(e.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.da(e.A,e.u,e.s,t)):(e.u="GET",e.g.da(e.A,e.u,null,t)),Mv(1),function(e,t,n,r,i,a){e.info((function(){if(e.g)if(a)for(var o="",u=a.split("&"),s=0;s<u.length;s++){var c=u[s].split("=");if(1<c.length){var l=c[0];c=c[1];var f=l.split("_");o=2<=f.length&&"type"==f[1]?o+(l+"=")+c+"&":o+(l+"=redacted&")}}else o=null;else o=a;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+t+"\n"+n+"\n"+o}))}(e.j,e.u,e.A,e.m,e.U,e.s)}function oy(e){return!!e.g&&("GET"==e.u&&2!=e.K&&e.l.Da)}function uy(e,t,n){for(var r,i=!0;!e.I&&e.C<n.length;){if((r=sy(e,n))==ry){4==t&&(e.o=4,Vv(14),i=!1),Rv(e.j,e.m,null,"[Incomplete Response]");break}if(r==ny){e.o=4,Vv(15),Rv(e.j,e.m,n,"[Invalid Chunk]"),i=!1;break}Rv(e.j,e.m,r,null),py(e,r)}oy(e)&&r!=ry&&r!=ny&&(e.h.g="",e.C=0),4!=t||0!=n.length||e.h.h||(e.o=1,Vv(16),i=!1),e.i=e.i&&i,i?0<n.length&&!e.$&&(e.$=!0,(t=e.l).g==e&&t.$&&!t.K&&(t.j.info("Great, no buffering proxy detected. Bytes received: "+n.length),Cm(t),t.K=!0,Vv(11))):(Rv(e.j,e.m,n,"[Invalid Chunked Response]"),dy(e),hy(e))}function sy(e,t){var n=e.C,r=t.indexOf("\n",n);return-1==r?ry:(n=Number(t.substring(n,r)),isNaN(n)?ny:(r+=1)+n>t.length?ry:(t=t.substr(r,n),e.C=r+n,t))}function cy(e){e.V=Date.now()+e.O,ly(e,e.O)}function ly(e,t){if(null!=e.B)throw Error("WatchDog timer not null");e.B=Bv(op(e.fb,e),t)}function fy(e){e.B&&(Xd.clearTimeout(e.B),e.B=null)}function hy(e){0==e.l.G||e.I||Om(e.l,e)}function dy(e){fy(e);var t=e.L;t&&"function"==typeof t.na&&t.na(),e.L=null,Ev(e.T),Ov(e.S),e.g&&(t=e.g,e.g=null,t.abort(),t.na())}function py(e,t){try{var n=e.l;if(0!=n.G&&(n.g==e||zy(n.h,e)))if(!e.J&&zy(n.h,e)&&3==n.G){try{var r=n.Fa.g.parse(t)}catch(a){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!n.u){if(n.g){if(!(n.g.F+3e3<e.F))break e;Am(n),bm(n)}Tm(n),Vv(18)}}else n.Ba=i[1],0<n.Ba-n.T&&37500>i[2]&&n.L&&0==n.A&&!n.v&&(n.v=Bv(op(n.bb,n),6e3));if(1>=By(n.h)&&n.ja){try{n.ja()}catch(a){}n.ja=void 0}}else Rm(n,11)}else if((e.J||n.g==e)&&Am(n),!yp(t))for(i=n.Fa.g.parse(t),t=0;t<i.length;t++){var a=i[t];if(n.T=a[0],a=a[1],2==n.G)if("c"==a[0]){n.I=a[1],n.ka=a[2];var o=a[3];null!=o&&(n.ma=o,n.j.info("VER="+n.ma));var u=a[4];null!=u&&(n.Ca=u,n.j.info("SVER="+n.Ca));var s=a[5];null!=s&&"number"===typeof s&&0<s&&(r=1.5*s,n.J=r,n.j.info("backChannelRequestTimeoutMs_="+r)),r=n;var c=e.g;if(c){var l=c.g?c.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(l){var f=r.h;f.g||-1==l.indexOf("spdy")&&-1==l.indexOf("quic")&&-1==l.indexOf("h2")||(f.j=f.l,f.g=new Set,f.h&&(Wy(f,f.h),f.h=null))}if(r.D){var h=c.g?c.g.getResponseHeader("X-HTTP-Session-Id"):null;h&&(r.za=h,_y(r.F,r.D,h))}}n.G=3,n.l&&n.l.xa(),n.$&&(n.P=Date.now()-e.F,n.j.info("Handshake RTT: "+n.P+"ms"));var d=e;if((r=n).sa=Fm(r,r.H?r.ka:null,r.V),d.J){Ky(r.h,d);var p=d,v=r.J;v&&p.setTimeout(v),p.B&&(fy(p),cy(p)),r.g=d}else Im(r);0<n.i.length&&_m(n)}else"stop"!=a[0]&&"close"!=a[0]||Rm(n,7);else 3==n.G&&("stop"==a[0]||"close"==a[0]?"stop"==a[0]?Rm(n,7):km(n):"noop"!=a[0]&&n.l&&n.l.wa(a),n.A=0)}Mv(4)}catch(a){}}function vy(e,t){if(e.forEach&&"function"==typeof e.forEach)e.forEach(t,void 0);else if(ep(e)||"string"===typeof e)Array.prototype.forEach.call(e,t,void 0);else for(var n=function(e){if(e.oa&&"function"==typeof e.oa)return e.oa();if(!e.W||"function"!=typeof e.W){if("undefined"!==typeof Map&&e instanceof Map)return Array.from(e.keys());if(!("undefined"!==typeof Set&&e instanceof Set)){if(ep(e)||"string"===typeof e){var t=[];e=e.length;for(var n=0;n<e;n++)t.push(n);return t}for(var r in t=[],n=0,e)t[n++]=r;return t}}}(e),r=function(e){if(e.W&&"function"==typeof e.W)return e.W();if("undefined"!==typeof Map&&e instanceof Map||"undefined"!==typeof Set&&e instanceof Set)return Array.from(e.values());if("string"===typeof e)return e.split("");if(ep(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}for(r in t=[],n=0,e)t[n++]=e[r];return t}(e),i=r.length,a=0;a<i;a++)t.call(void 0,r[a],n&&n[a],e)}(Qd=Zv.prototype).setTimeout=function(e){this.O=e},Qd.hb=function(e){e=e.target;var t=this.L;t&&3==dm(e)?t.l():this.Ka(e)},Qd.Ka=function(e){try{if(e==this.g)e:{var t=dm(this.g),n=this.g.Ea(),r=this.g.aa();if(!(3>t)&&(3!=t||Ip||this.g&&(this.h.h||this.g.fa()||pm(this.g)))){this.I||4!=t||7==n||Mv(8==n||0>=r?3:2),fy(this);var i=this.g.aa();this.Y=i;t:if(oy(this)){var a=pm(this.g);e="";var o=a.length,u=4==dm(this.g);if(!this.h.i){if("undefined"===typeof TextDecoder){dy(this),hy(this);var s="";break t}this.h.i=new Xd.TextDecoder}for(n=0;n<o;n++)this.h.h=!0,e+=this.h.i.decode(a[n],{stream:u&&n==o-1});a.splice(0,o),this.h.g+=e,this.C=0,s=this.h.g}else s=this.g.fa();if(this.i=200==i,function(e,t,n,r,i,a,o){e.info((function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+t+"\n"+n+"\n"+a+" "+o}))}(this.j,this.u,this.A,this.m,this.U,t,i),this.i){if(this.Z&&!this.J){t:{if(this.g){var c,l=this.g;if((c=l.g?l.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!yp(c)){var f=c;break t}}f=null}if(!(i=f)){this.i=!1,this.o=3,Vv(12),dy(this),hy(this);break e}Rv(this.j,this.m,i,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,py(this,i)}this.P?(uy(this,t,s),Ip&&this.i&&3==t&&(Av(this.S,this.T,"tick",this.gb),this.T.start())):(Rv(this.j,this.m,s,null),py(this,s)),4==t&&dy(this),this.i&&!this.I&&(4==t?Om(this.l,this):(this.i=!1,cy(this)))}else 400==i&&0<s.indexOf("Unknown SID")?(this.o=3,Vv(12)):(this.o=0,Vv(13)),dy(this),hy(this)}}}catch(t){}},Qd.gb=function(){if(this.g){var e=dm(this.g),t=this.g.fa();this.C<t.length&&(fy(this),uy(this,e,t),this.i&&4!=e&&cy(this))}},Qd.cancel=function(){this.I=!0,dy(this)},Qd.fb=function(){this.B=null;var e=Date.now();0<=e-this.V?(function(e,t){e.info((function(){return"TIMEOUT: "+t}))}(this.j,this.A),2!=this.K&&(Mv(3),Vv(17)),dy(this),this.o=2,hy(this)):ly(this,this.V-e)};var yy=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function my(e,t){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,e instanceof my){this.h=void 0!==t?t:e.h,ky(this,e.j),this.s=e.s,this.g=e.g,by(this,e.m),this.l=e.l,t=e.i;var n=new Py;n.i=t.i,t.g&&(n.g=new Map(t.g),n.h=t.h),wy(this,n),this.o=e.o}else e&&(n=String(e).match(yy))?(this.h=!!t,ky(this,n[1]||"",!0),this.s=Ey(n[2]||""),this.g=Ey(n[3]||"",!0),by(this,n[4]),this.l=Ey(n[5]||"",!0),wy(this,n[6]||"",!0),this.o=Ey(n[7]||"")):(this.h=!!t,this.i=new Py(null,this.h))}function gy(e){return new my(e)}function ky(e,t,n){e.j=n?Ey(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function by(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.m=t}else e.m=null}function wy(e,t,n){t instanceof Py?(e.i=t,function(e,t){t&&!e.j&&(Ry(e),e.i=null,e.g.forEach((function(e,t){var n=t.toLowerCase();t!=n&&(Dy(this,t),Ly(this,n,e))}),e)),e.j=t}(e.i,e.h)):(n||(t=Sy(t,Ay)),e.i=new Py(t,e.h))}function _y(e,t,n){e.i.set(t,n)}function xy(e){return _y(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function Ey(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function Sy(e,t,n){return"string"===typeof e?(e=encodeURI(e).replace(t,Iy),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function Iy(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}my.prototype.toString=function(){var e=[],t=this.j;t&&e.push(Sy(t,Ty,!0),":");var n=this.g;return(n||"file"==t)&&(e.push("//"),(t=this.s)&&e.push(Sy(t,Ty,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.m)&&e.push(":",String(n))),(n=this.l)&&(this.g&&"/"!=n.charAt(0)&&e.push("/"),e.push(Sy(n,"/"==n.charAt(0)?Ny:Cy,!0))),(n=this.i.toString())&&e.push("?",n),(n=this.o)&&e.push("#",Sy(n,Oy)),e.join("")};var Ty=/[#\/\?@]/g,Cy=/[#\?:]/g,Ny=/[#\?]/g,Ay=/[#\?@]/g,Oy=/#/g;function Py(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function Ry(e){e.g||(e.g=new Map,e.h=0,e.i&&function(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),i=null;if(0<=r){var a=e[n].substring(0,r);i=e[n].substring(r+1)}else a=e[n];t(a,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(e.i,(function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)})))}function Dy(e,t){Ry(e),t=jy(e,t),e.g.has(t)&&(e.i=null,e.h-=e.g.get(t).length,e.g.delete(t))}function Fy(e,t){return Ry(e),t=jy(e,t),e.g.has(t)}function Ly(e,t,n){Dy(e,t),0<n.length&&(e.i=null,e.g.set(jy(e,t),hp(n)),e.h+=n.length)}function jy(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}(Qd=Py.prototype).add=function(e,t){Ry(this),this.i=null,e=jy(this,e);var n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this},Qd.forEach=function(e,t){Ry(this),this.g.forEach((function(n,r){n.forEach((function(n){e.call(t,n,r,this)}),this)}),this)},Qd.oa=function(){Ry(this);for(var e=Array.from(this.g.values()),t=Array.from(this.g.keys()),n=[],r=0;r<t.length;r++)for(var i=e[r],a=0;a<i.length;a++)n.push(t[r]);return n},Qd.W=function(e){Ry(this);var t=[];if("string"===typeof e)Fy(this,e)&&(t=t.concat(this.g.get(jy(this,e))));else{e=Array.from(this.g.values());for(var n=0;n<e.length;n++)t=t.concat(e[n])}return t},Qd.set=function(e,t){return Ry(this),this.i=null,Fy(this,e=jy(this,e))&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this},Qd.get=function(e,t){return e&&0<(e=this.W(e)).length?String(e[0]):t},Qd.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var e=[],t=Array.from(this.g.keys()),n=0;n<t.length;n++){var r=t[n],i=encodeURIComponent(String(r)),a=this.W(r);for(r=0;r<a.length;r++){var o=i;""!==a[r]&&(o+="="+encodeURIComponent(String(a[r]))),e.push(o)}}return this.i=e.join("&")};var My=v((function e(t,n){d(this,e),this.h=t,this.g=n}));function Uy(e){this.l=e||Vy,Xd.PerformanceNavigationTiming?e=0<(e=Xd.performance.getEntriesByType("navigation")).length&&("hq"==e[0].nextHopProtocol||"h2"==e[0].nextHopProtocol):e=!!(Xd.g&&Xd.g.Ga&&Xd.g.Ga()&&Xd.g.Ga().Zb),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var Vy=10;function qy(e){return!!e.h||!!e.g&&e.g.size>=e.j}function By(e){return e.h?1:e.g?e.g.size:0}function zy(e,t){return e.h?e.h==t:!!e.g&&e.g.has(t)}function Wy(e,t){e.g?e.g.add(t):e.h=t}function Ky(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}function Gy(e){if(null!=e.h)return e.i.concat(e.h.D);if(null!=e.g&&0!==e.g.size){var t,n=e.i,r=ka(e.g.values());try{for(r.s();!(t=r.n()).done;){var i=t.value;n=n.concat(i.D)}}catch(a){r.e(a)}finally{r.f()}return n}return hp(e.i)}function Hy(){}function Qy(){this.g=new Hy}function Yy(e,t,n){var r=n||"";try{vy(e,(function(e,n){var i=e;tp(e)&&(i=hv(e)),t.push(r+n+"="+encodeURIComponent(i))}))}catch(i){throw t.push(r+"type="+encodeURIComponent("_badmap")),i}}function $y(e,t,n,r,i){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,i(r)}catch(HV){}}function Jy(e){this.l=e.$b||null,this.j=e.ib||!1}function Xy(e,t){cv.call(this),this.D=e,this.u=t,this.m=void 0,this.readyState=Zy,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Uy.prototype.cancel=function(){if(this.i=Gy(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){var e,t=ka(this.g.values());try{for(t.s();!(e=t.n()).done;){e.value.cancel()}}catch(n){t.e(n)}finally{t.f()}this.g.clear()}},Hy.prototype.stringify=function(e){return Xd.JSON.stringify(e,void 0)},Hy.prototype.parse=function(e){return Xd.JSON.parse(e,void 0)},sp(Jy,Kv),Jy.prototype.g=function(){return new Xy(this.l,this.j)},Jy.prototype.i=function(e){return function(){return e}}({}),sp(Xy,cv);var Zy=0;function em(e){e.j.read().then(e.Sa.bind(e)).catch(e.ga.bind(e))}function tm(e){e.readyState=4,e.l=null,e.j=null,e.A=null,nm(e)}function nm(e){e.onreadystatechange&&e.onreadystatechange.call(e)}(Qd=Xy.prototype).open=function(e,t){if(this.readyState!=Zy)throw this.abort(),Error("Error reopening a connection");this.C=e,this.B=t,this.readyState=1,nm(this)},Qd.send=function(e){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;var t={headers:this.v,method:this.C,credentials:this.m,cache:void 0};e&&(t.body=e),(this.D||Xd).fetch(new Request(this.B,t)).then(this.Va.bind(this),this.ga.bind(this))},Qd.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch((function(){})),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,tm(this)),this.readyState=Zy},Qd.Va=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,nm(this)),this.g&&(this.readyState=3,nm(this),this.g)))if("arraybuffer"===this.responseType)e.arrayBuffer().then(this.Ta.bind(this),this.ga.bind(this));else if("undefined"!==typeof Xd.ReadableStream&&"body"in e){if(this.j=e.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;em(this)}else e.text().then(this.Ua.bind(this),this.ga.bind(this))},Qd.Sa=function(e){if(this.g){if(this.u&&e.value)this.response.push(e.value);else if(!this.u){var t=e.value?e.value:new Uint8Array(0);(t=this.A.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?tm(this):nm(this),3==this.readyState&&em(this)}},Qd.Ua=function(e){this.g&&(this.response=this.responseText=e,tm(this))},Qd.Ta=function(e){this.g&&(this.response=e,tm(this))},Qd.ga=function(){this.g&&tm(this)},Qd.setRequestHeader=function(e,t){this.v.append(e,t)},Qd.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""},Qd.getAllResponseHeaders=function(){if(!this.h)return"";for(var e=[],t=this.h.entries(),n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join("\r\n")},Object.defineProperty(Xy.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(e){this.m=e?"include":"same-origin"}});var rm=Xd.JSON.parse;function im(e){cv.call(this),this.headers=new Map,this.u=e||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=am,this.K=this.L=!1}sp(im,cv);var am="",om=/^https?$/i,um=["POST","PUT"];function sm(e,t){e.h=!1,e.g&&(e.l=!0,e.g.abort(),e.l=!1),e.j=t,e.m=5,cm(e),fm(e)}function cm(e){e.D||(e.D=!0,lv(e,"complete"),lv(e,"error"))}function lm(e){if(e.h&&"undefined"!=typeof Jd&&(!e.C[1]||4!=dm(e)||2!=e.aa()))if(e.v&&4==dm(e))Sv(e.Ha,0,e);else if(lv(e,"readystatechange"),4==dm(e)){e.h=!1;try{var t,n=e.aa();e:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var r=!0;break e;default:r=!1}if(!(t=r)){var i;if(i=0===n){var a=String(e.H).match(yy)[1]||null;if(!a&&Xd.self&&Xd.self.location){var o=Xd.self.location.protocol;a=o.substr(0,o.length-1)}i=!om.test(a?a.toLowerCase():"")}t=i}if(t)lv(e,"complete"),lv(e,"success");else{e.m=6;try{var u=2<dm(e)?e.g.statusText:""}catch(KV){u=""}e.j=u+" ["+e.aa()+"]",cm(e)}}finally{fm(e)}}}function fm(e,t){if(e.g){hm(e);var n=e.g,r=e.C[0]?Zd:null;e.g=null,e.C=null,t||lv(e,"ready");try{n.onreadystatechange=r}catch(i){}}}function hm(e){e.g&&e.K&&(e.g.ontimeout=null),e.A&&(Xd.clearTimeout(e.A),e.A=null)}function dm(e){return e.g?e.g.readyState:0}function pm(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.J){case am:case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch(Zm){return null}}function vm(e){var t="";return Wp(e,(function(e,n){t+=n,t+=":",t+=e,t+="\r\n"})),t}function ym(e,t,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=vm(n),"string"===typeof e?null!=n&&encodeURIComponent(String(n)):_y(e,t,n))}function mm(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function gm(e){this.Ca=0,this.i=[],this.j=new Pv,this.ka=this.sa=this.F=this.V=this.g=this.za=this.D=this.ia=this.o=this.S=this.s=null,this.$a=this.U=0,this.Ya=mm("failFast",!1,e),this.L=this.v=this.u=this.m=this.l=null,this.Y=!0,this.pa=this.Ba=this.T=-1,this.Z=this.A=this.C=0,this.Wa=mm("baseRetryDelayMs",5e3,e),this.ab=mm("retryDelaySeedMs",1e4,e),this.Za=mm("forwardChannelMaxRetries",2,e),this.ta=mm("forwardChannelRequestTimeoutMs",2e4,e),this.ra=e&&e.xmlHttpFactory||void 0,this.Da=e&&e.Yb||!1,this.J=void 0,this.H=e&&e.supportsCrossDomainXhr||!1,this.I="",this.h=new Uy(e&&e.concurrentRequestLimit),this.Fa=new Qy,this.O=e&&e.fastHandshake||!1,this.N=e&&e.encodeInitMessageHeaders||!1,this.O&&this.N&&(this.N=!1),this.Xa=e&&e.Wb||!1,e&&e.Aa&&this.j.Aa(),e&&e.forceLongPolling&&(this.Y=!1),this.$=!this.O&&this.Y&&e&&e.detectBufferingProxy||!1,this.ja=void 0,this.P=0,this.K=!1,this.la=this.B=null}function km(e){if(wm(e),3==e.G){var t=e.U++,n=gy(e.F);_y(n,"SID",e.I),_y(n,"RID",t),_y(n,"TYPE","terminate"),Em(e,n),(t=new Zv(e,e.j,t,void 0)).K=2,t.v=xy(gy(n)),n=!1,Xd.navigator&&Xd.navigator.sendBeacon&&(n=Xd.navigator.sendBeacon(t.v.toString(),"")),!n&&Xd.Image&&((new Image).src=t.v,n=!0),n||(t.g=Lm(t.l,null),t.g.da(t.v)),t.F=Date.now(),cy(t)}Dm(e)}function bm(e){e.g&&(Cm(e),e.g.cancel(),e.g=null)}function wm(e){bm(e),e.u&&(Xd.clearTimeout(e.u),e.u=null),Am(e),e.h.cancel(),e.m&&("number"===typeof e.m&&Xd.clearTimeout(e.m),e.m=null)}function _m(e){qy(e.h)||e.m||(e.m=!0,kv(e.Ja,e),e.C=0)}function xm(e,t){var n;n=t?t.m:e.U++;var r=gy(e.F);_y(r,"SID",e.I),_y(r,"RID",n),_y(r,"AID",e.T),Em(e,r),e.o&&e.s&&ym(r,e.o,e.s),n=new Zv(e,e.j,n,e.C+1),null===e.o&&(n.H=e.s),t&&(e.i=t.D.concat(e.i)),t=Sm(e,n,1e3),n.setTimeout(Math.round(.5*e.ta)+Math.round(.5*e.ta*Math.random())),Wy(e.h,n),iy(n,r,t)}function Em(e,t){e.ia&&Wp(e.ia,(function(e,n){_y(t,n,e)})),e.l&&vy({},(function(e,n){_y(t,n,e)}))}function Sm(e,t,n){n=Math.min(e.i.length,n);var r=e.l?op(e.l.Qa,e.l,e):null;e:for(var i=e.i,a=-1;;){var o=["count="+n];-1==a?0<n?(a=i[0].h,o.push("ofs="+a)):a=0:o.push("ofs="+a);for(var u=!0,s=0;s<n;s++){var c=i[s].h,l=i[s].g;if(0>(c-=a))a=Math.max(0,i[s].h-100),u=!1;else try{Yy(l,o,"req"+c+"_")}catch(cg){r&&r(l)}}if(u){r=o.join("&");break e}}return e=e.i.splice(0,n),t.D=e,r}function Im(e){e.g||e.u||(e.Z=1,kv(e.Ia,e),e.A=0)}function Tm(e){return!(e.g||e.u||3<=e.A)&&(e.Z++,e.u=Bv(op(e.Ia,e),Pm(e,e.A)),e.A++,!0)}function Cm(e){null!=e.B&&(Xd.clearTimeout(e.B),e.B=null)}function Nm(e){e.g=new Zv(e,e.j,"rpc",e.Z),null===e.o&&(e.g.H=e.s),e.g.N=0;var t=gy(e.sa);_y(t,"RID","rpc"),_y(t,"SID",e.I),_y(t,"CI",e.L?"0":"1"),_y(t,"AID",e.T),_y(t,"TYPE","xmlhttp"),Em(e,t),e.o&&e.s&&ym(t,e.o,e.s),e.J&&e.g.setTimeout(e.J);var n=e.g;e=e.ka,n.K=1,n.v=xy(gy(t)),n.s=null,n.P=!0,ay(n,e)}function Am(e){null!=e.v&&(Xd.clearTimeout(e.v),e.v=null)}function Om(e,t){var n=null;if(e.g==t){Am(e),Cm(e),e.g=null;var r=2}else{if(!zy(e.h,t))return;n=t.D,Ky(e.h,t),r=1}if(0!=e.G)if(e.pa=t.Y,t.i)if(1==r){n=t.s?t.s.length:0,t=Date.now()-t.F;var i=e.C;lv(r=Lv(),new qv(r,n,t,i)),_m(e)}else Im(e);else if(3==(i=t.o)||0==i&&0<e.pa||!(1==r&&function(e,t){return!(By(e.h)>=e.h.j-(e.m?1:0))&&(e.m?(e.i=t.D.concat(e.i),!0):!(1==e.G||2==e.G||e.C>=(e.Ya?0:e.Za))&&(e.m=Bv(op(e.Ja,e,t),Pm(e,e.C)),e.C++,!0))}(e,t)||2==r&&Tm(e)))switch(n&&0<n.length&&(t=e.h,t.i=t.i.concat(n)),i){case 1:Rm(e,5);break;case 4:Rm(e,10);break;case 3:Rm(e,6);break;default:Rm(e,2)}}function Pm(e,t){var n=e.Wa+Math.floor(Math.random()*e.ab);return e.l||(n*=2),n*t}function Rm(e,t){if(e.j.info("Error code "+t),2==t){var n=null;e.l&&(n=null);var r=op(e.jb,e);n||(n=new my("//www.google.com/images/cleardot.gif"),Xd.location&&"http"==Xd.location.protocol||ky(n,"https"),xy(n)),function(e,t){var n=new Pv;if(Xd.Image){var r=new Image;r.onload=up($y,n,r,"TestLoadImage: loaded",!0,t),r.onerror=up($y,n,r,"TestLoadImage: error",!1,t),r.onabort=up($y,n,r,"TestLoadImage: abort",!1,t),r.ontimeout=up($y,n,r,"TestLoadImage: timeout",!1,t),Xd.setTimeout((function(){r.ontimeout&&r.ontimeout()}),1e4),r.src=e}else t(!1)}(n.toString(),r)}else Vv(2);e.G=0,e.l&&e.l.va(t),Dm(e),wm(e)}function Dm(e){if(e.G=0,e.la=[],e.l){var t=Gy(e.h);0==t.length&&0==e.i.length||(dp(e.la,t),dp(e.la,e.i),e.h.i.length=0,hp(e.i),e.i.length=0),e.l.ua()}}function Fm(e,t,n){var r=n instanceof my?gy(n):new my(n,void 0);if(""!=r.g)t&&(r.g=t+"."+r.g),by(r,r.m);else{var i=Xd.location;r=i.protocol,t=t?t+"."+i.hostname:i.hostname,i=+i.port;var a=new my(null,void 0);r&&ky(a,r),t&&(a.g=t),i&&by(a,i),n&&(a.l=n),r=a}return n=e.D,t=e.za,n&&t&&_y(r,n,t),_y(r,"VER",e.ma),Em(e,r),r}function Lm(e,t,n){if(t&&!e.H)throw Error("Can't create secondary domain capable XhrIo object.");return(t=n&&e.Da&&!e.ra?new im(new Jy({ib:!0})):new im(e.ra)).L=e.H,t}function jm(){}function Mm(){if(Ep&&!(10<=Number(jp)))throw Error("Environmental error: no available transport.")}function Um(e,t){cv.call(this),this.g=new gm(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.s=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.ya&&(e?e["X-WebChannel-Client-Profile"]=t.ya:e={"X-WebChannel-Client-Profile":t.ya}),this.g.S=e,(e=t&&t.Xb)&&!yp(e)&&(this.g.o=e),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!yp(t)&&(this.g.D=t,null!==(e=this.h)&&t in e&&(t in(e=this.h)&&delete e[t])),this.j=new Bm(this)}function Vm(e){$v.call(this);var t=e.__sm__;if(t){e:{for(var n in t){e=n;break e}e=void 0}(this.i=e)&&(e=this.i,t=null!==t&&e in t?t[e]:void 0),this.data=t}else this.data=e}function qm(){Jv.call(this),this.status=1}function Bm(e){this.g=e}(Qd=im.prototype).da=function(e,t,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+e);t=t?t.toUpperCase():"GET",this.H=e,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():Qv.g(),this.C=this.u?Gv(this.u):Gv(Qv),this.g.onreadystatechange=op(this.Ha,this);try{this.F=!0,this.g.open(t,String(e),!0),this.F=!1}catch(u){return void sm(this,u)}if(e=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)n.set(i,r[i]);else{if("function"!==typeof r.keys||"function"!==typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));var a,o=ka(r.keys());try{for(o.s();!(a=o.n()).done;){var u=a.value;n.set(u,r.get(u))}}catch(p){o.e(p)}finally{o.f()}}r=Array.from(n.keys()).find((function(e){return"content-type"==e.toLowerCase()})),i=Xd.FormData&&e instanceof Xd.FormData,!(0<=fp(um,t))||r||i||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");var s,c=ka(n);try{for(c.s();!(s=c.n()).done;){var f=l(s.value,2),h=f[0],d=f[1];this.g.setRequestHeader(h,d)}}catch(p){c.e(p)}finally{c.f()}this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{hm(this),0<this.B&&((this.K=function(e){return Ep&&Fp()&&"number"===typeof e.timeout&&void 0!==e.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=op(this.qa,this)):this.A=Sv(this.qa,this.B,this)),this.v=!0,this.g.send(e),this.v=!1}catch(u){sm(this,u)}},Qd.qa=function(){"undefined"!=typeof Jd&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,lv(this,"timeout"),this.abort(8))},Qd.abort=function(e){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=e||7,lv(this,"complete"),lv(this,"abort"),fm(this))},Qd.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),fm(this,!0)),im.X.M.call(this)},Qd.Ha=function(){this.s||(this.F||this.v||this.l?lm(this):this.eb())},Qd.eb=function(){lm(this)},Qd.aa=function(){try{return 2<dm(this)?this.g.status:-1}catch(GV){return-1}},Qd.fa=function(){try{return this.g?this.g.responseText:""}catch(GV){return""}},Qd.Ra=function(e){if(this.g){var t=this.g.responseText;return e&&0==t.indexOf(e)&&(t=t.substring(e.length)),rm(t)}},Qd.Ea=function(){return this.m},Qd.Na=function(){return"string"===typeof this.j?this.j:String(this.j)},(Qd=gm.prototype).ma=8,Qd.G=1,Qd.Ja=function(e){if(this.m)if(this.m=null,1==this.G){if(!e){this.U=Math.floor(1e5*Math.random()),e=this.U++;var t=new Zv(this,this.j,e,void 0),n=this.s;if(this.S&&(n?Hp(n=Kp(n),this.S):n=this.S),null!==this.o||this.N||(t.H=n,n=null),this.O)e:{for(var r=0,i=0;i<this.i.length;i++){var a=this.i[i];if(void 0===(a="__data__"in a.g&&"string"===typeof(a=a.g.__data__)?a.length:void 0))break;if(4096<(r+=a)){r=i;break e}if(4096===r||i===this.i.length-1){r=i+1;break e}}r=1e3}else r=1e3;r=Sm(this,t,r),_y(i=gy(this.F),"RID",e),_y(i,"CVER",22),this.D&&_y(i,"X-HTTP-Session-Id",this.D),Em(this,i),n&&(this.N?r="headers="+encodeURIComponent(String(vm(n)))+"&"+r:this.o&&ym(i,this.o,n)),Wy(this.h,t),this.Xa&&_y(i,"TYPE","init"),this.O?(_y(i,"$req",r),_y(i,"SID","null"),t.Z=!0,iy(t,i,null)):iy(t,i,r),this.G=2}}else 3==this.G&&(e?xm(this,e):0==this.i.length||qy(this.h)||xm(this))},Qd.Ia=function(){if(this.u=null,Nm(this),this.$&&!(this.K||null==this.g||0>=this.P)){var e=2*this.P;this.j.info("BP detection timer enabled: "+e),this.B=Bv(op(this.cb,this),e)}},Qd.cb=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.L=!1,this.K=!0,Vv(10),bm(this),Nm(this))},Qd.bb=function(){null!=this.v&&(this.v=null,bm(this),Tm(this),Vv(19))},Qd.jb=function(e){e?(this.j.info("Successfully pinged google.com"),Vv(2)):(this.j.info("Failed to ping google.com"),Vv(1))},(Qd=jm.prototype).xa=function(){},Qd.wa=function(){},Qd.va=function(){},Qd.ua=function(){},Qd.Qa=function(){},Mm.prototype.g=function(e,t){return new Um(e,t)},sp(Um,cv),Um.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.H=!0);var e=this.g,t=this.l,n=this.h||void 0;Vv(0),e.V=t,e.ia=n||{},e.L=e.Y,e.F=Fm(e,null,e.V),_m(e)},Um.prototype.close=function(){km(this.g)},Um.prototype.u=function(e){var t=this.g;if("string"===typeof e){var n={};n.__data__=e,e=n}else this.v&&((n={}).__data__=hv(e),e=n);t.i.push(new My(t.$a++,e)),3==t.G&&_m(t)},Um.prototype.M=function(){this.g.l=null,delete this.j,km(this.g),delete this.g,Um.X.M.call(this)},sp(Vm,$v),sp(qm,Jv),sp(Bm,jm),Bm.prototype.xa=function(){lv(this.g,"a")},Bm.prototype.wa=function(e){lv(this.g,new Vm(e))},Bm.prototype.va=function(e){lv(this.g,new qm(e))},Bm.prototype.ua=function(){lv(this.g,"b")},Mm.prototype.createWebChannel=Mm.prototype.g,Um.prototype.send=Um.prototype.u,Um.prototype.open=Um.prototype.m,Um.prototype.close=Um.prototype.close,zv.NO_ERROR=0,zv.TIMEOUT=8,zv.HTTP_ERROR=6,Wv.COMPLETE="complete",Hv.EventType=Yv,Yv.OPEN="a",Yv.CLOSE="b",Yv.ERROR="c",Yv.MESSAGE="d",cv.prototype.listen=cv.prototype.N,im.prototype.listenOnce=im.prototype.O,im.prototype.getLastError=im.prototype.Na,im.prototype.getLastErrorCode=im.prototype.Ea,im.prototype.getStatus=im.prototype.aa,im.prototype.getResponseJson=im.prototype.Ra,im.prototype.getResponseText=im.prototype.fa,im.prototype.send=im.prototype.da;var zm=$d.createWebChannelTransport=function(){return new Mm},Wm=$d.getStatEventTarget=function(){return Lv()},Km=$d.ErrorCode=zv,Gm=$d.EventType=Wv,Hm=$d.Event=Dv,Qm=$d.Stat={rb:0,ub:1,vb:2,Ob:3,Tb:4,Qb:5,Rb:6,Pb:7,Nb:8,Sb:9,PROXY:10,NOPROXY:11,Lb:12,Hb:13,Ib:14,Gb:15,Jb:16,Kb:17,nb:18,mb:19,ob:20},Ym=$d.FetchXmlHttpFactory=Jy,$m=$d.WebChannel=Hv,Jm=$d.XhrIo=im,Xm="@firebase/firestore",Zm=function(){function e(t){d(this,e),this.uid=t}return v(e,[{key:"isAuthenticated",value:function(){return null!=this.uid}},{key:"toKey",value:function(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}},{key:"isEqual",value:function(e){return e.uid===this.uid}}]),e}();Zm.UNAUTHENTICATED=new Zm(null),Zm.GOOGLE_CREDENTIALS=new Zm("google-credentials-uid"),Zm.FIRST_PARTY=new Zm("first-party-uid"),Zm.MOCK_USER=new Zm("mock-user");var eg="9.10.0",tg=new Io("@firebase/firestore");function ng(){return tg.logLevel}function rg(e){if(tg.logLevel<=ko.DEBUG){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map(og);tg.debug.apply(tg,["Firestore (".concat(eg,"): ").concat(e)].concat(h(i)))}}function ig(e){if(tg.logLevel<=ko.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map(og);tg.error.apply(tg,["Firestore (".concat(eg,"): ").concat(e)].concat(h(i)))}}function ag(e){if(tg.logLevel<=ko.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map(og);tg.warn.apply(tg,["Firestore (".concat(eg,"): ").concat(e)].concat(h(i)))}}function og(e){if("string"==typeof e)return e;try{return t=e,JSON.stringify(t)}catch(t){return e}var t}function ug(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Unexpected state",t="FIRESTORE (".concat(eg,") INTERNAL ASSERTION FAILED: ")+e;throw ig(t),new Error(t)}function sg(e,t){e||ug()}function cg(e,t){return e}var lg={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},fg=function(e){m(n,e);var t=x(n);function n(e,r){var i;return d(this,n),(i=t.call(this,e,r)).code=e,i.message=r,i.toString=function(){return"".concat(i.name,": [code=").concat(i.code,"]: ").concat(i.message)},i}return v(n)}(Ba),hg=v((function e(){var t=this;d(this,e),this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))})),dg=v((function e(t,n){d(this,e),this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization","Bearer ".concat(t))})),pg=function(){function e(){d(this,e)}return v(e,[{key:"getToken",value:function(){return Promise.resolve(null)}},{key:"invalidateToken",value:function(){}},{key:"start",value:function(e,t){e.enqueueRetryable((function(){return t(Zm.UNAUTHENTICATED)}))}},{key:"shutdown",value:function(){}}]),e}(),vg=function(){function e(t){d(this,e),this.token=t,this.changeListener=null}return v(e,[{key:"getToken",value:function(){return Promise.resolve(this.token)}},{key:"invalidateToken",value:function(){}},{key:"start",value:function(e,t){var n=this;this.changeListener=t,e.enqueueRetryable((function(){return t(n.token.user)}))}},{key:"shutdown",value:function(){this.changeListener=null}}]),e}(),yg=function(){function e(t){d(this,e),this.t=t,this.currentUser=Zm.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}return v(e,[{key:"start",value:function(e,t){var n=this,r=this.i,i=function(e){return n.i!==r?(r=n.i,t(e)):Promise.resolve()},a=new hg;this.o=function(){n.i++,n.currentUser=n.u(),a.resolve(),a=new hg,e.enqueueRetryable((function(){return i(n.currentUser)}))};var o=function(){var t=a;e.enqueueRetryable(He(Ke().mark((function e(){return Ke().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.promise;case 2:return e.next=4,i(n.currentUser);case 4:case"end":return e.stop()}}),e)}))))},u=function(e){rg("FirebaseAuthCredentialsProvider","Auth detected"),n.auth=e,n.auth.addAuthTokenListener(n.o),o()};this.t.onInit((function(e){return u(e)})),setTimeout((function(){if(!n.auth){var e=n.t.getImmediate({optional:!0});e?u(e):(rg("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new hg)}}),0),o()}},{key:"getToken",value:function(){var e=this,t=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((function(n){return e.i!==t?(rg("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),e.getToken()):n?(sg("string"==typeof n.accessToken),new dg(n.accessToken,e.currentUser)):null})):Promise.resolve(null)}},{key:"invalidateToken",value:function(){this.forceRefresh=!0}},{key:"shutdown",value:function(){this.auth&&this.auth.removeAuthTokenListener(this.o)}},{key:"u",value:function(){var e=this.auth&&this.auth.getUid();return sg(null===e||"string"==typeof e),new Zm(e)}}]),e}(),mg=function(){function e(t,n,r,i){d(this,e),this.h=t,this.l=n,this.m=r,this.g=i,this.type="FirstParty",this.user=Zm.FIRST_PARTY,this.p=new Map}return v(e,[{key:"I",value:function(){return this.g?this.g():(sg(!("object"!=typeof this.h||null===this.h||!this.h.auth||!this.h.auth.getAuthHeaderValueForFirstParty)),this.h.auth.getAuthHeaderValueForFirstParty([]))}},{key:"headers",get:function(){this.p.set("X-Goog-AuthUser",this.l);var e=this.I();return e&&this.p.set("Authorization",e),this.m&&this.p.set("X-Goog-Iam-Authorization-Token",this.m),this.p}}]),e}(),gg=function(){function e(t,n,r,i){d(this,e),this.h=t,this.l=n,this.m=r,this.g=i}return v(e,[{key:"getToken",value:function(){return Promise.resolve(new mg(this.h,this.l,this.m,this.g))}},{key:"start",value:function(e,t){e.enqueueRetryable((function(){return t(Zm.FIRST_PARTY)}))}},{key:"shutdown",value:function(){}},{key:"invalidateToken",value:function(){}}]),e}(),kg=v((function e(t){d(this,e),this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)})),bg=function(){function e(t){d(this,e),this.T=t,this.forceRefresh=!1,this.appCheck=null,this.A=null}return v(e,[{key:"start",value:function(e,t){var n=this,r=function(e){null!=e.error&&rg("FirebaseAppCheckTokenProvider","Error getting App Check token; using placeholder token instead. Error: ".concat(e.error.message));var r=e.token!==n.A;return n.A=e.token,rg("FirebaseAppCheckTokenProvider","Received ".concat(r?"new":"existing"," token.")),r?t(e.token):Promise.resolve()};this.o=function(t){e.enqueueRetryable((function(){return r(t)}))};var i=function(e){rg("FirebaseAppCheckTokenProvider","AppCheck detected"),n.appCheck=e,n.appCheck.addTokenListener(n.o)};this.T.onInit((function(e){return i(e)})),setTimeout((function(){if(!n.appCheck){var e=n.T.getImmediate({optional:!0});e?i(e):rg("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}},{key:"getToken",value:function(){var e=this,t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then((function(t){return t?(sg("string"==typeof t.token),e.A=t.token,new kg(t.token)):null})):Promise.resolve(null)}},{key:"invalidateToken",value:function(){this.forceRefresh=!0}},{key:"shutdown",value:function(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}]),e}();function wg(e){var t="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(n);else for(var r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}var _g=function(){function e(){d(this,e)}return v(e,null,[{key:"R",value:function(){for(var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length,n="";n.length<20;)for(var r=wg(40),i=0;i<r.length;++i)n.length<20&&r[i]<t&&(n+=e.charAt(r[i]%e.length));return n}}]),e}();function xg(e,t){return e<t?-1:e>t?1:0}function Eg(e,t,n){return e.length===t.length&&e.every((function(e,r){return n(e,t[r])}))}function Sg(e){return e+"\0"}var Ig=function(){function e(t,n){if(d(this,e),this.seconds=t,this.nanoseconds=n,n<0)throw new fg(lg.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new fg(lg.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(t<-62135596800)throw new fg(lg.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new fg(lg.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}return v(e,[{key:"toDate",value:function(){return new Date(this.toMillis())}},{key:"toMillis",value:function(){return 1e3*this.seconds+this.nanoseconds/1e6}},{key:"_compareTo",value:function(e){return this.seconds===e.seconds?xg(this.nanoseconds,e.nanoseconds):xg(this.seconds,e.seconds)}},{key:"isEqual",value:function(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}},{key:"toString",value:function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}},{key:"toJSON",value:function(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}},{key:"valueOf",value:function(){var e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}],[{key:"now",value:function(){return e.fromMillis(Date.now())}},{key:"fromDate",value:function(t){return e.fromMillis(t.getTime())}},{key:"fromMillis",value:function(t){var n=Math.floor(t/1e3);return new e(n,Math.floor(1e6*(t-1e3*n)))}}]),e}(),Tg=function(){function e(t){d(this,e),this.timestamp=t}return v(e,[{key:"compareTo",value:function(e){return this.timestamp._compareTo(e.timestamp)}},{key:"isEqual",value:function(e){return this.timestamp.isEqual(e.timestamp)}},{key:"toMicroseconds",value:function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}},{key:"toString",value:function(){return"SnapshotVersion("+this.timestamp.toString()+")"}},{key:"toTimestamp",value:function(){return this.timestamp}}],[{key:"fromTimestamp",value:function(t){return new e(t)}},{key:"min",value:function(){return new e(new Ig(0,0))}},{key:"max",value:function(){return new e(new Ig(253402300799,999999999))}}]),e}(),Cg=function(){function e(t,n,r){d(this,e),void 0===n?n=0:n>t.length&&ug(),void 0===r?r=t.length-n:r>t.length-n&&ug(),this.segments=t,this.offset=n,this.len=r}return v(e,[{key:"length",get:function(){return this.len}},{key:"isEqual",value:function(t){return 0===e.comparator(this,t)}},{key:"child",value:function(t){var n=this.segments.slice(this.offset,this.limit());return t instanceof e?t.forEach((function(e){n.push(e)})):n.push(t),this.construct(n)}},{key:"limit",value:function(){return this.offset+this.length}},{key:"popFirst",value:function(e){return e=void 0===e?1:e,this.construct(this.segments,this.offset+e,this.length-e)}},{key:"popLast",value:function(){return this.construct(this.segments,this.offset,this.length-1)}},{key:"firstSegment",value:function(){return this.segments[this.offset]}},{key:"lastSegment",value:function(){return this.get(this.length-1)}},{key:"get",value:function(e){return this.segments[this.offset+e]}},{key:"isEmpty",value:function(){return 0===this.length}},{key:"isPrefixOf",value:function(e){if(e.length<this.length)return!1;for(var t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}},{key:"isImmediateParentOf",value:function(e){if(this.length+1!==e.length)return!1;for(var t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}},{key:"forEach",value:function(e){for(var t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])}},{key:"toArray",value:function(){return this.segments.slice(this.offset,this.limit())}}],[{key:"comparator",value:function(e,t){for(var n=Math.min(e.length,t.length),r=0;r<n;r++){var i=e.get(r),a=t.get(r);if(i<a)return-1;if(i>a)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}]),e}(),Ng=function(e){m(n,e);var t=x(n);function n(){return d(this,n),t.apply(this,arguments)}return v(n,[{key:"construct",value:function(e,t,r){return new n(e,t,r)}},{key:"canonicalString",value:function(){return this.toArray().join("/")}},{key:"toString",value:function(){return this.canonicalString()}}],[{key:"fromString",value:function(){for(var e=[],t=arguments.length,r=new Array(t),i=0;i<t;i++)r[i]=arguments[i];for(var a=0,o=r;a<o.length;a++){var u=o[a];if(u.indexOf("//")>=0)throw new fg(lg.INVALID_ARGUMENT,"Invalid segment (".concat(u,"). Paths must not contain // in them."));e.push.apply(e,h(u.split("/").filter((function(e){return e.length>0}))))}return new n(e)}},{key:"emptyPath",value:function(){return new n([])}}]),n}(Cg),Ag=/^[_a-zA-Z][_a-zA-Z0-9]*$/,Og=function(e){m(n,e);var t=x(n);function n(){return d(this,n),t.apply(this,arguments)}return v(n,[{key:"construct",value:function(e,t,r){return new n(e,t,r)}},{key:"canonicalString",value:function(){return this.toArray().map((function(e){return e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),n.isValidIdentifier(e)||(e="`"+e+"`"),e})).join(".")}},{key:"toString",value:function(){return this.canonicalString()}},{key:"isKeyField",value:function(){return 1===this.length&&"__name__"===this.get(0)}}],[{key:"isValidIdentifier",value:function(e){return Ag.test(e)}},{key:"keyField",value:function(){return new n(["__name__"])}},{key:"fromServerFormat",value:function(e){for(var t=[],r="",i=0,a=function(){if(0===r.length)throw new fg(lg.INVALID_ARGUMENT,"Invalid field path (".concat(e,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"));t.push(r),r=""},o=!1;i<e.length;){var u=e[i];if("\\"===u){if(i+1===e.length)throw new fg(lg.INVALID_ARGUMENT,"Path has trailing escape character: "+e);var s=e[i+1];if("\\"!==s&&"."!==s&&"`"!==s)throw new fg(lg.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=s,i+=2}else"`"===u?(o=!o,i++):"."!==u||o?(r+=u,i++):(a(),i++)}if(a(),o)throw new fg(lg.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new n(t)}},{key:"emptyPath",value:function(){return new n([])}}]),n}(Cg),Pg=function(){function e(t){d(this,e),this.path=t}return v(e,[{key:"collectionGroup",get:function(){return this.path.popLast().lastSegment()}},{key:"hasCollectionId",value:function(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}},{key:"getCollectionGroup",value:function(){return this.path.get(this.path.length-2)}},{key:"getCollectionPath",value:function(){return this.path.popLast()}},{key:"isEqual",value:function(e){return null!==e&&0===Ng.comparator(this.path,e.path)}},{key:"toString",value:function(){return this.path.toString()}}],[{key:"fromPath",value:function(t){return new e(Ng.fromString(t))}},{key:"fromName",value:function(t){return new e(Ng.fromString(t).popFirst(5))}},{key:"empty",value:function(){return new e(Ng.emptyPath())}},{key:"comparator",value:function(e,t){return Ng.comparator(e.path,t.path)}},{key:"isDocumentKey",value:function(e){return e.length%2==0}},{key:"fromSegments",value:function(t){return new e(new Ng(t.slice()))}}]),e}(),Rg=v((function e(t,n,r,i){d(this,e),this.indexId=t,this.collectionGroup=n,this.fields=r,this.indexState=i}));function Dg(e){return e.fields.find((function(e){return 2===e.kind}))}function Fg(e){return e.fields.filter((function(e){return 2!==e.kind}))}Rg.UNKNOWN_ID=-1;var Lg=v((function e(t,n){d(this,e),this.fieldPath=t,this.kind=n}));var jg=function(){function e(t,n){d(this,e),this.sequenceNumber=t,this.offset=n}return v(e,null,[{key:"empty",value:function(){return new e(0,Vg.min())}}]),e}();function Mg(e,t){var n=e.toTimestamp().seconds,r=e.toTimestamp().nanoseconds+1,i=Tg.fromTimestamp(1e9===r?new Ig(n+1,0):new Ig(n,r));return new Vg(i,Pg.empty(),t)}function Ug(e){return new Vg(e.readTime,e.key,-1)}var Vg=function(){function e(t,n,r){d(this,e),this.readTime=t,this.documentKey=n,this.largestBatchId=r}return v(e,null,[{key:"min",value:function(){return new e(Tg.min(),Pg.empty(),-1)}},{key:"max",value:function(){return new e(Tg.max(),Pg.empty(),-1)}}]),e}();function qg(e,t){var n=e.readTime.compareTo(t.readTime);return 0!==n?n:0!==(n=Pg.comparator(e.documentKey,t.documentKey))?n:xg(e.largestBatchId,t.largestBatchId)}var Bg="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",zg=function(){function e(){d(this,e),this.onCommittedListeners=[]}return v(e,[{key:"addOnCommittedListener",value:function(e){this.onCommittedListeners.push(e)}},{key:"raiseOnCommittedEvent",value:function(){this.onCommittedListeners.forEach((function(e){return e()}))}}]),e}();function Wg(e){return Kg.apply(this,arguments)}function Kg(){return Kg=He(Ke().mark((function e(t){return Ke().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.code===lg.FAILED_PRECONDITION&&t.message===Bg){e.next=2;break}throw t;case 2:rg("LocalStore","Unexpectedly lost primary lease");case 3:case"end":return e.stop()}}),e)}))),Kg.apply(this,arguments)}var Gg=function(){function e(t){var n=this;d(this,e),this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((function(e){n.isDone=!0,n.result=e,n.nextCallback&&n.nextCallback(e)}),(function(e){n.isDone=!0,n.error=e,n.catchCallback&&n.catchCallback(e)}))}return v(e,[{key:"catch",value:function(e){return this.next(void 0,e)}},{key:"next",value:function(t,n){var r=this;return this.callbackAttached&&ug(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new e((function(e,i){r.nextCallback=function(n){r.wrapSuccess(t,n).next(e,i)},r.catchCallback=function(t){r.wrapFailure(n,t).next(e,i)}}))}},{key:"toPromise",value:function(){var e=this;return new Promise((function(t,n){e.next(t,n)}))}},{key:"wrapUserFunction",value:function(t){try{var n=t();return n instanceof e?n:e.resolve(n)}catch(t){return e.reject(t)}}},{key:"wrapSuccess",value:function(t,n){return t?this.wrapUserFunction((function(){return t(n)})):e.resolve(n)}},{key:"wrapFailure",value:function(t,n){return t?this.wrapUserFunction((function(){return t(n)})):e.reject(n)}}],[{key:"resolve",value:function(t){return new e((function(e,n){e(t)}))}},{key:"reject",value:function(t){return new e((function(e,n){n(t)}))}},{key:"waitFor",value:function(t){return new e((function(e,n){var r=0,i=0,a=!1;t.forEach((function(t){++r,t.next((function(){++i,a&&i===r&&e()}),(function(e){return n(e)}))})),a=!0,i===r&&e()}))}},{key:"or",value:function(t){var n,r=e.resolve(!1),i=ka(t);try{var a=function(){var t=n.value;r=r.next((function(n){return n?e.resolve(n):t()}))};for(i.s();!(n=i.n()).done;)a()}catch(o){i.e(o)}finally{i.f()}return r}},{key:"forEach",value:function(e,t){var n=this,r=[];return e.forEach((function(e,i){r.push(t.call(n,e,i))})),this.waitFor(r)}},{key:"mapArray",value:function(t,n){return new e((function(e,r){for(var i=t.length,a=new Array(i),o=0,u=function(u){var s=u;n(t[s]).next((function(t){a[s]=t,++o===i&&e(a)}),(function(e){return r(e)}))},s=0;s<i;s++)u(s)}))}},{key:"doWhile",value:function(t,n){return new e((function(e,r){!function i(){!0===t()?n().next((function(){i()}),r):e()}()}))}}]),e}(),Hg=function(){function e(t,n){var r=this;d(this,e),this.action=t,this.transaction=n,this.aborted=!1,this.P=new hg,this.transaction.oncomplete=function(){r.P.resolve()},this.transaction.onabort=function(){n.error?r.P.reject(new $g(t,n.error)):r.P.resolve()},this.transaction.onerror=function(e){var n=tk(e.target.error);r.P.reject(new $g(t,n))}}return v(e,[{key:"v",get:function(){return this.P.promise}},{key:"abort",value:function(e){e&&this.P.reject(e),this.aborted||(rg("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}},{key:"V",value:function(){var e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}},{key:"store",value:function(e){var t=this.transaction.objectStore(e);return new Xg(t)}}],[{key:"open",value:function(t,n,r,i){try{return new e(n,t.transaction(i,r))}catch(t){throw new $g(n,t)}}}]),e}(),Qg=function(){function e(t,n,r){d(this,e),this.name=t,this.version=n,this.S=r,12.2===e.D(Da())&&ig("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}return v(e,[{key:"F",value:function(){var e=He(Ke().mark((function e(t){var n=this;return Ke().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.db,e.t0){e.next=6;break}return rg("SimpleDb","Opening database:",this.name),e.next=5,new Promise((function(e,r){var i=indexedDB.open(n.name,n.version);i.onsuccess=function(t){var n=t.target.result;e(n)},i.onblocked=function(){r(new $g(t,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=function(e){var n=e.target.error;"VersionError"===n.name?r(new fg(lg.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):"InvalidStateError"===n.name?r(new fg(lg.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+n)):r(new $g(t,n))},i.onupgradeneeded=function(e){rg("SimpleDb",'Database "'+n.name+'" requires upgrade from version:',e.oldVersion);var t=e.target.result;n.S.$(t,i.transaction,e.oldVersion,n.version).next((function(){rg("SimpleDb","Database upgrade to version "+n.version+" complete")}))}}));case 5:this.db=e.sent;case 6:return this.B&&(this.db.onversionchange=function(e){return n.B(e)}),e.abrupt("return",this.db);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"L",value:function(e){this.B=e,this.db&&(this.db.onversionchange=function(t){return e(t)})}},{key:"runTransaction",value:function(){var e=He(Ke().mark((function e(t,n,r,i){var a,o,u,s,c,l=this;return Ke().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a="readonly"===n,o=0;case 2:return++o,e.prev=3,e.delegateYield(Ke().mark((function e(){var n,o;return Ke().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,l.F(t);case 2:return l.db=e.sent,n=Hg.open(l.db,t,a?"readonly":"readwrite",r),o=i(n).next((function(e){return n.V(),e})).catch((function(e){return n.abort(e),Gg.reject(e)})).toPromise(),o.catch((function(){})),e.next=7,n.v;case 7:return e.t0=o,e.abrupt("return",{v:e.t0});case 9:case"end":return e.stop()}}),e)}))(),"t0",5);case 5:if("object"!==typeof(u=e.t0)){e.next=8;break}return e.abrupt("return",u.v);case 8:e.next=15;break;case 10:if(e.prev=10,e.t1=e.catch(3),s=e.t1,c="FirebaseError"!==s.name&&o<3,rg("SimpleDb","Transaction failed with error:",s.message,"Retrying:",c),this.close(),c){e.next=15;break}return e.abrupt("return",Promise.reject(s));case 15:e.next=2;break;case 17:case"end":return e.stop()}}),e,this,[[3,10]])})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"close",value:function(){this.db&&this.db.close(),this.db=void 0}}],[{key:"delete",value:function(e){return rg("SimpleDb","Removing database:",e),Zg(window.indexedDB.deleteDatabase(e)).toPromise()}},{key:"C",value:function(){if(!qa())return!1;if(e.N())return!0;var t=Da(),n=e.D(t),r=0<n&&n<10,i=e.k(t),a=0<i&&i<4.5;return!(t.indexOf("MSIE ")>0||t.indexOf("Trident/")>0||t.indexOf("Edge/")>0||r||a)}},{key:"N",value:function(){var e;return"undefined"!=typeof process&&"YES"===(null===(e={NODE_ENV:"production",PUBLIC_URL:"/hotSkins",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0})||void 0===e?void 0:e.M)}},{key:"O",value:function(e,t){return e.store(t)}},{key:"D",value:function(e){var t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),n=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(n)}},{key:"k",value:function(e){var t=e.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}}]),e}(),Yg=function(){function e(t){d(this,e),this.U=t,this.q=!1,this.K=null}return v(e,[{key:"isDone",get:function(){return this.q}},{key:"G",get:function(){return this.K}},{key:"cursor",set:function(e){this.U=e}},{key:"done",value:function(){this.q=!0}},{key:"j",value:function(e){this.K=e}},{key:"delete",value:function(){return Zg(this.U.delete())}}]),e}(),$g=function(e){m(n,e);var t=x(n);function n(e,r){var i;return d(this,n),(i=t.call(this,lg.UNAVAILABLE,"IndexedDB transaction '".concat(e,"' failed: ").concat(r))).name="IndexedDbTransactionError",i}return v(n)}(fg);function Jg(e){return"IndexedDbTransactionError"===e.name}var Xg=function(){function e(t){d(this,e),this.store=t}return v(e,[{key:"put",value:function(e,t){var n;return void 0!==t?(rg("SimpleDb","PUT",this.store.name,e,t),n=this.store.put(t,e)):(rg("SimpleDb","PUT",this.store.name,"<auto-key>",e),n=this.store.put(e)),Zg(n)}},{key:"add",value:function(e){return rg("SimpleDb","ADD",this.store.name,e,e),Zg(this.store.add(e))}},{key:"get",value:function(e){var t=this;return Zg(this.store.get(e)).next((function(n){return void 0===n&&(n=null),rg("SimpleDb","GET",t.store.name,e,n),n}))}},{key:"delete",value:function(e){return rg("SimpleDb","DELETE",this.store.name,e),Zg(this.store.delete(e))}},{key:"count",value:function(){return rg("SimpleDb","COUNT",this.store.name),Zg(this.store.count())}},{key:"W",value:function(e,t){var n=this.options(e,t);if(n.index||"function"!=typeof this.store.getAll){var r=this.cursor(n),i=[];return this.H(r,(function(e,t){i.push(t)})).next((function(){return i}))}var a=this.store.getAll(n.range);return new Gg((function(e,t){a.onerror=function(e){t(e.target.error)},a.onsuccess=function(t){e(t.target.result)}}))}},{key:"J",value:function(e,t){var n=this.store.getAll(e,null===t?void 0:t);return new Gg((function(e,t){n.onerror=function(e){t(e.target.error)},n.onsuccess=function(t){e(t.target.result)}}))}},{key:"Y",value:function(e,t){rg("SimpleDb","DELETE ALL",this.store.name);var n=this.options(e,t);n.X=!1;var r=this.cursor(n);return this.H(r,(function(e,t,n){return n.delete()}))}},{key:"Z",value:function(e,t){var n;t?n=e:(n={},t=e);var r=this.cursor(n);return this.H(r,t)}},{key:"tt",value:function(e){var t=this.cursor({});return new Gg((function(n,r){t.onerror=function(e){var t=tk(e.target.error);r(t)},t.onsuccess=function(t){var r=t.target.result;r?e(r.primaryKey,r.value).next((function(e){e?r.continue():n()})):n()}}))}},{key:"H",value:function(e,t){var n=[];return new Gg((function(r,i){e.onerror=function(e){i(e.target.error)},e.onsuccess=function(e){var i=e.target.result;if(i){var a=new Yg(i),o=t(i.primaryKey,i.value,a);if(o instanceof Gg){var u=o.catch((function(e){return a.done(),Gg.reject(e)}));n.push(u)}a.isDone?r():null===a.G?i.continue():i.continue(a.G)}else r()}})).next((function(){return Gg.waitFor(n)}))}},{key:"options",value:function(e,t){var n;return void 0!==e&&("string"==typeof e?n=e:t=e),{index:n,range:t}}},{key:"cursor",value:function(e){var t="next";if(e.reverse&&(t="prev"),e.index){var n=this.store.index(e.index);return e.X?n.openKeyCursor(e.range,t):n.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}]),e}();function Zg(e){return new Gg((function(t,n){e.onsuccess=function(e){var n=e.target.result;t(n)},e.onerror=function(e){var t=tk(e.target.error);n(t)}}))}var ek=!1;function tk(e){var t=Qg.D(Da());if(t>=12.2&&t<13){var n="An internal error was encountered in the Indexed Database server";if(e.message.indexOf(n)>=0){var r=new fg("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '".concat(n,"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround."));return ek||(ek=!0,setTimeout((function(){throw r}),0)),r}}return e}var nk=function(){function e(t,n){d(this,e),this.asyncQueue=t,this.et=n,this.task=null}return v(e,[{key:"start",value:function(){this.nt(15e3)}},{key:"stop",value:function(){this.task&&(this.task.cancel(),this.task=null)}},{key:"started",get:function(){return null!==this.task}},{key:"nt",value:function(e){var t=this;rg("IndexBackiller","Scheduled in ".concat(e,"ms")),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,He(Ke().mark((function e(){return Ke().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.task=null,e.prev=1,e.t0=rg,e.t1="Documents written: ",e.next=6,t.et.st();case 6:e.t2=e.sent,e.t3=e.t1.concat.call(e.t1,e.t2),(0,e.t0)("IndexBackiller",e.t3),e.next=19;break;case 11:if(e.prev=11,e.t4=e.catch(1),!Jg(e.t4)){e.next=17;break}rg("IndexBackiller","Ignoring IndexedDB error during index backfill: ",e.t4),e.next=19;break;case 17:return e.next=19,Wg(e.t4);case 19:return e.next=21,t.nt(6e4);case 21:case"end":return e.stop()}}),e,null,[[1,11]])}))))}}]),e}(),rk=function(){function e(t,n){d(this,e),this.localStore=t,this.persistence=n}return v(e,[{key:"st",value:function(){var e=He(Ke().mark((function e(){var t,n=this,r=arguments;return Ke().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=r.length>0&&void 0!==r[0]?r[0]:50,e.abrupt("return",this.persistence.runTransaction("Backfill Indexes","readwrite-primary",(function(e){return n.it(e,t)})));case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"it",value:function(e,t){var n=this,r=new Set,i=t,a=!0;return Gg.doWhile((function(){return!0===a&&i>0}),(function(){return n.localStore.indexManager.getNextCollectionGroupToUpdate(e).next((function(t){if(null!==t&&!r.has(t))return rg("IndexBackiller","Processing collection: ".concat(t)),n.rt(e,t,i).next((function(e){i-=e,r.add(t)}));a=!1}))})).next((function(){return t-i}))}},{key:"rt",value:function(e,t,n){var r=this;return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,t).next((function(i){return r.localStore.localDocuments.getNextDocuments(e,t,i,n).next((function(n){var a=n.changes;return r.localStore.indexManager.updateIndexEntries(e,a).next((function(){return r.ot(i,n)})).next((function(n){return rg("IndexBackiller","Updating offset: ".concat(n)),r.localStore.indexManager.updateCollectionGroup(e,t,n)})).next((function(){return a.size}))}))}))}},{key:"ot",value:function(e,t){var n=e;return t.changes.forEach((function(e,t){var r=Ug(t);qg(r,n)>0&&(n=r)})),new Vg(n.readTime,n.documentKey,Math.max(t.batchId,e.largestBatchId))}}]),e}(),ik=function(){function e(t,n){var r=this;d(this,e),this.previousValue=t,n&&(n.sequenceNumberHandler=function(e){return r.ut(e)},this.ct=function(e){return n.writeSequenceNumber(e)})}return v(e,[{key:"ut",value:function(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}},{key:"next",value:function(){var e=++this.previousValue;return this.ct&&this.ct(e),e}}]),e}();function ak(e){var t=0;for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function ok(e,t){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function uk(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}ik.at=-1;var sk=function(){function e(t,n){d(this,e),this.comparator=t,this.root=n||lk.EMPTY}return v(e,[{key:"insert",value:function(t,n){return new e(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,lk.BLACK,null,null))}},{key:"remove",value:function(t){return new e(this.comparator,this.root.remove(t,this.comparator).copy(null,null,lk.BLACK,null,null))}},{key:"get",value:function(e){for(var t=this.root;!t.isEmpty();){var n=this.comparator(e,t.key);if(0===n)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null}},{key:"indexOf",value:function(e){for(var t=0,n=this.root;!n.isEmpty();){var r=this.comparator(e,n.key);if(0===r)return t+n.left.size;r<0?n=n.left:(t+=n.left.size+1,n=n.right)}return-1}},{key:"isEmpty",value:function(){return this.root.isEmpty()}},{key:"size",get:function(){return this.root.size}},{key:"minKey",value:function(){return this.root.minKey()}},{key:"maxKey",value:function(){return this.root.maxKey()}},{key:"inorderTraversal",value:function(e){return this.root.inorderTraversal(e)}},{key:"forEach",value:function(e){this.inorderTraversal((function(t,n){return e(t,n),!1}))}},{key:"toString",value:function(){var e=[];return this.inorderTraversal((function(t,n){return e.push("".concat(t,":").concat(n)),!1})),"{".concat(e.join(", "),"}")}},{key:"reverseTraversal",value:function(e){return this.root.reverseTraversal(e)}},{key:"getIterator",value:function(){return new ck(this.root,null,this.comparator,!1)}},{key:"getIteratorFrom",value:function(e){return new ck(this.root,e,this.comparator,!1)}},{key:"getReverseIterator",value:function(){return new ck(this.root,null,this.comparator,!0)}},{key:"getReverseIteratorFrom",value:function(e){return new ck(this.root,e,this.comparator,!0)}}]),e}(),ck=function(){function e(t,n,r,i){d(this,e),this.isReverse=i,this.nodeStack=[];for(var a=1;!t.isEmpty();)if(a=n?r(t.key,n):1,n&&i&&(a*=-1),a<0)t=this.isReverse?t.left:t.right;else{if(0===a){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}return v(e,[{key:"getNext",value:function(){var e=this.nodeStack.pop(),t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}},{key:"hasNext",value:function(){return this.nodeStack.length>0}},{key:"peek",value:function(){if(0===this.nodeStack.length)return null;var e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}]),e}(),lk=function(){function e(t,n,r,i,a){d(this,e),this.key=t,this.value=n,this.color=null!=r?r:e.RED,this.left=null!=i?i:e.EMPTY,this.right=null!=a?a:e.EMPTY,this.size=this.left.size+1+this.right.size}return v(e,[{key:"copy",value:function(t,n,r,i,a){return new e(null!=t?t:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=a?a:this.right)}},{key:"isEmpty",value:function(){return!1}},{key:"inorderTraversal",value:function(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}},{key:"reverseTraversal",value:function(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}},{key:"min",value:function(){return this.left.isEmpty()?this:this.left.min()}},{key:"minKey",value:function(){return this.min().key}},{key:"maxKey",value:function(){return this.right.isEmpty()?this.key:this.right.maxKey()}},{key:"insert",value:function(e,t,n){var r=this,i=n(e,r.key);return(r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n))).fixUp()}},{key:"removeMin",value:function(){if(this.left.isEmpty())return e.EMPTY;var t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),(t=t.copy(null,null,null,t.left.removeMin(),null)).fixUp()}},{key:"remove",value:function(t,n){var r,i=this;if(n(t,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(t,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===n(t,i.key)){if(i.right.isEmpty())return e.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(t,n))}return i.fixUp()}},{key:"isRed",value:function(){return this.color}},{key:"fixUp",value:function(){var e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}},{key:"moveRedLeft",value:function(){var e=this.colorFlip();return e.right.left.isRed()&&(e=(e=(e=e.copy(null,null,null,null,e.right.rotateRight())).rotateLeft()).colorFlip()),e}},{key:"moveRedRight",value:function(){var e=this.colorFlip();return e.left.left.isRed()&&(e=(e=e.rotateRight()).colorFlip()),e}},{key:"rotateLeft",value:function(){var t=this.copy(null,null,e.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}},{key:"rotateRight",value:function(){var t=this.copy(null,null,e.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}},{key:"colorFlip",value:function(){var e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}},{key:"checkMaxDepth",value:function(){var e=this.check();return Math.pow(2,e)<=this.size+1}},{key:"check",value:function(){if(this.isRed()&&this.left.isRed())throw ug();if(this.right.isRed())throw ug();var e=this.left.check();if(e!==this.right.check())throw ug();return e+(this.isRed()?0:1)}}]),e}();lk.EMPTY=null,lk.RED=!0,lk.BLACK=!1,lk.EMPTY=new(function(){function e(){d(this,e),this.size=0}return v(e,[{key:"key",get:function(){throw ug()}},{key:"value",get:function(){throw ug()}},{key:"color",get:function(){throw ug()}},{key:"left",get:function(){throw ug()}},{key:"right",get:function(){throw ug()}},{key:"copy",value:function(e,t,n,r,i){return this}},{key:"insert",value:function(e,t,n){return new lk(e,t)}},{key:"remove",value:function(e,t){return this}},{key:"isEmpty",value:function(){return!0}},{key:"inorderTraversal",value:function(e){return!1}},{key:"reverseTraversal",value:function(e){return!1}},{key:"minKey",value:function(){return null}},{key:"maxKey",value:function(){return null}},{key:"isRed",value:function(){return!1}},{key:"checkMaxDepth",value:function(){return!0}},{key:"check",value:function(){return 0}}]),e}());var fk=function(){function e(t){d(this,e),this.comparator=t,this.data=new sk(this.comparator)}return v(e,[{key:"has",value:function(e){return null!==this.data.get(e)}},{key:"first",value:function(){return this.data.minKey()}},{key:"last",value:function(){return this.data.maxKey()}},{key:"size",get:function(){return this.data.size}},{key:"indexOf",value:function(e){return this.data.indexOf(e)}},{key:"forEach",value:function(e){this.data.inorderTraversal((function(t,n){return e(t),!1}))}},{key:"forEachInRange",value:function(e,t){for(var n=this.data.getIteratorFrom(e[0]);n.hasNext();){var r=n.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}},{key:"forEachWhile",value:function(e,t){var n;for(n=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}},{key:"firstAfterOrEqual",value:function(e){var t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}},{key:"getIterator",value:function(){return new hk(this.data.getIterator())}},{key:"getIteratorFrom",value:function(e){return new hk(this.data.getIteratorFrom(e))}},{key:"add",value:function(e){return this.copy(this.data.remove(e).insert(e,!0))}},{key:"delete",value:function(e){return this.has(e)?this.copy(this.data.remove(e)):this}},{key:"isEmpty",value:function(){return this.data.isEmpty()}},{key:"unionWith",value:function(e){var t=this;return t.size<e.size&&(t=e,e=this),e.forEach((function(e){t=t.add(e)})),t}},{key:"isEqual",value:function(t){if(!(t instanceof e))return!1;if(this.size!==t.size)return!1;for(var n=this.data.getIterator(),r=t.data.getIterator();n.hasNext();){var i=n.getNext().key,a=r.getNext().key;if(0!==this.comparator(i,a))return!1}return!0}},{key:"toArray",value:function(){var e=[];return this.forEach((function(t){e.push(t)})),e}},{key:"toString",value:function(){var e=[];return this.forEach((function(t){return e.push(t)})),"SortedSet("+e.toString()+")"}},{key:"copy",value:function(t){var n=new e(this.comparator);return n.data=t,n}}]),e}(),hk=function(){function e(t){d(this,e),this.iter=t}return v(e,[{key:"getNext",value:function(){return this.iter.getNext().key}},{key:"hasNext",value:function(){return this.iter.hasNext()}}]),e}();function dk(e){return e.hasNext()?e.getNext():void 0}var pk=function(){function e(t){d(this,e),this.fields=t,t.sort(Og.comparator)}return v(e,[{key:"unionWith",value:function(t){var n,r=new fk(Og.comparator),i=ka(this.fields);try{for(i.s();!(n=i.n()).done;){var a=n.value;r=r.add(a)}}catch(c){i.e(c)}finally{i.f()}var o,u=ka(t);try{for(u.s();!(o=u.n()).done;){var s=o.value;r=r.add(s)}}catch(c){u.e(c)}finally{u.f()}return new e(r.toArray())}},{key:"covers",value:function(e){var t,n=ka(this.fields);try{for(n.s();!(t=n.n()).done;){if(t.value.isPrefixOf(e))return!0}}catch(r){n.e(r)}finally{n.f()}return!1}},{key:"isEqual",value:function(e){return Eg(this.fields,e.fields,(function(e,t){return e.isEqual(t)}))}}],[{key:"empty",value:function(){return new e([])}}]),e}();var vk=function(e){function t(e){d(this,t),this.binaryString=e}return v(t,[{key:Symbol.iterator,value:function(){var e=this,t=0;return{next:function(){return t<e.binaryString.length?{value:e.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}}},{key:"toBase64",value:function(){return e=this.binaryString,btoa(e);var e}},{key:"toUint8Array",value:function(){return function(e){for(var t=new Uint8Array(e.length),n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}(this.binaryString)}},{key:"approximateByteSize",value:function(){return 2*this.binaryString.length}},{key:"compareTo",value:function(e){return xg(this.binaryString,e.binaryString)}},{key:"isEqual",value:function(e){return this.binaryString===e.binaryString}}],[{key:"fromBase64String",value:function(e){return new t(atob(e))}},{key:"fromUint8Array",value:function(e){var n=function(e){for(var t="",n=0;n<e.length;++n)t+=String.fromCharCode(e[n]);return t}(e);return new t(n)}}]),t}();vk.EMPTY_BYTE_STRING=new vk("");var yk=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function mk(e){if(sg(!!e),"string"==typeof e){var t=0,n=yk.exec(e);if(sg(!!n),n[1]){var r=n[1];r=(r+"000000000").substr(0,9),t=Number(r)}var i=new Date(e);return{seconds:Math.floor(i.getTime()/1e3),nanos:t}}return{seconds:gk(e.seconds),nanos:gk(e.nanos)}}function gk(e){return"number"==typeof e?e:"string"==typeof e?Number(e):0}function kk(e){return"string"==typeof e?vk.fromBase64String(e):vk.fromUint8Array(e)}function bk(e){var t,n;return"server_timestamp"===(null===(n=((null===(t=null==e?void 0:e.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function wk(e){var t=e.mapValue.fields.__previous_value__;return bk(t)?wk(t):t}function _k(e){var t=mk(e.mapValue.fields.__local_write_time__.timestampValue);return new Ig(t.seconds,t.nanos)}var xk=v((function e(t,n,r,i,a,o,u,s){d(this,e),this.databaseId=t,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=a,this.forceLongPolling=o,this.autoDetectLongPolling=u,this.useFetchStreams=s})),Ek=function(){function e(t,n){d(this,e),this.projectId=t,this.database=n||"(default)"}return v(e,[{key:"isDefaultDatabase",get:function(){return"(default)"===this.database}},{key:"isEqual",value:function(t){return t instanceof e&&t.projectId===this.projectId&&t.database===this.database}}],[{key:"empty",value:function(){return new e("","")}}]),e}();function Sk(e){return null==e}function Ik(e){return 0===e&&1/e==-1/0}function Tk(e){return"number"==typeof e&&Number.isInteger(e)&&!Ik(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}var Ck={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},Nk={nullValue:"NULL_VALUE"};function Ak(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?bk(e)?4:Wk(e)?9007199254740991:10:ug()}function Ok(e,t){if(e===t)return!0;var n=Ak(e);if(n!==Ak(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return _k(e).isEqual(_k(t));case 3:return function(e,t){if("string"==typeof e.timestampValue&&"string"==typeof t.timestampValue&&e.timestampValue.length===t.timestampValue.length)return e.timestampValue===t.timestampValue;var n=mk(e.timestampValue),r=mk(t.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(e,t){return kk(e.bytesValue).isEqual(kk(t.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(e,t){return gk(e.geoPointValue.latitude)===gk(t.geoPointValue.latitude)&&gk(e.geoPointValue.longitude)===gk(t.geoPointValue.longitude)}(e,t);case 2:return function(e,t){if("integerValue"in e&&"integerValue"in t)return gk(e.integerValue)===gk(t.integerValue);if("doubleValue"in e&&"doubleValue"in t){var n=gk(e.doubleValue),r=gk(t.doubleValue);return n===r?Ik(n)===Ik(r):isNaN(n)&&isNaN(r)}return!1}(e,t);case 9:return Eg(e.arrayValue.values||[],t.arrayValue.values||[],Ok);case 10:return function(e,t){var n=e.mapValue.fields||{},r=t.mapValue.fields||{};if(ak(n)!==ak(r))return!1;for(var i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!Ok(n[i],r[i])))return!1;return!0}(e,t);default:return ug()}}function Pk(e,t){return void 0!==(e.values||[]).find((function(e){return Ok(e,t)}))}function Rk(e,t){if(e===t)return 0;var n=Ak(e),r=Ak(t);if(n!==r)return xg(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return xg(e.booleanValue,t.booleanValue);case 2:return function(e,t){var n=gk(e.integerValue||e.doubleValue),r=gk(t.integerValue||t.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(e,t);case 3:return Dk(e.timestampValue,t.timestampValue);case 4:return Dk(_k(e),_k(t));case 5:return xg(e.stringValue,t.stringValue);case 6:return function(e,t){var n=kk(e),r=kk(t);return n.compareTo(r)}(e.bytesValue,t.bytesValue);case 7:return function(e,t){for(var n=e.split("/"),r=t.split("/"),i=0;i<n.length&&i<r.length;i++){var a=xg(n[i],r[i]);if(0!==a)return a}return xg(n.length,r.length)}(e.referenceValue,t.referenceValue);case 8:return function(e,t){var n=xg(gk(e.latitude),gk(t.latitude));return 0!==n?n:xg(gk(e.longitude),gk(t.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return function(e,t){for(var n=e.values||[],r=t.values||[],i=0;i<n.length&&i<r.length;++i){var a=Rk(n[i],r[i]);if(a)return a}return xg(n.length,r.length)}(e.arrayValue,t.arrayValue);case 10:return function(e,t){if(e===Ck.mapValue&&t===Ck.mapValue)return 0;if(e===Ck.mapValue)return 1;if(t===Ck.mapValue)return-1;var n=e.fields||{},r=Object.keys(n),i=t.fields||{},a=Object.keys(i);r.sort(),a.sort();for(var o=0;o<r.length&&o<a.length;++o){var u=xg(r[o],a[o]);if(0!==u)return u;var s=Rk(n[r[o]],i[a[o]]);if(0!==s)return s}return xg(r.length,a.length)}(e.mapValue,t.mapValue);default:throw ug()}}function Dk(e,t){if("string"==typeof e&&"string"==typeof t&&e.length===t.length)return xg(e,t);var n=mk(e),r=mk(t),i=xg(n.seconds,r.seconds);return 0!==i?i:xg(n.nanos,r.nanos)}function Fk(e){return Lk(e)}function Lk(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(e){var t=mk(e);return"time(".concat(t.seconds,",").concat(t.nanos,")")}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?kk(e.bytesValue).toBase64():"referenceValue"in e?(n=e.referenceValue,Pg.fromName(n).toString()):"geoPointValue"in e?"geo(".concat((t=e.geoPointValue).latitude,",").concat(t.longitude,")"):"arrayValue"in e?function(e){var t,n="[",r=!0,i=ka(e.values||[]);try{for(i.s();!(t=i.n()).done;){var a=t.value;r?r=!1:n+=",",n+=Lk(a)}}catch(o){i.e(o)}finally{i.f()}return n+"]"}(e.arrayValue):"mapValue"in e?function(e){var t,n="{",r=!0,i=ka(Object.keys(e.fields||{}).sort());try{for(i.s();!(t=i.n()).done;){var a=t.value;r?r=!1:n+=",",n+="".concat(a,":").concat(Lk(e.fields[a]))}}catch(o){i.e(o)}finally{i.f()}return n+"}"}(e.mapValue):ug();var t,n}function jk(e,t){return{referenceValue:"projects/".concat(e.projectId,"/databases/").concat(e.database,"/documents/").concat(t.path.canonicalString())}}function Mk(e){return!!e&&"integerValue"in e}function Uk(e){return!!e&&"arrayValue"in e}function Vk(e){return!!e&&"nullValue"in e}function qk(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function Bk(e){return!!e&&"mapValue"in e}function zk(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&"object"==typeof e.timestampValue)return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){var t={mapValue:{fields:{}}};return ok(e.mapValue.fields,(function(e,n){return t.mapValue.fields[e]=zk(n)})),t}if(e.arrayValue){for(var n={arrayValue:{values:[]}},r=0;r<(e.arrayValue.values||[]).length;++r)n.arrayValue.values[r]=zk(e.arrayValue.values[r]);return n}return Object.assign({},e)}function Wk(e){return"__max__"===(((e.mapValue||{}).fields||{}).__type__||{}).stringValue}function Kk(e){return"nullValue"in e?Nk:"booleanValue"in e?{booleanValue:!1}:"integerValue"in e||"doubleValue"in e?{doubleValue:NaN}:"timestampValue"in e?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in e?{stringValue:""}:"bytesValue"in e?{bytesValue:""}:"referenceValue"in e?jk(Ek.empty(),Pg.empty()):"geoPointValue"in e?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in e?{arrayValue:{}}:"mapValue"in e?{mapValue:{}}:ug()}function Gk(e){return"nullValue"in e?{booleanValue:!1}:"booleanValue"in e?{doubleValue:NaN}:"integerValue"in e||"doubleValue"in e?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in e?{stringValue:""}:"stringValue"in e?{bytesValue:""}:"bytesValue"in e?jk(Ek.empty(),Pg.empty()):"referenceValue"in e?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in e?{arrayValue:{}}:"arrayValue"in e?{mapValue:{}}:"mapValue"in e?Ck:ug()}function Hk(e,t){var n=Rk(e.value,t.value);return 0!==n?n:e.inclusive&&!t.inclusive?-1:!e.inclusive&&t.inclusive?1:0}function Qk(e,t){var n=Rk(e.value,t.value);return 0!==n?n:e.inclusive&&!t.inclusive?1:!e.inclusive&&t.inclusive?-1:0}var Yk=function(){function e(t){d(this,e),this.value=t}return v(e,[{key:"field",value:function(e){if(e.isEmpty())return this.value;for(var t=this.value,n=0;n<e.length-1;++n)if(!Bk(t=(t.mapValue.fields||{})[e.get(n)]))return null;return(t=(t.mapValue.fields||{})[e.lastSegment()])||null}},{key:"set",value:function(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=zk(t)}},{key:"setAll",value:function(e){var t=this,n=Og.emptyPath(),r={},i=[];e.forEach((function(e,a){if(!n.isImmediateParentOf(a)){var o=t.getFieldsMap(n);t.applyChanges(o,r,i),r={},i=[],n=a.popLast()}e?r[a.lastSegment()]=zk(e):i.push(a.lastSegment())}));var a=this.getFieldsMap(n);this.applyChanges(a,r,i)}},{key:"delete",value:function(e){var t=this.field(e.popLast());Bk(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}},{key:"isEqual",value:function(e){return Ok(this.value,e.value)}},{key:"getFieldsMap",value:function(e){var t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(var n=0;n<e.length;++n){var r=t.mapValue.fields[e.get(n)];Bk(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(n)]=r),t=r}return t.mapValue.fields}},{key:"applyChanges",value:function(e,t,n){ok(t,(function(t,n){return e[t]=n}));var r,i=ka(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;delete e[a]}}catch(o){i.e(o)}finally{i.f()}}},{key:"clone",value:function(){return new e(zk(this.value))}}],[{key:"empty",value:function(){return new e({mapValue:{}})}}]),e}();function $k(e){var t=[];return ok(e.fields,(function(e,n){var r=new Og([e]);if(Bk(n)){var i=$k(n.mapValue).fields;if(0===i.length)t.push(r);else{var a,o=ka(i);try{for(o.s();!(a=o.n()).done;){var u=a.value;t.push(r.child(u))}}catch(s){o.e(s)}finally{o.f()}}}else t.push(r)})),new pk(t)}var Jk=function(){function e(t,n,r,i,a,o){d(this,e),this.key=t,this.documentType=n,this.version=r,this.readTime=i,this.data=a,this.documentState=o}return v(e,[{key:"convertToFoundDocument",value:function(e,t){return this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}},{key:"convertToNoDocument",value:function(e){return this.version=e,this.documentType=2,this.data=Yk.empty(),this.documentState=0,this}},{key:"convertToUnknownDocument",value:function(e){return this.version=e,this.documentType=3,this.data=Yk.empty(),this.documentState=2,this}},{key:"setHasCommittedMutations",value:function(){return this.documentState=2,this}},{key:"setHasLocalMutations",value:function(){return this.documentState=1,this.version=Tg.min(),this}},{key:"setReadTime",value:function(e){return this.readTime=e,this}},{key:"hasLocalMutations",get:function(){return 1===this.documentState}},{key:"hasCommittedMutations",get:function(){return 2===this.documentState}},{key:"hasPendingWrites",get:function(){return this.hasLocalMutations||this.hasCommittedMutations}},{key:"isValidDocument",value:function(){return 0!==this.documentType}},{key:"isFoundDocument",value:function(){return 1===this.documentType}},{key:"isNoDocument",value:function(){return 2===this.documentType}},{key:"isUnknownDocument",value:function(){return 3===this.documentType}},{key:"isEqual",value:function(t){return t instanceof e&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}},{key:"mutableCopy",value:function(){return new e(this.key,this.documentType,this.version,this.readTime,this.data.clone(),this.documentState)}},{key:"toString",value:function(){return"Document(".concat(this.key,", ").concat(this.version,", ").concat(JSON.stringify(this.data.value),", {documentType: ").concat(this.documentType,"}), {documentState: ").concat(this.documentState,"})")}}],[{key:"newInvalidDocument",value:function(t){return new e(t,0,Tg.min(),Tg.min(),Yk.empty(),0)}},{key:"newFoundDocument",value:function(t,n,r){return new e(t,1,n,Tg.min(),r,0)}},{key:"newNoDocument",value:function(t,n){return new e(t,2,n,Tg.min(),Yk.empty(),0)}},{key:"newUnknownDocument",value:function(t,n){return new e(t,3,n,Tg.min(),Yk.empty(),2)}}]),e}(),Xk=v((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,u=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;d(this,e),this.path=t,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=a,this.startAt=o,this.endAt=u,this.ht=null}));function Zk(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;return new Xk(e,t,n,r,i,a,o)}function eb(e){var t=cg(e);if(null===t.ht){var n=t.path.canonicalString();null!==t.collectionGroup&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map((function(e){return(t=e).field.canonicalString()+t.op.toString()+Fk(t.value);var t})).join(","),n+="|ob:",n+=t.orderBy.map((function(e){return function(e){return e.field.canonicalString()+e.dir}(e)})).join(","),Sk(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=t.startAt.inclusive?"b:":"a:",n+=t.startAt.position.map((function(e){return Fk(e)})).join(",")),t.endAt&&(n+="|ub:",n+=t.endAt.inclusive?"a:":"b:",n+=t.endAt.position.map((function(e){return Fk(e)})).join(",")),t.ht=n}return t.ht}function tb(e,t){if(e.limit!==t.limit)return!1;if(e.orderBy.length!==t.orderBy.length)return!1;for(var n=0;n<e.orderBy.length;n++)if(!mb(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(var r=0;r<e.filters.length;r++)if(i=e.filters[r],a=t.filters[r],i.op!==a.op||!i.field.isEqual(a.field)||!Ok(i.value,a.value))return!1;var i,a;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!kb(e.startAt,t.startAt)&&kb(e.endAt,t.endAt)}function nb(e){return Pg.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}function rb(e,t){return e.filters.filter((function(e){return e instanceof ob&&e.field.isEqual(t)}))}function ib(e,t,n){var r,i=Nk,a=!0,o=ka(rb(e,t));try{for(o.s();!(r=o.n()).done;){var u=r.value,s=Nk,c=!0;switch(u.op){case"<":case"<=":s=Kk(u.value);break;case"==":case"in":case">=":s=u.value;break;case">":s=u.value,c=!1;break;case"!=":case"not-in":s=Nk}Hk({value:i,inclusive:a},{value:s,inclusive:c})<0&&(i=s,a=c)}}catch(h){o.e(h)}finally{o.f()}if(null!==n)for(var l=0;l<e.orderBy.length;++l)if(e.orderBy[l].field.isEqual(t)){var f=n.position[l];Hk({value:i,inclusive:a},{value:f,inclusive:n.inclusive})<0&&(i=f,a=n.inclusive);break}return{value:i,inclusive:a}}function ab(e,t,n){var r,i=Ck,a=!0,o=ka(rb(e,t));try{for(o.s();!(r=o.n()).done;){var u=r.value,s=Ck,c=!0;switch(u.op){case">=":case">":s=Gk(u.value),c=!1;break;case"==":case"in":case"<=":s=u.value;break;case"<":s=u.value,c=!1;break;case"!=":case"not-in":s=Ck}Qk({value:i,inclusive:a},{value:s,inclusive:c})>0&&(i=s,a=c)}}catch(h){o.e(h)}finally{o.f()}if(null!==n)for(var l=0;l<e.orderBy.length;++l)if(e.orderBy[l].field.isEqual(t)){var f=n.position[l];Qk({value:i,inclusive:a},{value:f,inclusive:n.inclusive})>0&&(i=f,a=n.inclusive);break}return{value:i,inclusive:a}}var ob=function(e){m(n,e);var t=x(n);function n(e,r,i){var a;return d(this,n),(a=t.call(this)).field=e,a.op=r,a.value=i,a}return v(n,[{key:"matches",value:function(e){var t=e.data.field(this.field);return"!="===this.op?null!==t&&this.ft(Rk(t,this.value)):null!==t&&Ak(this.value)===Ak(t)&&this.ft(Rk(t,this.value))}},{key:"ft",value:function(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return ug()}}},{key:"dt",value:function(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}}],[{key:"create",value:function(e,t,r){return e.isKeyField()?"in"===t||"not-in"===t?this.lt(e,t,r):new ub(e,t,r):"array-contains"===t?new fb(e,r):"in"===t?new hb(e,r):"not-in"===t?new db(e,r):"array-contains-any"===t?new pb(e,r):new n(e,t,r)}},{key:"lt",value:function(e,t,n){return"in"===t?new sb(e,n):new cb(e,n)}}]),n}(function(){return v((function e(){d(this,e)}))}()),ub=function(e){m(n,e);var t=x(n);function n(e,r,i){var a;return d(this,n),(a=t.call(this,e,r,i)).key=Pg.fromName(i.referenceValue),a}return v(n,[{key:"matches",value:function(e){var t=Pg.comparator(e.key,this.key);return this.ft(t)}}]),n}(ob),sb=function(e){m(n,e);var t=x(n);function n(e,r){var i;return d(this,n),(i=t.call(this,e,"in",r)).keys=lb("in",r),i}return v(n,[{key:"matches",value:function(e){return this.keys.some((function(t){return t.isEqual(e.key)}))}}]),n}(ob),cb=function(e){m(n,e);var t=x(n);function n(e,r){var i;return d(this,n),(i=t.call(this,e,"not-in",r)).keys=lb("not-in",r),i}return v(n,[{key:"matches",value:function(e){return!this.keys.some((function(t){return t.isEqual(e.key)}))}}]),n}(ob);function lb(e,t){var n;return((null===(n=t.arrayValue)||void 0===n?void 0:n.values)||[]).map((function(e){return Pg.fromName(e.referenceValue)}))}var fb=function(e){m(n,e);var t=x(n);function n(e,r){return d(this,n),t.call(this,e,"array-contains",r)}return v(n,[{key:"matches",value:function(e){var t=e.data.field(this.field);return Uk(t)&&Pk(t.arrayValue,this.value)}}]),n}(ob),hb=function(e){m(n,e);var t=x(n);function n(e,r){return d(this,n),t.call(this,e,"in",r)}return v(n,[{key:"matches",value:function(e){var t=e.data.field(this.field);return null!==t&&Pk(this.value.arrayValue,t)}}]),n}(ob),db=function(e){m(n,e);var t=x(n);function n(e,r){return d(this,n),t.call(this,e,"not-in",r)}return v(n,[{key:"matches",value:function(e){if(Pk(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;var t=e.data.field(this.field);return null!==t&&!Pk(this.value.arrayValue,t)}}]),n}(ob),pb=function(e){m(n,e);var t=x(n);function n(e,r){return d(this,n),t.call(this,e,"array-contains-any",r)}return v(n,[{key:"matches",value:function(e){var t=this,n=e.data.field(this.field);return!(!Uk(n)||!n.arrayValue.values)&&n.arrayValue.values.some((function(e){return Pk(t.value.arrayValue,e)}))}}]),n}(ob),vb=v((function e(t,n){d(this,e),this.position=t,this.inclusive=n})),yb=v((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc";d(this,e),this.field=t,this.dir=n}));function mb(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}function gb(e,t,n){for(var r=0,i=0;i<e.position.length;i++){var a=t[i],o=e.position[i];if(r=a.field.isKeyField()?Pg.comparator(Pg.fromName(o.referenceValue),n.key):Rk(o,n.data.field(a.field)),"desc"===a.dir&&(r*=-1),0!==r)break}return r}function kb(e,t){if(null===e)return null===t;if(null===t)return!1;if(e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(var n=0;n<e.position.length;n++)if(!Ok(e.position[n],t.position[n]))return!1;return!0}var bb=v((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"F",u=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,s=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;d(this,e),this.path=t,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=a,this.limitType=o,this.startAt=u,this.endAt=s,this._t=null,this.wt=null,this.startAt,this.endAt}));function wb(e,t,n,r,i,a,o,u){return new bb(e,t,n,r,i,a,o,u)}function _b(e){return new bb(e)}function xb(e){return 0===e.filters.length&&null===e.limit&&null==e.startAt&&null==e.endAt&&(0===e.explicitOrderBy.length||1===e.explicitOrderBy.length&&e.explicitOrderBy[0].field.isKeyField())}function Eb(e){return e.explicitOrderBy.length>0?e.explicitOrderBy[0].field:null}function Sb(e){var t,n=ka(e.filters);try{for(n.s();!(t=n.n()).done;){var r=t.value;if(r.dt())return r.field}}catch(i){n.e(i)}finally{n.f()}return null}function Ib(e){return null!==e.collectionGroup}function Tb(e){var t=cg(e);if(null===t._t){t._t=[];var n=Sb(t),r=Eb(t);if(null!==n&&null===r)n.isKeyField()||t._t.push(new yb(n)),t._t.push(new yb(Og.keyField(),"asc"));else{var i,a=!1,o=ka(t.explicitOrderBy);try{for(o.s();!(i=o.n()).done;){var u=i.value;t._t.push(u),u.field.isKeyField()&&(a=!0)}}catch(c){o.e(c)}finally{o.f()}if(!a){var s=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";t._t.push(new yb(Og.keyField(),s))}}}return t._t}function Cb(e){var t=cg(e);if(!t.wt)if("F"===t.limitType)t.wt=Zk(t.path,t.collectionGroup,Tb(t),t.filters,t.limit,t.startAt,t.endAt);else{var n,r=[],i=ka(Tb(t));try{for(i.s();!(n=i.n()).done;){var a=n.value,o="desc"===a.dir?"asc":"desc";r.push(new yb(a.field,o))}}catch(c){i.e(c)}finally{i.f()}var u=t.endAt?new vb(t.endAt.position,t.endAt.inclusive):null,s=t.startAt?new vb(t.startAt.position,t.startAt.inclusive):null;t.wt=Zk(t.path,t.collectionGroup,r,t.filters,t.limit,u,s)}return t.wt}function Nb(e,t,n){return new bb(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function Ab(e,t){return tb(Cb(e),Cb(t))&&e.limitType===t.limitType}function Ob(e){return"".concat(eb(Cb(e)),"|lt:").concat(e.limitType)}function Pb(e){return"Query(target=".concat(function(e){var t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=", filters: [".concat(e.filters.map((function(e){return"".concat((t=e).field.canonicalString()," ").concat(t.op," ").concat(Fk(t.value));var t})).join(", "),"]")),Sk(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=", orderBy: [".concat(e.orderBy.map((function(e){return function(e){return"".concat(e.field.canonicalString()," (").concat(e.dir,")")}(e)})).join(", "),"]")),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map((function(e){return Fk(e)})).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map((function(e){return Fk(e)})).join(",")),"Target(".concat(t,")")}(Cb(e)),"; limitType=").concat(e.limitType,")")}function Rb(e,t){return t.isFoundDocument()&&function(e,t){var n=t.key.path;return null!==e.collectionGroup?t.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(n):Pg.isDocumentKey(e.path)?e.path.isEqual(n):e.path.isImmediateParentOf(n)}(e,t)&&function(e,t){var n,r=ka(e.explicitOrderBy);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(!i.field.isKeyField()&&null===t.data.field(i.field))return!1}}catch(a){r.e(a)}finally{r.f()}return!0}(e,t)&&function(e,t){var n,r=ka(e.filters);try{for(r.s();!(n=r.n()).done;){if(!n.value.matches(t))return!1}}catch(i){r.e(i)}finally{r.f()}return!0}(e,t)&&function(e,t){return!(e.startAt&&!function(e,t,n){var r=gb(e,t,n);return e.inclusive?r<=0:r<0}(e.startAt,Tb(e),t))&&!(e.endAt&&!function(e,t,n){var r=gb(e,t,n);return e.inclusive?r>=0:r>0}(e.endAt,Tb(e),t))}(e,t)}function Db(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}function Fb(e){return function(t,n){var r,i=!1,a=ka(Tb(e));try{for(a.s();!(r=a.n()).done;){var o=r.value,u=Lb(o,t,n);if(0!==u)return u;i=i||o.field.isKeyField()}}catch(s){a.e(s)}finally{a.f()}return 0}}function Lb(e,t,n){var r=e.field.isKeyField()?Pg.comparator(t.key,n.key):function(e,t,n){var r=t.data.field(e),i=n.data.field(e);return null!==r&&null!==i?Rk(r,i):ug()}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return ug()}}function jb(e,t){if(e.gt){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Ik(t)?"-0":t}}function Mb(e){return{integerValue:""+e}}function Ub(e,t){return Tk(t)?Mb(t):jb(e,t)}var Vb=v((function e(){d(this,e),this._=void 0}));function qb(e,t,n){return e instanceof Wb?function(e,t){var n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:e.seconds,nanos:e.nanoseconds}}}};return t&&(n.fields.__previous_value__=t),{mapValue:n}}(n,t):e instanceof Kb?Gb(e,t):e instanceof Hb?Qb(e,t):function(e,t){var n=zb(e,t),r=$b(n)+$b(e.yt);return Mk(n)&&Mk(e.yt)?Mb(r):jb(e.It,r)}(e,t)}function Bb(e,t,n){return e instanceof Kb?Gb(e,t):e instanceof Hb?Qb(e,t):n}function zb(e,t){return e instanceof Yb?Mk(n=t)||function(e){return!!e&&"doubleValue"in e}(n)?t:{integerValue:0}:null;var n}var Wb=function(e){m(n,e);var t=x(n);function n(){return d(this,n),t.apply(this,arguments)}return v(n)}(Vb),Kb=function(e){m(n,e);var t=x(n);function n(e){var r;return d(this,n),(r=t.call(this)).elements=e,r}return v(n)}(Vb);function Gb(e,t){var n,r=Jb(t),i=ka(e.elements);try{var a=function(){var e=n.value;r.some((function(t){return Ok(t,e)}))||r.push(e)};for(i.s();!(n=i.n()).done;)a()}catch(o){i.e(o)}finally{i.f()}return{arrayValue:{values:r}}}var Hb=function(e){m(n,e);var t=x(n);function n(e){var r;return d(this,n),(r=t.call(this)).elements=e,r}return v(n)}(Vb);function Qb(e,t){var n,r=Jb(t),i=ka(e.elements);try{var a=function(){var e=n.value;r=r.filter((function(t){return!Ok(t,e)}))};for(i.s();!(n=i.n()).done;)a()}catch(o){i.e(o)}finally{i.f()}return{arrayValue:{values:r}}}var Yb=function(e){m(n,e);var t=x(n);function n(e,r){var i;return d(this,n),(i=t.call(this)).It=e,i.yt=r,i}return v(n)}(Vb);function $b(e){return gk(e.integerValue||e.doubleValue)}function Jb(e){return Uk(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}var Xb=v((function e(t,n){d(this,e),this.field=t,this.transform=n}));var Zb=v((function e(t,n){d(this,e),this.version=t,this.transformResults=n})),ew=function(){function e(t,n){d(this,e),this.updateTime=t,this.exists=n}return v(e,[{key:"isNone",get:function(){return void 0===this.updateTime&&void 0===this.exists}},{key:"isEqual",value:function(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}],[{key:"none",value:function(){return new e}},{key:"exists",value:function(t){return new e(void 0,t)}},{key:"updateTime",value:function(t){return new e(t)}}]),e}();function tw(e,t){return void 0!==e.updateTime?t.isFoundDocument()&&t.version.isEqual(e.updateTime):void 0===e.exists||e.exists===t.isFoundDocument()}var nw=v((function e(){d(this,e)}));function rw(e,t){if(!e.hasLocalMutations||t&&0===t.fields.length)return null;if(null===t)return e.isNoDocument()?new vw(e.key,ew.none()):new sw(e.key,e.data,ew.none());var n,r=e.data,i=Yk.empty(),a=new fk(Og.comparator),o=ka(t.fields);try{for(o.s();!(n=o.n()).done;){var u=n.value;if(!a.has(u)){var s=r.field(u);null===s&&u.length>1&&(u=u.popLast(),s=r.field(u)),null===s?i.delete(u):i.set(u,s),a=a.add(u)}}}catch(c){o.e(c)}finally{o.f()}return new cw(e.key,i,new pk(a.toArray()),ew.none())}function iw(e,t,n){e instanceof sw?function(e,t,n){var r=e.value.clone(),i=fw(e.fieldTransforms,t,n.transformResults);r.setAll(i),t.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(e,t,n):e instanceof cw?function(e,t,n){if(tw(e.precondition,t)){var r=fw(e.fieldTransforms,t,n.transformResults),i=t.data;i.setAll(lw(e)),i.setAll(r),t.convertToFoundDocument(n.version,i).setHasCommittedMutations()}else t.convertToUnknownDocument(n.version)}(e,t,n):function(e,t,n){t.convertToNoDocument(n.version).setHasCommittedMutations()}(0,t,n)}function aw(e,t,n,r){return e instanceof sw?function(e,t,n,r){if(!tw(e.precondition,t))return n;var i=e.value.clone(),a=hw(e.fieldTransforms,r,t);return i.setAll(a),t.convertToFoundDocument(t.version,i).setHasLocalMutations(),null}(e,t,n,r):e instanceof cw?function(e,t,n,r){if(!tw(e.precondition,t))return n;var i=hw(e.fieldTransforms,r,t),a=t.data;return a.setAll(lw(e)),a.setAll(i),t.convertToFoundDocument(t.version,a).setHasLocalMutations(),null===n?null:n.unionWith(e.fieldMask.fields).unionWith(e.fieldTransforms.map((function(e){return e.field})))}(e,t,n,r):function(e,t,n){return tw(e.precondition,t)?(t.convertToNoDocument(t.version).setHasLocalMutations(),null):n}(e,t,n)}function ow(e,t){var n,r=null,i=ka(e.fieldTransforms);try{for(i.s();!(n=i.n()).done;){var a=n.value,o=t.data.field(a.field),u=zb(a.transform,o||null);null!=u&&(null===r&&(r=Yk.empty()),r.set(a.field,u))}}catch(s){i.e(s)}finally{i.f()}return r||null}function uw(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(e,t){return void 0===e&&void 0===t||!(!e||!t)&&Eg(e,t,(function(e,t){return function(e,t){return e.field.isEqual(t.field)&&function(e,t){return e instanceof Kb&&t instanceof Kb||e instanceof Hb&&t instanceof Hb?Eg(e.elements,t.elements,Ok):e instanceof Yb&&t instanceof Yb?Ok(e.yt,t.yt):e instanceof Wb&&t instanceof Wb}(e.transform,t.transform)}(e,t)}))}(e.fieldTransforms,t.fieldTransforms)&&(0===e.type?e.value.isEqual(t.value):1!==e.type||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}var sw=function(e){m(n,e);var t=x(n);function n(e,r,i){var a,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];return d(this,n),(a=t.call(this)).key=e,a.value=r,a.precondition=i,a.fieldTransforms=o,a.type=0,a}return v(n,[{key:"getFieldMask",value:function(){return null}}]),n}(nw),cw=function(e){m(n,e);var t=x(n);function n(e,r,i,a){var o,u=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[];return d(this,n),(o=t.call(this)).key=e,o.data=r,o.fieldMask=i,o.precondition=a,o.fieldTransforms=u,o.type=1,o}return v(n,[{key:"getFieldMask",value:function(){return this.fieldMask}}]),n}(nw);function lw(e){var t=new Map;return e.fieldMask.fields.forEach((function(n){if(!n.isEmpty()){var r=e.data.field(n);t.set(n,r)}})),t}function fw(e,t,n){var r=new Map;sg(e.length===n.length);for(var i=0;i<n.length;i++){var a=e[i],o=a.transform,u=t.data.field(a.field);r.set(a.field,Bb(o,u,n[i]))}return r}function hw(e,t,n){var r,i=new Map,a=ka(e);try{for(a.s();!(r=a.n()).done;){var o=r.value,u=o.transform,s=n.data.field(o.field);i.set(o.field,qb(u,s,t))}}catch(c){a.e(c)}finally{a.f()}return i}var dw,pw,vw=function(e){m(n,e);var t=x(n);function n(e,r){var i;return d(this,n),(i=t.call(this)).key=e,i.precondition=r,i.type=2,i.fieldTransforms=[],i}return v(n,[{key:"getFieldMask",value:function(){return null}}]),n}(nw),yw=function(e){m(n,e);var t=x(n);function n(e,r){var i;return d(this,n),(i=t.call(this)).key=e,i.precondition=r,i.type=3,i.fieldTransforms=[],i}return v(n,[{key:"getFieldMask",value:function(){return null}}]),n}(nw),mw=v((function e(t){d(this,e),this.count=t}));function gw(e){switch(e){default:return ug();case lg.CANCELLED:case lg.UNKNOWN:case lg.DEADLINE_EXCEEDED:case lg.RESOURCE_EXHAUSTED:case lg.INTERNAL:case lg.UNAVAILABLE:case lg.UNAUTHENTICATED:return!1;case lg.INVALID_ARGUMENT:case lg.NOT_FOUND:case lg.ALREADY_EXISTS:case lg.PERMISSION_DENIED:case lg.FAILED_PRECONDITION:case lg.ABORTED:case lg.OUT_OF_RANGE:case lg.UNIMPLEMENTED:case lg.DATA_LOSS:return!0}}function kw(e){if(void 0===e)return ig("GRPC error has no .code"),lg.UNKNOWN;switch(e){case dw.OK:return lg.OK;case dw.CANCELLED:return lg.CANCELLED;case dw.UNKNOWN:return lg.UNKNOWN;case dw.DEADLINE_EXCEEDED:return lg.DEADLINE_EXCEEDED;case dw.RESOURCE_EXHAUSTED:return lg.RESOURCE_EXHAUSTED;case dw.INTERNAL:return lg.INTERNAL;case dw.UNAVAILABLE:return lg.UNAVAILABLE;case dw.UNAUTHENTICATED:return lg.UNAUTHENTICATED;case dw.INVALID_ARGUMENT:return lg.INVALID_ARGUMENT;case dw.NOT_FOUND:return lg.NOT_FOUND;case dw.ALREADY_EXISTS:return lg.ALREADY_EXISTS;case dw.PERMISSION_DENIED:return lg.PERMISSION_DENIED;case dw.FAILED_PRECONDITION:return lg.FAILED_PRECONDITION;case dw.ABORTED:return lg.ABORTED;case dw.OUT_OF_RANGE:return lg.OUT_OF_RANGE;case dw.UNIMPLEMENTED:return lg.UNIMPLEMENTED;case dw.DATA_LOSS:return lg.DATA_LOSS;default:return ug()}}(pw=dw||(dw={}))[pw.OK=0]="OK",pw[pw.CANCELLED=1]="CANCELLED",pw[pw.UNKNOWN=2]="UNKNOWN",pw[pw.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",pw[pw.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",pw[pw.NOT_FOUND=5]="NOT_FOUND",pw[pw.ALREADY_EXISTS=6]="ALREADY_EXISTS",pw[pw.PERMISSION_DENIED=7]="PERMISSION_DENIED",pw[pw.UNAUTHENTICATED=16]="UNAUTHENTICATED",pw[pw.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",pw[pw.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",pw[pw.ABORTED=10]="ABORTED",pw[pw.OUT_OF_RANGE=11]="OUT_OF_RANGE",pw[pw.UNIMPLEMENTED=12]="UNIMPLEMENTED",pw[pw.INTERNAL=13]="INTERNAL",pw[pw.UNAVAILABLE=14]="UNAVAILABLE",pw[pw.DATA_LOSS=15]="DATA_LOSS";var bw=function(){function e(t,n){d(this,e),this.mapKeyFn=t,this.equalsFn=n,this.inner={},this.innerSize=0}return v(e,[{key:"get",value:function(e){var t=this.mapKeyFn(e),n=this.inner[t];if(void 0!==n){var r,i=ka(n);try{for(i.s();!(r=i.n()).done;){var a=l(r.value,2),o=a[0],u=a[1];if(this.equalsFn(o,e))return u}}catch(s){i.e(s)}finally{i.f()}}}},{key:"has",value:function(e){return void 0!==this.get(e)}},{key:"set",value:function(e,t){var n=this.mapKeyFn(e),r=this.inner[n];if(void 0===r)return this.inner[n]=[[e,t]],void this.innerSize++;for(var i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return void(r[i]=[e,t]);r.push([e,t]),this.innerSize++}},{key:"delete",value:function(e){var t=this.mapKeyFn(e),n=this.inner[t];if(void 0===n)return!1;for(var r=0;r<n.length;r++)if(this.equalsFn(n[r][0],e))return 1===n.length?delete this.inner[t]:n.splice(r,1),this.innerSize--,!0;return!1}},{key:"forEach",value:function(e){ok(this.inner,(function(t,n){var r,i=ka(n);try{for(i.s();!(r=i.n()).done;){var a=l(r.value,2),o=a[0],u=a[1];e(o,u)}}catch(s){i.e(s)}finally{i.f()}}))}},{key:"isEmpty",value:function(){return uk(this.inner)}},{key:"size",value:function(){return this.innerSize}}]),e}(),ww=new sk(Pg.comparator);function _w(){return ww}var xw=new sk(Pg.comparator);function Ew(){for(var e=xw,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var i=0,a=n;i<a.length;i++){var o=a[i];e=e.insert(o.key,o)}return e}function Sw(e){var t=xw;return e.forEach((function(e,n){return t=t.insert(e,n.overlayedDocument)})),t}function Iw(){return Cw()}function Tw(){return Cw()}function Cw(){return new bw((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)}))}var Nw=new sk(Pg.comparator),Aw=new fk(Pg.comparator);function Ow(){for(var e=Aw,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var i=0,a=n;i<a.length;i++){var o=a[i];e=e.add(o)}return e}var Pw=new fk(xg);function Rw(){return Pw}var Dw=function(){function e(t,n,r,i,a){d(this,e),this.snapshotVersion=t,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=a}return v(e,null,[{key:"createSynthesizedRemoteEventForCurrentChange",value:function(t,n){var r=new Map;return r.set(t,Fw.createSynthesizedTargetChangeForCurrentChange(t,n)),new e(Tg.min(),r,Rw(),_w(),Ow())}}]),e}(),Fw=function(){function e(t,n,r,i,a){d(this,e),this.resumeToken=t,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=a}return v(e,null,[{key:"createSynthesizedTargetChangeForCurrentChange",value:function(t,n){return new e(vk.EMPTY_BYTE_STRING,n,Ow(),Ow(),Ow())}}]),e}(),Lw=v((function e(t,n,r,i){d(this,e),this.Tt=t,this.removedTargetIds=n,this.key=r,this.Et=i})),jw=v((function e(t,n){d(this,e),this.targetId=t,this.At=n})),Mw=v((function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:vk.EMPTY_BYTE_STRING,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;d(this,e),this.state=t,this.targetIds=n,this.resumeToken=r,this.cause=i})),Uw=function(){function e(){d(this,e),this.Rt=0,this.bt=Bw(),this.Pt=vk.EMPTY_BYTE_STRING,this.vt=!1,this.Vt=!0}return v(e,[{key:"current",get:function(){return this.vt}},{key:"resumeToken",get:function(){return this.Pt}},{key:"St",get:function(){return 0!==this.Rt}},{key:"Dt",get:function(){return this.Vt}},{key:"Ct",value:function(e){e.approximateByteSize()>0&&(this.Vt=!0,this.Pt=e)}},{key:"xt",value:function(){var e=Ow(),t=Ow(),n=Ow();return this.bt.forEach((function(r,i){switch(i){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:n=n.add(r);break;default:ug()}})),new Fw(this.Pt,this.vt,e,t,n)}},{key:"Nt",value:function(){this.Vt=!1,this.bt=Bw()}},{key:"kt",value:function(e,t){this.Vt=!0,this.bt=this.bt.insert(e,t)}},{key:"Mt",value:function(e){this.Vt=!0,this.bt=this.bt.remove(e)}},{key:"Ot",value:function(){this.Rt+=1}},{key:"Ft",value:function(){this.Rt-=1}},{key:"$t",value:function(){this.Vt=!0,this.vt=!0}}]),e}(),Vw=function(){function e(t){d(this,e),this.Bt=t,this.Lt=new Map,this.Ut=_w(),this.qt=qw(),this.Kt=new fk(xg)}return v(e,[{key:"Gt",value:function(e){var t,n=ka(e.Tt);try{for(n.s();!(t=n.n()).done;){var r=t.value;e.Et&&e.Et.isFoundDocument()?this.Qt(r,e.Et):this.jt(r,e.key,e.Et)}}catch(u){n.e(u)}finally{n.f()}var i,a=ka(e.removedTargetIds);try{for(a.s();!(i=a.n()).done;){var o=i.value;this.jt(o,e.key,e.Et)}}catch(u){a.e(u)}finally{a.f()}}},{key:"Wt",value:function(e){var t=this;this.forEachTarget(e,(function(n){var r=t.zt(n);switch(e.state){case 0:t.Ht(n)&&r.Ct(e.resumeToken);break;case 1:r.Ft(),r.St||r.Nt(),r.Ct(e.resumeToken);break;case 2:r.Ft(),r.St||t.removeTarget(n);break;case 3:t.Ht(n)&&(r.$t(),r.Ct(e.resumeToken));break;case 4:t.Ht(n)&&(t.Jt(n),r.Ct(e.resumeToken));break;default:ug()}}))}},{key:"forEachTarget",value:function(e,t){var n=this;e.targetIds.length>0?e.targetIds.forEach(t):this.Lt.forEach((function(e,r){n.Ht(r)&&t(r)}))}},{key:"Yt",value:function(e){var t=e.targetId,n=e.At.count,r=this.Xt(t);if(r){var i=r.target;if(nb(i))if(0===n){var a=new Pg(i.path);this.jt(t,a,Jk.newNoDocument(a,Tg.min()))}else sg(1===n);else this.Zt(t)!==n&&(this.Jt(t),this.Kt=this.Kt.add(t))}}},{key:"te",value:function(e){var t=this,n=new Map;this.Lt.forEach((function(r,i){var a=t.Xt(i);if(a){if(r.current&&nb(a.target)){var o=new Pg(a.target.path);null!==t.Ut.get(o)||t.ee(i,o)||t.jt(i,o,Jk.newNoDocument(o,e))}r.Dt&&(n.set(i,r.xt()),r.Nt())}}));var r=Ow();this.qt.forEach((function(e,n){var i=!0;n.forEachWhile((function(e){var n=t.Xt(e);return!n||2===n.purpose||(i=!1,!1)})),i&&(r=r.add(e))})),this.Ut.forEach((function(t,n){return n.setReadTime(e)}));var i=new Dw(e,n,this.Kt,this.Ut,r);return this.Ut=_w(),this.qt=qw(),this.Kt=new fk(xg),i}},{key:"Qt",value:function(e,t){if(this.Ht(e)){var n=this.ee(e,t.key)?2:0;this.zt(e).kt(t.key,n),this.Ut=this.Ut.insert(t.key,t),this.qt=this.qt.insert(t.key,this.ne(t.key).add(e))}}},{key:"jt",value:function(e,t,n){if(this.Ht(e)){var r=this.zt(e);this.ee(e,t)?r.kt(t,1):r.Mt(t),this.qt=this.qt.insert(t,this.ne(t).delete(e)),n&&(this.Ut=this.Ut.insert(t,n))}}},{key:"removeTarget",value:function(e){this.Lt.delete(e)}},{key:"Zt",value:function(e){var t=this.zt(e).xt();return this.Bt.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}},{key:"Ot",value:function(e){this.zt(e).Ot()}},{key:"zt",value:function(e){var t=this.Lt.get(e);return t||(t=new Uw,this.Lt.set(e,t)),t}},{key:"ne",value:function(e){var t=this.qt.get(e);return t||(t=new fk(xg),this.qt=this.qt.insert(e,t)),t}},{key:"Ht",value:function(e){var t=null!==this.Xt(e);return t||rg("WatchChangeAggregator","Detected inactive target",e),t}},{key:"Xt",value:function(e){var t=this.Lt.get(e);return t&&t.St?null:this.Bt.se(e)}},{key:"Jt",value:function(e){var t=this;this.Lt.set(e,new Uw),this.Bt.getRemoteKeysForTarget(e).forEach((function(n){t.jt(e,n,null)}))}},{key:"ee",value:function(e,t){return this.Bt.getRemoteKeysForTarget(e).has(t)}}]),e}();function qw(){return new sk(Pg.comparator)}function Bw(){return new sk(Pg.comparator)}var zw={asc:"ASCENDING",desc:"DESCENDING"},Ww={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Kw=v((function e(t,n){d(this,e),this.databaseId=t,this.gt=n}));function Gw(e,t){return e.gt?"".concat(new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z",""),".").concat(("000000000"+t.nanoseconds).slice(-9),"Z"):{seconds:""+t.seconds,nanos:t.nanoseconds}}function Hw(e,t){return e.gt?t.toBase64():t.toUint8Array()}function Qw(e,t){return Gw(e,t.toTimestamp())}function Yw(e){return sg(!!e),Tg.fromTimestamp(function(e){var t=mk(e);return new Ig(t.seconds,t.nanos)}(e))}function $w(e,t){return function(e){return new Ng(["projects",e.projectId,"databases",e.database])}(e).child("documents").child(t).canonicalString()}function Jw(e){var t=Ng.fromString(e);return sg(b_(t)),t}function Xw(e,t){return $w(e.databaseId,t.path)}function Zw(e,t){var n=Jw(t);if(n.get(1)!==e.databaseId.projectId)throw new fg(lg.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new fg(lg.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new Pg(r_(n))}function e_(e,t){return $w(e.databaseId,t)}function t_(e){var t=Jw(e);return 4===t.length?Ng.emptyPath():r_(t)}function n_(e){return new Ng(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function r_(e){return sg(e.length>4&&"documents"===e.get(4)),e.popFirst(5)}function i_(e,t,n){return{name:Xw(e,t),fields:n.value.mapValue.fields}}function a_(e,t,n){var r=Zw(e,t.name),i=Yw(t.updateTime),a=new Yk({mapValue:{fields:t.fields}}),o=Jk.newFoundDocument(r,i,a);return n&&o.setHasCommittedMutations(),n?o.setHasCommittedMutations():o}function o_(e,t){return"found"in t?function(e,t){sg(!!t.found),t.found.name,t.found.updateTime;var n=Zw(e,t.found.name),r=Yw(t.found.updateTime),i=new Yk({mapValue:{fields:t.found.fields}});return Jk.newFoundDocument(n,r,i)}(e,t):"missing"in t?function(e,t){sg(!!t.missing),sg(!!t.readTime);var n=Zw(e,t.missing),r=Yw(t.readTime);return Jk.newNoDocument(n,r)}(e,t):ug()}function u_(e,t){var n;if(t instanceof sw)n={update:i_(e,t.key,t.value)};else if(t instanceof vw)n={delete:Xw(e,t.key)};else if(t instanceof cw)n={update:i_(e,t.key,t.data),updateMask:k_(t.fieldMask)};else{if(!(t instanceof yw))return ug();n={verify:Xw(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map((function(e){return function(e,t){var n=t.transform;if(n instanceof Wb)return{fieldPath:t.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof Kb)return{fieldPath:t.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof Hb)return{fieldPath:t.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof Yb)return{fieldPath:t.field.canonicalString(),increment:n.yt};throw ug()}(0,e)}))),t.precondition.isNone||(n.currentDocument=function(e,t){return void 0!==t.updateTime?{updateTime:Qw(e,t.updateTime)}:void 0!==t.exists?{exists:t.exists}:ug()}(e,t.precondition)),n}function s_(e,t){var n=t.currentDocument?function(e){return void 0!==e.updateTime?ew.updateTime(Yw(e.updateTime)):void 0!==e.exists?ew.exists(e.exists):ew.none()}(t.currentDocument):ew.none(),r=t.updateTransforms?t.updateTransforms.map((function(t){return function(e,t){var n=null;if("setToServerValue"in t)sg("REQUEST_TIME"===t.setToServerValue),n=new Wb;else if("appendMissingElements"in t){var r=t.appendMissingElements.values||[];n=new Kb(r)}else if("removeAllFromArray"in t){var i=t.removeAllFromArray.values||[];n=new Hb(i)}else"increment"in t?n=new Yb(e,t.increment):ug();var a=Og.fromServerFormat(t.fieldPath);return new Xb(a,n)}(e,t)})):[];if(t.update){t.update.name;var i=Zw(e,t.update.name),a=new Yk({mapValue:{fields:t.update.fields}});if(t.updateMask){var o=function(e){var t=e.fieldPaths||[];return new pk(t.map((function(e){return Og.fromServerFormat(e)})))}(t.updateMask);return new cw(i,a,o,n,r)}return new sw(i,a,n,r)}if(t.delete){var u=Zw(e,t.delete);return new vw(u,n)}if(t.verify){var s=Zw(e,t.verify);return new yw(s,n)}return ug()}function c_(e,t){return{documents:[e_(e,t.path)]}}function l_(e,t){var n={structuredQuery:{}},r=t.path;null!==t.collectionGroup?(n.parent=e_(e,r),n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(n.parent=e_(e,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);var i=function(e){if(0!==e.length){var t=e.map((function(e){return function(e){if("=="===e.op){if(qk(e.value))return{unaryFilter:{field:v_(e.field),op:"IS_NAN"}};if(Vk(e.value))return{unaryFilter:{field:v_(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(qk(e.value))return{unaryFilter:{field:v_(e.field),op:"IS_NOT_NAN"}};if(Vk(e.value))return{unaryFilter:{field:v_(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:v_(e.field),op:p_(e.op),value:e.value}}}(e)}));return 1===t.length?t[0]:{compositeFilter:{op:"AND",filters:t}}}}(t.filters);i&&(n.structuredQuery.where=i);var a=function(e){if(0!==e.length)return e.map((function(e){return function(e){return{field:v_(e.field),direction:d_(e.dir)}}(e)}))}(t.orderBy);a&&(n.structuredQuery.orderBy=a);var o,u=function(e,t){return e.gt||Sk(t)?t:{value:t}}(e,t.limit);return null!==u&&(n.structuredQuery.limit=u),t.startAt&&(n.structuredQuery.startAt={before:(o=t.startAt).inclusive,values:o.position}),t.endAt&&(n.structuredQuery.endAt=function(e){return{before:!e.inclusive,values:e.position}}(t.endAt)),n}function f_(e){var t=t_(e.parent),n=e.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){sg(1===r);var a=n.from[0];a.allDescendants?i=a.collectionId:t=t.child(a.collectionId)}var o=[];n.where&&(o=h_(n.where));var u=[];n.orderBy&&(u=n.orderBy.map((function(e){return function(e){return new yb(y_(e.field),function(e){switch(e){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(e.direction))}(e)})));var s=null;n.limit&&(s=function(e){var t;return Sk(t="object"==typeof e?e.value:e)?null:t}(n.limit));var c=null;n.startAt&&(c=function(e){var t=!!e.before,n=e.values||[];return new vb(n,t)}(n.startAt));var l=null;return n.endAt&&(l=function(e){var t=!e.before,n=e.values||[];return new vb(n,t)}(n.endAt)),wb(t,i,u,o,s,"F",c,l)}function h_(e){return e?void 0!==e.unaryFilter?[g_(e)]:void 0!==e.fieldFilter?[m_(e)]:void 0!==e.compositeFilter?e.compositeFilter.filters.map((function(e){return h_(e)})).reduce((function(e,t){return e.concat(t)})):ug():[]}function d_(e){return zw[e]}function p_(e){return Ww[e]}function v_(e){return{fieldPath:e.canonicalString()}}function y_(e){return Og.fromServerFormat(e.fieldPath)}function m_(e){return ob.create(y_(e.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return ug()}}(e.fieldFilter.op),e.fieldFilter.value)}function g_(e){switch(e.unaryFilter.op){case"IS_NAN":var t=y_(e.unaryFilter.field);return ob.create(t,"==",{doubleValue:NaN});case"IS_NULL":var n=y_(e.unaryFilter.field);return ob.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":var r=y_(e.unaryFilter.field);return ob.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":var i=y_(e.unaryFilter.field);return ob.create(i,"!=",{nullValue:"NULL_VALUE"});default:return ug()}}function k_(e){var t=[];return e.fields.forEach((function(e){return t.push(e.canonicalString())})),{fieldPaths:t}}function b_(e){return e.length>=4&&"projects"===e.get(0)&&"databases"===e.get(2)}function w_(e){for(var t="",n=0;n<e.length;n++)t.length>0&&(t=x_(t)),t=__(e.get(n),t);return x_(t)}function __(e,t){for(var n=t,r=e.length,i=0;i<r;i++){var a=e.charAt(i);switch(a){case"\0":n+="\x01\x10";break;case"\x01":n+="\x01\x11";break;default:n+=a}}return n}function x_(e){return e+"\x01\x01"}function E_(e){var t=e.length;if(sg(t>=2),2===t)return sg("\x01"===e.charAt(0)&&"\x01"===e.charAt(1)),Ng.emptyPath();for(var n=t-2,r=[],i="",a=0;a<t;){var o=e.indexOf("\x01",a);switch((o<0||o>n)&&ug(),e.charAt(o+1)){case"\x01":var u=e.substring(a,o),s=void 0;0===i.length?s=u:(s=i+=u,i=""),r.push(s);break;case"\x10":i+=e.substring(a,o),i+="\0";break;case"\x11":i+=e.substring(a,o+1);break;default:ug()}a=o+2}return new Ng(r)}var S_=["userId","batchId"];function I_(e,t){return[e,w_(t)]}function T_(e,t,n){return[e,w_(t),n]}var C_={},N_=["prefixPath","collectionGroup","readTime","documentId"],A_=["prefixPath","collectionGroup","documentId"],O_=["collectionGroup","readTime","prefixPath","documentId"],P_=["canonicalId","targetId"],R_=["targetId","path"],D_=["path","targetId"],F_=["collectionId","parent"],L_=["indexId","uid"],j_=["uid","sequenceNumber"],M_=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],U_=["indexId","uid","orderedDocumentKey"],V_=["userId","collectionPath","documentId"],q_=["userId","collectionPath","largestBatchId"],B_=["userId","collectionGroup","largestBatchId"],z_=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments"].concat(["clientMetadata"]).concat(["remoteDocumentGlobal"]).concat(["collectionParents"]).concat(["bundles","namedQueries"]),W_=[].concat(h(z_),["documentOverlays"]),K_=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],G_=K_,H_=[].concat(G_,["indexConfiguration","indexState","indexEntries"]),Q_=function(e){m(n,e);var t=x(n);function n(e,r){var i;return d(this,n),(i=t.call(this)).ie=e,i.currentSequenceNumber=r,i}return v(n)}(zg);function Y_(e,t){var n=cg(e);return Qg.O(n.ie,t)}var $_=function(){function e(t,n,r,i){d(this,e),this.batchId=t,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}return v(e,[{key:"applyToRemoteDocument",value:function(e,t){for(var n=t.mutationResults,r=0;r<this.mutations.length;r++){var i=this.mutations[r];i.key.isEqual(e.key)&&iw(i,e,n[r])}}},{key:"applyToLocalView",value:function(e,t){var n,r=ka(this.baseMutations);try{for(r.s();!(n=r.n()).done;){var i=n.value;i.key.isEqual(e.key)&&(t=aw(i,e,t,this.localWriteTime))}}catch(s){r.e(s)}finally{r.f()}var a,o=ka(this.mutations);try{for(o.s();!(a=o.n()).done;){var u=a.value;u.key.isEqual(e.key)&&(t=aw(u,e,t,this.localWriteTime))}}catch(s){o.e(s)}finally{o.f()}return t}},{key:"applyToLocalDocumentSet",value:function(e,t){var n=this,r=Tw();return this.mutations.forEach((function(i){var a=e.get(i.key),o=a.overlayedDocument,u=n.applyToLocalView(o,a.mutatedFields),s=rw(o,u=t.has(i.key)?null:u);null!==s&&r.set(i.key,s),o.isValidDocument()||o.convertToNoDocument(Tg.min())})),r}},{key:"keys",value:function(){return this.mutations.reduce((function(e,t){return e.add(t.key)}),Ow())}},{key:"isEqual",value:function(e){return this.batchId===e.batchId&&Eg(this.mutations,e.mutations,(function(e,t){return uw(e,t)}))&&Eg(this.baseMutations,e.baseMutations,(function(e,t){return uw(e,t)}))}}]),e}(),J_=function(){function e(t,n,r,i){d(this,e),this.batch=t,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}return v(e,null,[{key:"from",value:function(t,n,r){sg(t.mutations.length===r.length);for(var i=Nw,a=t.mutations,o=0;o<a.length;o++)i=i.insert(a[o].key,r[o].version);return new e(t,n,r,i)}}]),e}(),X_=function(){function e(t,n){d(this,e),this.largestBatchId=t,this.mutation=n}return v(e,[{key:"getKey",value:function(){return this.mutation.key}},{key:"isEqual",value:function(e){return null!==e&&this.mutation===e.mutation}},{key:"toString",value:function(){return"Overlay{\n      largestBatchId: ".concat(this.largestBatchId,",\n      mutation: ").concat(this.mutation.toString(),"\n    }")}}]),e}(),Z_=function(){function e(t,n,r,i){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:Tg.min(),o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:Tg.min(),u=arguments.length>6&&void 0!==arguments[6]?arguments[6]:vk.EMPTY_BYTE_STRING;d(this,e),this.target=t,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=u}return v(e,[{key:"withSequenceNumber",value:function(t){return new e(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}},{key:"withResumeToken",value:function(t,n){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t)}},{key:"withLastLimboFreeSnapshotVersion",value:function(t){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken)}}]),e}(),ex=v((function e(t){d(this,e),this.re=t}));function tx(e,t){var n=t.key,r={prefixPath:n.getCollectionPath().popLast().toArray(),collectionGroup:n.collectionGroup,documentId:n.path.lastSegment(),readTime:nx(t.readTime),hasCommittedMutations:t.hasCommittedMutations};if(t.isFoundDocument())r.document=function(e,t){return{name:Xw(e,t.key),fields:t.data.value.mapValue.fields,updateTime:Gw(e,t.version.toTimestamp())}}(e.re,t);else if(t.isNoDocument())r.noDocument={path:n.path.toArray(),readTime:rx(t.version)};else{if(!t.isUnknownDocument())return ug();r.unknownDocument={path:n.path.toArray(),version:rx(t.version)}}return r}function nx(e){var t=e.toTimestamp();return[t.seconds,t.nanoseconds]}function rx(e){var t=e.toTimestamp();return{seconds:t.seconds,nanoseconds:t.nanoseconds}}function ix(e){var t=new Ig(e.seconds,e.nanoseconds);return Tg.fromTimestamp(t)}function ax(e,t){for(var n=(t.baseMutations||[]).map((function(t){return s_(e.re,t)})),r=0;r<t.mutations.length-1;++r){var i=t.mutations[r];if(r+1<t.mutations.length&&void 0!==t.mutations[r+1].transform){var a=t.mutations[r+1];i.updateTransforms=a.transform.fieldTransforms,t.mutations.splice(r+1,1),++r}}var o=t.mutations.map((function(t){return s_(e.re,t)})),u=Ig.fromMillis(t.localWriteTimeMs);return new $_(t.batchId,u,n,o)}function ox(e){var t,n,r=ix(e.readTime),i=void 0!==e.lastLimboFreeSnapshotVersion?ix(e.lastLimboFreeSnapshotVersion):Tg.min();return void 0!==e.query.documents?(sg(1===(n=e.query).documents.length),t=Cb(_b(t_(n.documents[0])))):t=function(e){return Cb(f_(e))}(e.query),new Z_(t,e.targetId,0,e.lastListenSequenceNumber,r,i,vk.fromBase64String(e.resumeToken))}function ux(e,t){var n,r=rx(t.snapshotVersion),i=rx(t.lastLimboFreeSnapshotVersion);n=nb(t.target)?c_(e.re,t.target):l_(e.re,t.target);var a=t.resumeToken.toBase64();return{targetId:t.targetId,canonicalId:eb(t.target),readTime:r,resumeToken:a,lastListenSequenceNumber:t.sequenceNumber,lastLimboFreeSnapshotVersion:i,query:n}}function sx(e){var t=f_({parent:e.parent,structuredQuery:e.structuredQuery});return"LAST"===e.limitType?Nb(t,t.limit,"L"):t}function cx(e,t){return new X_(t.largestBatchId,s_(e.re,t.overlayMutation))}function lx(e,t){var n=t.path.lastSegment();return[e,w_(t.path.popLast()),n]}function fx(e,t,n,r){return{indexId:e,uid:t.uid||"",sequenceNumber:n,readTime:rx(r.readTime),documentKey:w_(r.documentKey.path),largestBatchId:r.largestBatchId}}var hx=function(){function e(){d(this,e)}return v(e,[{key:"getBundleMetadata",value:function(e,t){return dx(e).get(t).next((function(e){if(e)return{id:(t=e).bundleId,createTime:ix(t.createTime),version:t.version};var t}))}},{key:"saveBundleMetadata",value:function(e,t){return dx(e).put({bundleId:(n=t).id,createTime:rx(Yw(n.createTime)),version:n.version});var n}},{key:"getNamedQuery",value:function(e,t){return px(e).get(t).next((function(e){if(e)return{name:(t=e).name,query:sx(t.bundledQuery),readTime:ix(t.readTime)};var t}))}},{key:"saveNamedQuery",value:function(e,t){return px(e).put(function(e){return{name:e.name,readTime:rx(Yw(e.readTime)),bundledQuery:e.bundledQuery}}(t))}}]),e}();function dx(e){return Y_(e,"bundles")}function px(e){return Y_(e,"namedQueries")}var vx=function(){function e(t,n){d(this,e),this.It=t,this.userId=n}return v(e,[{key:"getOverlay",value:function(e,t){var n=this;return yx(e).get(lx(this.userId,t)).next((function(e){return e?cx(n.It,e):null}))}},{key:"getOverlays",value:function(e,t){var n=this,r=Iw();return Gg.forEach(t,(function(t){return n.getOverlay(e,t).next((function(e){null!==e&&r.set(t,e)}))})).next((function(){return r}))}},{key:"saveOverlays",value:function(e,t,n){var r=this,i=[];return n.forEach((function(n,a){var o=new X_(t,a);i.push(r.ue(e,o))})),Gg.waitFor(i)}},{key:"removeOverlaysForBatchId",value:function(e,t,n){var r=this,i=new Set;t.forEach((function(e){return i.add(w_(e.getCollectionPath()))}));var a=[];return i.forEach((function(t){var i=IDBKeyRange.bound([r.userId,t,n],[r.userId,t,n+1],!1,!0);a.push(yx(e).Y("collectionPathOverlayIndex",i))})),Gg.waitFor(a)}},{key:"getOverlaysForCollection",value:function(e,t,n){var r=this,i=Iw(),a=w_(t),o=IDBKeyRange.bound([this.userId,a,n],[this.userId,a,Number.POSITIVE_INFINITY],!0);return yx(e).W("collectionPathOverlayIndex",o).next((function(e){var t,n=ka(e);try{for(n.s();!(t=n.n()).done;){var a=t.value,o=cx(r.It,a);i.set(o.getKey(),o)}}catch(u){n.e(u)}finally{n.f()}return i}))}},{key:"getOverlaysForCollectionGroup",value:function(e,t,n,r){var i,a=this,o=Iw(),u=IDBKeyRange.bound([this.userId,t,n],[this.userId,t,Number.POSITIVE_INFINITY],!0);return yx(e).Z({index:"collectionGroupOverlayIndex",range:u},(function(e,t,n){var u=cx(a.It,t);o.size()<r||u.largestBatchId===i?(o.set(u.getKey(),u),i=u.largestBatchId):n.done()})).next((function(){return o}))}},{key:"ue",value:function(e,t){return yx(e).put(function(e,t,n){var r=l(lx(t,n.mutation.key),3);r[0];return{userId:t,collectionPath:r[1],documentId:r[2],collectionGroup:n.mutation.key.getCollectionGroup(),largestBatchId:n.largestBatchId,overlayMutation:u_(e.re,n.mutation)}}(this.It,this.userId,t))}}],[{key:"oe",value:function(t,n){return new e(t,n.uid||"")}}]),e}();function yx(e){return Y_(e,"documentOverlays")}var mx=function(){function e(){d(this,e)}return v(e,[{key:"ce",value:function(e,t){this.ae(e,t),t.he()}},{key:"ae",value:function(e,t){if("nullValue"in e)this.le(t,5);else if("booleanValue"in e)this.le(t,10),t.fe(e.booleanValue?1:0);else if("integerValue"in e)this.le(t,15),t.fe(gk(e.integerValue));else if("doubleValue"in e){var n=gk(e.doubleValue);isNaN(n)?this.le(t,13):(this.le(t,15),Ik(n)?t.fe(0):t.fe(n))}else if("timestampValue"in e){var r=e.timestampValue;this.le(t,20),"string"==typeof r?t.de(r):(t.de("".concat(r.seconds||"")),t.fe(r.nanos||0))}else if("stringValue"in e)this._e(e.stringValue,t),this.we(t);else if("bytesValue"in e)this.le(t,30),t.me(kk(e.bytesValue)),this.we(t);else if("referenceValue"in e)this.ge(e.referenceValue,t);else if("geoPointValue"in e){var i=e.geoPointValue;this.le(t,45),t.fe(i.latitude||0),t.fe(i.longitude||0)}else"mapValue"in e?Wk(e)?this.le(t,Number.MAX_SAFE_INTEGER):(this.ye(e.mapValue,t),this.we(t)):"arrayValue"in e?(this.pe(e.arrayValue,t),this.we(t)):ug()}},{key:"_e",value:function(e,t){this.le(t,25),this.Ie(e,t)}},{key:"Ie",value:function(e,t){t.de(e)}},{key:"ye",value:function(e,t){var n=e.fields||{};this.le(t,55);for(var r=0,i=Object.keys(n);r<i.length;r++){var a=i[r];this._e(a,t),this.ae(n[a],t)}}},{key:"pe",value:function(e,t){var n=e.values||[];this.le(t,50);var r,i=ka(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;this.ae(a,t)}}catch(o){i.e(o)}finally{i.f()}}},{key:"ge",value:function(e,t){var n=this;this.le(t,37),Pg.fromName(e).path.forEach((function(e){n.le(t,60),n.Ie(e,t)}))}},{key:"le",value:function(e,t){e.fe(t)}},{key:"we",value:function(e){e.fe(2)}}]),e}();function gx(e){if(0===e)return 8;var t=0;return e>>4==0&&(t+=4,e<<=4),e>>6==0&&(t+=2,e<<=2),e>>7==0&&(t+=1),t}function kx(e){var t=64-function(e){for(var t=0,n=0;n<8;++n){var r=gx(255&e[n]);if(t+=r,8!==r)break}return t}(e);return Math.ceil(t/8)}mx.Te=new mx;var bx=function(){function e(){d(this,e),this.buffer=new Uint8Array(1024),this.position=0}return v(e,[{key:"Ee",value:function(e){for(var t=e[Symbol.iterator](),n=t.next();!n.done;)this.Ae(n.value),n=t.next();this.Re()}},{key:"be",value:function(e){for(var t=e[Symbol.iterator](),n=t.next();!n.done;)this.Pe(n.value),n=t.next();this.ve()}},{key:"Ve",value:function(e){var t,n=ka(e);try{for(n.s();!(t=n.n()).done;){var r=t.value,i=r.charCodeAt(0);if(i<128)this.Ae(i);else if(i<2048)this.Ae(960|i>>>6),this.Ae(128|63&i);else if(r<"\ud800"||"\udbff"<r)this.Ae(480|i>>>12),this.Ae(128|63&i>>>6),this.Ae(128|63&i);else{var a=r.codePointAt(0);this.Ae(240|a>>>18),this.Ae(128|63&a>>>12),this.Ae(128|63&a>>>6),this.Ae(128|63&a)}}}catch(o){n.e(o)}finally{n.f()}this.Re()}},{key:"Se",value:function(e){var t,n=ka(e);try{for(n.s();!(t=n.n()).done;){var r=t.value,i=r.charCodeAt(0);if(i<128)this.Pe(i);else if(i<2048)this.Pe(960|i>>>6),this.Pe(128|63&i);else if(r<"\ud800"||"\udbff"<r)this.Pe(480|i>>>12),this.Pe(128|63&i>>>6),this.Pe(128|63&i);else{var a=r.codePointAt(0);this.Pe(240|a>>>18),this.Pe(128|63&a>>>12),this.Pe(128|63&a>>>6),this.Pe(128|63&a)}}}catch(o){n.e(o)}finally{n.f()}this.ve()}},{key:"De",value:function(e){var t=this.Ce(e),n=kx(t);this.xe(1+n),this.buffer[this.position++]=255&n;for(var r=t.length-n;r<t.length;++r)this.buffer[this.position++]=255&t[r]}},{key:"Ne",value:function(e){var t=this.Ce(e),n=kx(t);this.xe(1+n),this.buffer[this.position++]=~(255&n);for(var r=t.length-n;r<t.length;++r)this.buffer[this.position++]=~(255&t[r])}},{key:"ke",value:function(){this.Me(255),this.Me(255)}},{key:"Oe",value:function(){this.Fe(255),this.Fe(255)}},{key:"reset",value:function(){this.position=0}},{key:"seed",value:function(e){this.xe(e.length),this.buffer.set(e,this.position),this.position+=e.length}},{key:"$e",value:function(){return this.buffer.slice(0,this.position)}},{key:"Ce",value:function(e){var t=function(e){var t=new DataView(new ArrayBuffer(8));return t.setFloat64(0,e,!1),new Uint8Array(t.buffer)}(e),n=0!=(128&t[0]);t[0]^=n?255:128;for(var r=1;r<t.length;++r)t[r]^=n?255:0;return t}},{key:"Ae",value:function(e){var t=255&e;0===t?(this.Me(0),this.Me(255)):255===t?(this.Me(255),this.Me(0)):this.Me(t)}},{key:"Pe",value:function(e){var t=255&e;0===t?(this.Fe(0),this.Fe(255)):255===t?(this.Fe(255),this.Fe(0)):this.Fe(e)}},{key:"Re",value:function(){this.Me(0),this.Me(1)}},{key:"ve",value:function(){this.Fe(0),this.Fe(1)}},{key:"Me",value:function(e){this.xe(1),this.buffer[this.position++]=e}},{key:"Fe",value:function(e){this.xe(1),this.buffer[this.position++]=~e}},{key:"xe",value:function(e){var t=e+this.position;if(!(t<=this.buffer.length)){var n=2*this.buffer.length;n<t&&(n=t);var r=new Uint8Array(n);r.set(this.buffer),this.buffer=r}}}]),e}(),wx=function(){function e(t){d(this,e),this.Be=t}return v(e,[{key:"me",value:function(e){this.Be.Ee(e)}},{key:"de",value:function(e){this.Be.Ve(e)}},{key:"fe",value:function(e){this.Be.De(e)}},{key:"he",value:function(){this.Be.ke()}}]),e}(),_x=function(){function e(t){d(this,e),this.Be=t}return v(e,[{key:"me",value:function(e){this.Be.be(e)}},{key:"de",value:function(e){this.Be.Se(e)}},{key:"fe",value:function(e){this.Be.Ne(e)}},{key:"he",value:function(){this.Be.Oe()}}]),e}(),xx=function(){function e(){d(this,e),this.Be=new bx,this.Le=new wx(this.Be),this.Ue=new _x(this.Be)}return v(e,[{key:"seed",value:function(e){this.Be.seed(e)}},{key:"qe",value:function(e){return 0===e?this.Le:this.Ue}},{key:"$e",value:function(){return this.Be.$e()}},{key:"reset",value:function(){this.Be.reset()}}]),e}(),Ex=function(){function e(t,n,r,i){d(this,e),this.indexId=t,this.documentKey=n,this.arrayValue=r,this.directionalValue=i}return v(e,[{key:"Ke",value:function(){var t=this.directionalValue.length,n=0===t||255===this.directionalValue[t-1]?t+1:t,r=new Uint8Array(n);return r.set(this.directionalValue,0),n!==t?r.set([0],this.directionalValue.length):++r[r.length-1],new e(this.indexId,this.documentKey,this.arrayValue,r)}}]),e}();function Sx(e,t){var n=e.indexId-t.indexId;return 0!==n?n:0!==(n=Ix(e.arrayValue,t.arrayValue))?n:0!==(n=Ix(e.directionalValue,t.directionalValue))?n:Pg.comparator(e.documentKey,t.documentKey)}function Ix(e,t){for(var n=0;n<e.length&&n<t.length;++n){var r=e[n]-t[n];if(0!==r)return r}return e.length-t.length}var Tx=function(){function e(t){d(this,e),this.collectionId=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment(),this.Ge=t.orderBy,this.Qe=[];var n,r=ka(t.filters);try{for(r.s();!(n=r.n()).done;){var i=n.value;i.dt()?this.je=i:this.Qe.push(i)}}catch(a){r.e(a)}finally{r.f()}}return v(e,[{key:"We",value:function(e){var t=Dg(e);if(void 0!==t&&!this.ze(t))return!1;for(var n=Fg(e),r=0,i=0;r<n.length&&this.ze(n[r]);++r);if(r===n.length)return!0;if(void 0!==this.je){var a=n[r];if(!this.He(this.je,a)||!this.Je(this.Ge[i++],a))return!1;++r}for(;r<n.length;++r){var o=n[r];if(i>=this.Ge.length||!this.Je(this.Ge[i++],o))return!1}return!0}},{key:"ze",value:function(e){var t,n=ka(this.Qe);try{for(n.s();!(t=n.n()).done;){var r=t.value;if(this.He(r,e))return!0}}catch(i){n.e(i)}finally{n.f()}return!1}},{key:"He",value:function(e,t){if(void 0===e||!e.field.isEqual(t.fieldPath))return!1;var n="array-contains"===e.op||"array-contains-any"===e.op;return 2===t.kind===n}},{key:"Je",value:function(e,t){return!!e.field.isEqual(t.fieldPath)&&(0===t.kind&&"asc"===e.dir||1===t.kind&&"desc"===e.dir)}}]),e}(),Cx=function(){function e(){d(this,e),this.Ye=new Nx}return v(e,[{key:"addToCollectionParentIndex",value:function(e,t){return this.Ye.add(t),Gg.resolve()}},{key:"getCollectionParents",value:function(e,t){return Gg.resolve(this.Ye.getEntries(t))}},{key:"addFieldIndex",value:function(e,t){return Gg.resolve()}},{key:"deleteFieldIndex",value:function(e,t){return Gg.resolve()}},{key:"getDocumentsMatchingTarget",value:function(e,t){return Gg.resolve(null)}},{key:"getIndexType",value:function(e,t){return Gg.resolve(0)}},{key:"getFieldIndexes",value:function(e,t){return Gg.resolve([])}},{key:"getNextCollectionGroupToUpdate",value:function(e){return Gg.resolve(null)}},{key:"getMinOffset",value:function(e,t){return Gg.resolve(Vg.min())}},{key:"getMinOffsetFromCollectionGroup",value:function(e,t){return Gg.resolve(Vg.min())}},{key:"updateCollectionGroup",value:function(e,t,n){return Gg.resolve()}},{key:"updateIndexEntries",value:function(e,t){return Gg.resolve()}}]),e}(),Nx=function(){function e(){d(this,e),this.index={}}return v(e,[{key:"add",value:function(e){var t=e.lastSegment(),n=e.popLast(),r=this.index[t]||new fk(Ng.comparator),i=!r.has(n);return this.index[t]=r.add(n),i}},{key:"has",value:function(e){var t=e.lastSegment(),n=e.popLast(),r=this.index[t];return r&&r.has(n)}},{key:"getEntries",value:function(e){return(this.index[e]||new fk(Ng.comparator)).toArray()}}]),e}(),Ax=new Uint8Array(0),Ox=function(){function e(t,n){d(this,e),this.user=t,this.databaseId=n,this.Xe=new Nx,this.Ze=new bw((function(e){return eb(e)}),(function(e,t){return tb(e,t)})),this.uid=t.uid||""}return v(e,[{key:"addToCollectionParentIndex",value:function(e,t){var n=this;if(!this.Xe.has(t)){var r=t.lastSegment(),i=t.popLast();e.addOnCommittedListener((function(){n.Xe.add(t)}));var a={collectionId:r,parent:w_(i)};return Px(e).put(a)}return Gg.resolve()}},{key:"getCollectionParents",value:function(e,t){var n=[],r=IDBKeyRange.bound([t,""],[Sg(t),""],!1,!0);return Px(e).W(r).next((function(e){var r,i=ka(e);try{for(i.s();!(r=i.n()).done;){var a=r.value;if(a.collectionId!==t)break;n.push(E_(a.parent))}}catch(o){i.e(o)}finally{i.f()}return n}))}},{key:"addFieldIndex",value:function(e,t){var n=this,r=Dx(e),i=function(e){return{indexId:e.indexId,collectionGroup:e.collectionGroup,fields:e.fields.map((function(e){return[e.fieldPath.canonicalString(),e.kind]}))}}(t);delete i.indexId;var a=r.add(i);if(t.indexState){var o=Fx(e);return a.next((function(e){o.put(fx(e,n.user,t.indexState.sequenceNumber,t.indexState.offset))}))}return a.next()}},{key:"deleteFieldIndex",value:function(e,t){var n=Dx(e),r=Fx(e),i=Rx(e);return n.delete(t.indexId).next((function(){return r.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))})).next((function(){return i.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))}))}},{key:"getDocumentsMatchingTarget",value:function(e,t){var n=this,r=Rx(e),i=!0,a=new Map;return Gg.forEach(this.tn(t),(function(t){return n.en(e,t).next((function(e){i&&(i=!!e),a.set(t,e)}))})).next((function(){if(i){var e=Ow(),o=[];return Gg.forEach(a,(function(i,a){var u;rg("IndexedDbIndexManager","Using index ".concat((u=i,"id=".concat(u.indexId,"|cg=").concat(u.collectionGroup,"|f=").concat(u.fields.map((function(e){return"".concat(e.fieldPath,":").concat(e.kind)})).join(",")))," to execute ").concat(eb(t)));var s=function(e,t){var n=Dg(t);if(void 0===n)return null;var r,i=ka(rb(e,n.fieldPath));try{for(i.s();!(r=i.n()).done;){var a=r.value;switch(a.op){case"array-contains-any":return a.value.arrayValue.values||[];case"array-contains":return[a.value]}}}catch(o){i.e(o)}finally{i.f()}return null}(a,i),c=function(e,t){var n,r=new Map,i=ka(Fg(t));try{for(i.s();!(n=i.n()).done;){var a,o=n.value,u=ka(rb(e,o.fieldPath));try{for(u.s();!(a=u.n()).done;){var s=a.value;switch(s.op){case"==":case"in":r.set(o.fieldPath.canonicalString(),s.value);break;case"not-in":case"!=":return r.set(o.fieldPath.canonicalString(),s.value),Array.from(r.values())}}}catch(c){u.e(c)}finally{u.f()}}}catch(c){i.e(c)}finally{i.f()}return null}(a,i),l=function(e,t){var n,r=[],i=!0,a=ka(Fg(t));try{for(a.s();!(n=a.n()).done;){var o=n.value,u=0===o.kind?ib(e,o.fieldPath,e.startAt):ab(e,o.fieldPath,e.startAt);r.push(u.value),i&&(i=u.inclusive)}}catch(s){a.e(s)}finally{a.f()}return new vb(r,i)}(a,i),f=function(e,t){var n,r=[],i=!0,a=ka(Fg(t));try{for(a.s();!(n=a.n()).done;){var o=n.value,u=0===o.kind?ab(e,o.fieldPath,e.endAt):ib(e,o.fieldPath,e.endAt);r.push(u.value),i&&(i=u.inclusive)}}catch(s){a.e(s)}finally{a.f()}return new vb(r,i)}(a,i),h=n.nn(i,a,l),d=n.nn(i,a,f),p=n.sn(i,a,c),v=n.rn(i.indexId,s,h,l.inclusive,d,f.inclusive,p);return Gg.forEach(v,(function(n){return r.J(n,t.limit).next((function(t){t.forEach((function(t){var n=Pg.fromSegments(t.documentKey);e.has(n)||(e=e.add(n),o.push(n))}))}))}))})).next((function(){return o}))}return Gg.resolve(null)}))}},{key:"tn",value:function(e){var t=this.Ze.get(e);return t||(t=[e],this.Ze.set(e,t),t)}},{key:"rn",value:function(e,t,n,r,i,a,o){for(var u=this,s=(null!=t?t.length:1)*Math.max(n.length,i.length),c=s/(null!=t?t.length:1),l=[],f=function(s){var f=t?u.on(t[s/c]):Ax,d=u.un(e,f,n[s%c],r),p=u.cn(e,f,i[s%c],a),v=o.map((function(t){return u.un(e,f,t,!0)}));l.push.apply(l,h(u.createRange(d,p,v)))},d=0;d<s;++d)f(d);return l}},{key:"un",value:function(e,t,n,r){var i=new Ex(e,Pg.empty(),t,n);return r?i:i.Ke()}},{key:"cn",value:function(e,t,n,r){var i=new Ex(e,Pg.empty(),t,n);return r?i.Ke():i}},{key:"en",value:function(e,t){var n=new Tx(t),r=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,r).next((function(e){var t,r=null,i=ka(e);try{for(i.s();!(t=i.n()).done;){var a=t.value;n.We(a)&&(!r||a.fields.length>r.fields.length)&&(r=a)}}catch(o){i.e(o)}finally{i.f()}return r}))}},{key:"getIndexType",value:function(e,t){var n=this,r=2;return Gg.forEach(this.tn(t),(function(t){return n.en(e,t).next((function(e){e?0!==r&&e.fields.length<function(e){var t,n=new fk(Og.comparator),r=!1,i=ka(e.filters);try{for(i.s();!(t=i.n()).done;){var a=t.value;a.field.isKeyField()||("array-contains"===a.op||"array-contains-any"===a.op?r=!0:n=n.add(a.field))}}catch(c){i.e(c)}finally{i.f()}var o,u=ka(e.orderBy);try{for(u.s();!(o=u.n()).done;){var s=o.value;s.field.isKeyField()||(n=n.add(s.field))}}catch(c){u.e(c)}finally{u.f()}return n.size+(r?1:0)}(t)&&(r=1):r=0}))})).next((function(){return r}))}},{key:"an",value:function(e,t){var n,r=new xx,i=ka(Fg(e));try{for(i.s();!(n=i.n()).done;){var a=n.value,o=t.data.field(a.fieldPath);if(null==o)return null;var u=r.qe(a.kind);mx.Te.ce(o,u)}}catch(s){i.e(s)}finally{i.f()}return r.$e()}},{key:"on",value:function(e){var t=new xx;return mx.Te.ce(e,t.qe(0)),t.$e()}},{key:"hn",value:function(e,t){var n=new xx;return mx.Te.ce(jk(this.databaseId,t),n.qe(function(e){var t=Fg(e);return 0===t.length?0:t[t.length-1].kind}(e))),n.$e()}},{key:"sn",value:function(e,t,n){if(null===n)return[];var r=[];r.push(new xx);var i,a=0,o=ka(Fg(e));try{for(o.s();!(i=o.n()).done;){var u,s=i.value,c=n[a++],l=ka(r);try{for(l.s();!(u=l.n()).done;){var f=u.value;if(this.ln(t,s.fieldPath)&&Uk(c))r=this.fn(r,s,c);else{var h=f.qe(s.kind);mx.Te.ce(c,h)}}}catch(d){l.e(d)}finally{l.f()}}}catch(d){o.e(d)}finally{o.f()}return this.dn(r)}},{key:"nn",value:function(e,t,n){return this.sn(e,t,n.position)}},{key:"dn",value:function(e){for(var t=[],n=0;n<e.length;++n)t[n]=e[n].$e();return t}},{key:"fn",value:function(e,t,n){var r,i=h(e),a=[],o=ka(n.arrayValue.values||[]);try{for(o.s();!(r=o.n()).done;){var u,s=r.value,c=ka(i);try{for(c.s();!(u=c.n()).done;){var l=u.value,f=new xx;f.seed(l.$e()),mx.Te.ce(s,f.qe(t.kind)),a.push(f)}}catch(d){c.e(d)}finally{c.f()}}}catch(d){o.e(d)}finally{o.f()}return a}},{key:"ln",value:function(e,t){return!!e.filters.find((function(e){return e instanceof ob&&e.field.isEqual(t)&&("in"===e.op||"not-in"===e.op)}))}},{key:"getFieldIndexes",value:function(e,t){var n=this,r=Dx(e),i=Fx(e);return(t?r.W("collectionGroupIndex",IDBKeyRange.bound(t,t)):r.W()).next((function(e){var t=[];return Gg.forEach(e,(function(e){return i.get([e.indexId,n.uid]).next((function(n){t.push(function(e,t){var n=t?new jg(t.sequenceNumber,new Vg(ix(t.readTime),new Pg(E_(t.documentKey)),t.largestBatchId)):jg.empty(),r=e.fields.map((function(e){var t=l(e,2),n=t[0],r=t[1];return new Lg(Og.fromServerFormat(n),r)}));return new Rg(e.indexId,e.collectionGroup,r,n)}(e,n))}))})).next((function(){return t}))}))}},{key:"getNextCollectionGroupToUpdate",value:function(e){return this.getFieldIndexes(e).next((function(e){return 0===e.length?null:(e.sort((function(e,t){var n=e.indexState.sequenceNumber-t.indexState.sequenceNumber;return 0!==n?n:xg(e.collectionGroup,t.collectionGroup)})),e[0].collectionGroup)}))}},{key:"updateCollectionGroup",value:function(e,t,n){var r=this,i=Dx(e),a=Fx(e);return this._n(e).next((function(e){return i.W("collectionGroupIndex",IDBKeyRange.bound(t,t)).next((function(t){return Gg.forEach(t,(function(t){return a.put(fx(t.indexId,r.user,e,n))}))}))}))}},{key:"updateIndexEntries",value:function(e,t){var n=this,r=new Map;return Gg.forEach(t,(function(t,i){var a=r.get(t.collectionGroup);return(a?Gg.resolve(a):n.getFieldIndexes(e,t.collectionGroup)).next((function(a){return r.set(t.collectionGroup,a),Gg.forEach(a,(function(r){return n.wn(e,t,r).next((function(t){var a=n.mn(i,r);return t.isEqual(a)?Gg.resolve():n.gn(e,i,r,t,a)}))}))}))}))}},{key:"yn",value:function(e,t,n,r){return Rx(e).put({indexId:r.indexId,uid:this.uid,arrayValue:r.arrayValue,directionalValue:r.directionalValue,orderedDocumentKey:this.hn(n,t.key),documentKey:t.key.path.toArray()})}},{key:"pn",value:function(e,t,n,r){return Rx(e).delete([r.indexId,this.uid,r.arrayValue,r.directionalValue,this.hn(n,t.key),t.key.path.toArray()])}},{key:"wn",value:function(e,t,n){var r=Rx(e),i=new fk(Sx);return r.Z({index:"documentKeyIndex",range:IDBKeyRange.only([n.indexId,this.uid,this.hn(n,t)])},(function(e,r){i=i.add(new Ex(n.indexId,t,r.arrayValue,r.directionalValue))})).next((function(){return i}))}},{key:"mn",value:function(e,t){var n=new fk(Sx),r=this.an(t,e);if(null==r)return n;var i=Dg(t);if(null!=i){var a=e.data.field(i.fieldPath);if(Uk(a)){var o,u=ka(a.arrayValue.values||[]);try{for(u.s();!(o=u.n()).done;){var s=o.value;n=n.add(new Ex(t.indexId,e.key,this.on(s),r))}}catch(c){u.e(c)}finally{u.f()}}}else n=n.add(new Ex(t.indexId,e.key,Ax,r));return n}},{key:"gn",value:function(e,t,n,r,i){var a=this;rg("IndexedDbIndexManager","Updating index entries for document '%s'",t.key);var o=[];return function(e,t,n,r,i){for(var a=e.getIterator(),o=t.getIterator(),u=dk(a),s=dk(o);u||s;){var c=!1,l=!1;if(u&&s){var f=n(u,s);f<0?l=!0:f>0&&(c=!0)}else null!=u?l=!0:c=!0;c?(r(s),s=dk(o)):l?(i(u),u=dk(a)):(u=dk(a),s=dk(o))}}(r,i,Sx,(function(r){o.push(a.yn(e,t,n,r))}),(function(r){o.push(a.pn(e,t,n,r))})),Gg.waitFor(o)}},{key:"_n",value:function(e){var t=1;return Fx(e).Z({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(function(e,n,r){r.done(),t=n.sequenceNumber+1})).next((function(){return t}))}},{key:"createRange",value:function(e,t,n){n=n.sort((function(e,t){return Sx(e,t)})).filter((function(e,t,n){return!t||0!==Sx(e,n[t-1])}));var r=[];r.push(e);var i,a=ka(n);try{for(a.s();!(i=a.n()).done;){var o=i.value,u=Sx(o,e),s=Sx(o,t);if(0===u)r[0]=e.Ke();else if(u>0&&s<0)r.push(o),r.push(o.Ke());else if(s>0)break}}catch(f){a.e(f)}finally{a.f()}r.push(t);for(var c=[],l=0;l<r.length;l+=2)c.push(IDBKeyRange.bound([r[l].indexId,this.uid,r[l].arrayValue,r[l].directionalValue,Ax,[]],[r[l+1].indexId,this.uid,r[l+1].arrayValue,r[l+1].directionalValue,Ax,[]]));return c}},{key:"getMinOffsetFromCollectionGroup",value:function(e,t){return this.getFieldIndexes(e,t).next(Lx)}},{key:"getMinOffset",value:function(e,t){var n=this;return Gg.mapArray(this.tn(t),(function(t){return n.en(e,t).next((function(e){return e||ug()}))})).next(Lx)}}]),e}();function Px(e){return Y_(e,"collectionParents")}function Rx(e){return Y_(e,"indexEntries")}function Dx(e){return Y_(e,"indexConfiguration")}function Fx(e){return Y_(e,"indexState")}function Lx(e){sg(0!==e.length);for(var t=e[0].indexState.offset,n=t.largestBatchId,r=1;r<e.length;r++){var i=e[r].indexState.offset;qg(i,t)<0&&(t=i),n<i.largestBatchId&&(n=i.largestBatchId)}return new Vg(t.readTime,t.documentKey,n)}var jx={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},Mx=function(){function e(t,n,r){d(this,e),this.cacheSizeCollectionThreshold=t,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}return v(e,null,[{key:"withCacheSize",value:function(t){return new e(t,e.DEFAULT_COLLECTION_PERCENTILE,e.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}]),e}();function Ux(e,t,n){var r=e.store("mutations"),i=e.store("documentMutations"),a=[],o=IDBKeyRange.only(n.batchId),u=0,s=r.Z({range:o},(function(e,t,n){return u++,n.delete()}));a.push(s.next((function(){sg(1===u)})));var c,l=[],f=ka(n.mutations);try{for(f.s();!(c=f.n()).done;){var h=c.value,d=T_(t,h.key.path,n.batchId);a.push(i.delete(d)),l.push(h.key)}}catch(p){f.e(p)}finally{f.f()}return Gg.waitFor(a).next((function(){return l}))}function Vx(e){if(!e)return 0;var t;if(e.document)t=e.document;else if(e.unknownDocument)t=e.unknownDocument;else{if(!e.noDocument)throw ug();t=e.noDocument}return JSON.stringify(t).length}Mx.DEFAULT_COLLECTION_PERCENTILE=10,Mx.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Mx.DEFAULT=new Mx(41943040,Mx.DEFAULT_COLLECTION_PERCENTILE,Mx.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Mx.DISABLED=new Mx(-1,0,0);var qx=function(){function e(t,n,r,i){d(this,e),this.userId=t,this.It=n,this.indexManager=r,this.referenceDelegate=i,this.In={}}return v(e,[{key:"checkEmpty",value:function(e){var t=!0,n=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return zx(e).Z({index:"userMutationsIndex",range:n},(function(e,n,r){t=!1,r.done()})).next((function(){return t}))}},{key:"addMutationBatch",value:function(e,t,n,r){var i=this,a=Wx(e),o=zx(e);return o.add({}).next((function(u){sg("number"==typeof u);var s,c=new $_(u,t,n,r),l=function(e,t,n){var r=n.baseMutations.map((function(t){return u_(e.re,t)})),i=n.mutations.map((function(t){return u_(e.re,t)}));return{userId:t,batchId:n.batchId,localWriteTimeMs:n.localWriteTime.toMillis(),baseMutations:r,mutations:i}}(i.It,i.userId,c),f=[],h=new fk((function(e,t){return xg(e.canonicalString(),t.canonicalString())})),d=ka(r);try{for(d.s();!(s=d.n()).done;){var p=s.value,v=T_(i.userId,p.key.path,u);h=h.add(p.key.path.popLast()),f.push(o.put(l)),f.push(a.put(v,C_))}}catch(y){d.e(y)}finally{d.f()}return h.forEach((function(t){f.push(i.indexManager.addToCollectionParentIndex(e,t))})),e.addOnCommittedListener((function(){i.In[u]=c.keys()})),Gg.waitFor(f).next((function(){return c}))}))}},{key:"lookupMutationBatch",value:function(e,t){var n=this;return zx(e).get(t).next((function(e){return e?(sg(e.userId===n.userId),ax(n.It,e)):null}))}},{key:"Tn",value:function(e,t){var n=this;return this.In[t]?Gg.resolve(this.In[t]):this.lookupMutationBatch(e,t).next((function(e){if(e){var r=e.keys();return n.In[t]=r,r}return null}))}},{key:"getNextMutationBatchAfterBatchId",value:function(e,t){var n=this,r=t+1,i=IDBKeyRange.lowerBound([this.userId,r]),a=null;return zx(e).Z({index:"userMutationsIndex",range:i},(function(e,t,i){t.userId===n.userId&&(sg(t.batchId>=r),a=ax(n.It,t)),i.done()})).next((function(){return a}))}},{key:"getHighestUnacknowledgedBatchId",value:function(e){var t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]),n=-1;return zx(e).Z({index:"userMutationsIndex",range:t,reverse:!0},(function(e,t,r){n=t.batchId,r.done()})).next((function(){return n}))}},{key:"getAllMutationBatches",value:function(e){var t=this,n=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return zx(e).W("userMutationsIndex",n).next((function(e){return e.map((function(e){return ax(t.It,e)}))}))}},{key:"getAllMutationBatchesAffectingDocumentKey",value:function(e,t){var n=this,r=I_(this.userId,t.path),i=IDBKeyRange.lowerBound(r),a=[];return Wx(e).Z({range:i},(function(r,i,o){var u=l(r,3),s=u[0],c=u[1],f=u[2],h=E_(c);if(s===n.userId&&t.path.isEqual(h))return zx(e).get(f).next((function(e){if(!e)throw ug();sg(e.userId===n.userId),a.push(ax(n.It,e))}));o.done()})).next((function(){return a}))}},{key:"getAllMutationBatchesAffectingDocumentKeys",value:function(e,t){var n=this,r=new fk(xg),i=[];return t.forEach((function(t){var a=I_(n.userId,t.path),o=IDBKeyRange.lowerBound(a),u=Wx(e).Z({range:o},(function(e,i,a){var o=l(e,3),u=o[0],s=o[1],c=o[2],f=E_(s);u===n.userId&&t.path.isEqual(f)?r=r.add(c):a.done()}));i.push(u)})),Gg.waitFor(i).next((function(){return n.En(e,r)}))}},{key:"getAllMutationBatchesAffectingQuery",value:function(e,t){var n=this,r=t.path,i=r.length+1,a=I_(this.userId,r),o=IDBKeyRange.lowerBound(a),u=new fk(xg);return Wx(e).Z({range:o},(function(e,t,a){var o=l(e,3),s=o[0],c=o[1],f=o[2],h=E_(c);s===n.userId&&r.isPrefixOf(h)?h.length===i&&(u=u.add(f)):a.done()})).next((function(){return n.En(e,u)}))}},{key:"En",value:function(e,t){var n=this,r=[],i=[];return t.forEach((function(t){i.push(zx(e).get(t).next((function(e){if(null===e)throw ug();sg(e.userId===n.userId),r.push(ax(n.It,e))})))})),Gg.waitFor(i).next((function(){return r}))}},{key:"removeMutationBatch",value:function(e,t){var n=this;return Ux(e.ie,this.userId,t).next((function(r){return e.addOnCommittedListener((function(){n.An(t.batchId)})),Gg.forEach(r,(function(t){return n.referenceDelegate.markPotentiallyOrphaned(e,t)}))}))}},{key:"An",value:function(e){delete this.In[e]}},{key:"performConsistencyCheck",value:function(e){var t=this;return this.checkEmpty(e).next((function(n){if(!n)return Gg.resolve();var r=IDBKeyRange.lowerBound([t.userId]),i=[];return Wx(e).Z({range:r},(function(e,n,r){if(e[0]===t.userId){var a=E_(e[1]);i.push(a)}else r.done()})).next((function(){sg(0===i.length)}))}))}},{key:"containsKey",value:function(e,t){return Bx(e,this.userId,t)}},{key:"Rn",value:function(e){var t=this;return Kx(e).get(this.userId).next((function(e){return e||{userId:t.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""}}))}}],[{key:"oe",value:function(t,n,r,i){return sg(""!==t.uid),new e(t.isAuthenticated()?t.uid:"",n,r,i)}}]),e}();function Bx(e,t,n){var r=I_(t,n.path),i=r[1],a=IDBKeyRange.lowerBound(r),o=!1;return Wx(e).Z({range:a,X:!0},(function(e,n,r){var a=l(e,3),u=a[0],s=a[1];a[2];u===t&&s===i&&(o=!0),r.done()})).next((function(){return o}))}function zx(e){return Y_(e,"mutations")}function Wx(e){return Y_(e,"documentMutations")}function Kx(e){return Y_(e,"mutationQueues")}var Gx=function(){function e(t){d(this,e),this.bn=t}return v(e,[{key:"next",value:function(){return this.bn+=2,this.bn}}],[{key:"Pn",value:function(){return new e(0)}},{key:"vn",value:function(){return new e(-1)}}]),e}(),Hx=function(){function e(t,n){d(this,e),this.referenceDelegate=t,this.It=n}return v(e,[{key:"allocateTargetId",value:function(e){var t=this;return this.Vn(e).next((function(n){var r=new Gx(n.highestTargetId);return n.highestTargetId=r.next(),t.Sn(e,n).next((function(){return n.highestTargetId}))}))}},{key:"getLastRemoteSnapshotVersion",value:function(e){return this.Vn(e).next((function(e){return Tg.fromTimestamp(new Ig(e.lastRemoteSnapshotVersion.seconds,e.lastRemoteSnapshotVersion.nanoseconds))}))}},{key:"getHighestSequenceNumber",value:function(e){return this.Vn(e).next((function(e){return e.highestListenSequenceNumber}))}},{key:"setTargetsMetadata",value:function(e,t,n){var r=this;return this.Vn(e).next((function(i){return i.highestListenSequenceNumber=t,n&&(i.lastRemoteSnapshotVersion=n.toTimestamp()),t>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=t),r.Sn(e,i)}))}},{key:"addTargetData",value:function(e,t){var n=this;return this.Dn(e,t).next((function(){return n.Vn(e).next((function(r){return r.targetCount+=1,n.Cn(t,r),n.Sn(e,r)}))}))}},{key:"updateTargetData",value:function(e,t){return this.Dn(e,t)}},{key:"removeTargetData",value:function(e,t){var n=this;return this.removeMatchingKeysForTargetId(e,t.targetId).next((function(){return Qx(e).delete(t.targetId)})).next((function(){return n.Vn(e)})).next((function(t){return sg(t.targetCount>0),t.targetCount-=1,n.Sn(e,t)}))}},{key:"removeTargets",value:function(e,t,n){var r=this,i=0,a=[];return Qx(e).Z((function(o,u){var s=ox(u);s.sequenceNumber<=t&&null===n.get(s.targetId)&&(i++,a.push(r.removeTargetData(e,s)))})).next((function(){return Gg.waitFor(a)})).next((function(){return i}))}},{key:"forEachTarget",value:function(e,t){return Qx(e).Z((function(e,n){var r=ox(n);t(r)}))}},{key:"Vn",value:function(e){return Yx(e).get("targetGlobalKey").next((function(e){return sg(null!==e),e}))}},{key:"Sn",value:function(e,t){return Yx(e).put("targetGlobalKey",t)}},{key:"Dn",value:function(e,t){return Qx(e).put(ux(this.It,t))}},{key:"Cn",value:function(e,t){var n=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,n=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,n=!0),n}},{key:"getTargetCount",value:function(e){return this.Vn(e).next((function(e){return e.targetCount}))}},{key:"getTargetData",value:function(e,t){var n=eb(t),r=IDBKeyRange.bound([n,Number.NEGATIVE_INFINITY],[n,Number.POSITIVE_INFINITY]),i=null;return Qx(e).Z({range:r,index:"queryTargetsIndex"},(function(e,n,r){var a=ox(n);tb(t,a.target)&&(i=a,r.done())})).next((function(){return i}))}},{key:"addMatchingKeys",value:function(e,t,n){var r=this,i=[],a=$x(e);return t.forEach((function(t){var o=w_(t.path);i.push(a.put({targetId:n,path:o})),i.push(r.referenceDelegate.addReference(e,n,t))})),Gg.waitFor(i)}},{key:"removeMatchingKeys",value:function(e,t,n){var r=this,i=$x(e);return Gg.forEach(t,(function(t){var a=w_(t.path);return Gg.waitFor([i.delete([n,a]),r.referenceDelegate.removeReference(e,n,t)])}))}},{key:"removeMatchingKeysForTargetId",value:function(e,t){var n=$x(e),r=IDBKeyRange.bound([t],[t+1],!1,!0);return n.delete(r)}},{key:"getMatchingKeysForTargetId",value:function(e,t){var n=IDBKeyRange.bound([t],[t+1],!1,!0),r=$x(e),i=Ow();return r.Z({range:n,X:!0},(function(e,t,n){var r=E_(e[1]),a=new Pg(r);i=i.add(a)})).next((function(){return i}))}},{key:"containsKey",value:function(e,t){var n=w_(t.path),r=IDBKeyRange.bound([n],[Sg(n)],!1,!0),i=0;return $x(e).Z({index:"documentTargetsIndex",X:!0,range:r},(function(e,t,n){var r=l(e,2),a=r[0];r[1];0!==a&&(i++,n.done())})).next((function(){return i>0}))}},{key:"se",value:function(e,t){return Qx(e).get(t).next((function(e){return e?ox(e):null}))}}]),e}();function Qx(e){return Y_(e,"targets")}function Yx(e){return Y_(e,"targetGlobal")}function $x(e){return Y_(e,"targetDocuments")}function Jx(e,t){var n=l(e,2),r=n[0],i=n[1],a=l(t,2),o=a[0],u=a[1],s=xg(r,o);return 0===s?xg(i,u):s}var Xx=function(){function e(t){d(this,e),this.xn=t,this.buffer=new fk(Jx),this.Nn=0}return v(e,[{key:"kn",value:function(){return++this.Nn}},{key:"Mn",value:function(e){var t=[e,this.kn()];if(this.buffer.size<this.xn)this.buffer=this.buffer.add(t);else{var n=this.buffer.last();Jx(t,n)<0&&(this.buffer=this.buffer.delete(n).add(t))}}},{key:"maxValue",get:function(){return this.buffer.last()[0]}}]),e}(),Zx=function(){function e(t,n,r){d(this,e),this.garbageCollector=t,this.asyncQueue=n,this.localStore=r,this.On=null}return v(e,[{key:"start",value:function(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Fn(6e4)}},{key:"stop",value:function(){this.On&&(this.On.cancel(),this.On=null)}},{key:"started",get:function(){return null!==this.On}},{key:"Fn",value:function(e){var t=this;rg("LruGarbageCollector","Garbage collection scheduled in ".concat(e,"ms")),this.On=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,He(Ke().mark((function e(){return Ke().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.On=null,e.prev=1,e.next=4,t.localStore.collectGarbage(t.garbageCollector);case 4:e.next=14;break;case 6:if(e.prev=6,e.t0=e.catch(1),!Jg(e.t0)){e.next=12;break}rg("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",e.t0),e.next=14;break;case 12:return e.next=14,Wg(e.t0);case 14:return e.next=16,t.Fn(3e5);case 16:case"end":return e.stop()}}),e,null,[[1,6]])}))))}}]),e}(),eE=function(){function e(t,n){d(this,e),this.$n=t,this.params=n}return v(e,[{key:"calculateTargetCount",value:function(e,t){return this.$n.Bn(e).next((function(e){return Math.floor(t/100*e)}))}},{key:"nthSequenceNumber",value:function(e,t){var n=this;if(0===t)return Gg.resolve(ik.at);var r=new Xx(t);return this.$n.forEachTarget(e,(function(e){return r.Mn(e.sequenceNumber)})).next((function(){return n.$n.Ln(e,(function(e){return r.Mn(e)}))})).next((function(){return r.maxValue}))}},{key:"removeTargets",value:function(e,t,n){return this.$n.removeTargets(e,t,n)}},{key:"removeOrphanedDocuments",value:function(e,t){return this.$n.removeOrphanedDocuments(e,t)}},{key:"collect",value:function(e,t){var n=this;return-1===this.params.cacheSizeCollectionThreshold?(rg("LruGarbageCollector","Garbage collection skipped; disabled"),Gg.resolve(jx)):this.getCacheSize(e).next((function(r){return r<n.params.cacheSizeCollectionThreshold?(rg("LruGarbageCollector","Garbage collection skipped; Cache size ".concat(r," is lower than threshold ").concat(n.params.cacheSizeCollectionThreshold)),jx):n.Un(e,t)}))}},{key:"getCacheSize",value:function(e){return this.$n.getCacheSize(e)}},{key:"Un",value:function(e,t){var n,r,i,a,o,u,s,c=this,l=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((function(t){return t>c.params.maximumSequenceNumbersToCollect?(rg("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of ".concat(c.params.maximumSequenceNumbersToCollect," from ").concat(t)),r=c.params.maximumSequenceNumbersToCollect):r=t,a=Date.now(),c.nthSequenceNumber(e,r)})).next((function(r){return n=r,o=Date.now(),c.removeTargets(e,n,t)})).next((function(t){return i=t,u=Date.now(),c.removeOrphanedDocuments(e,n)})).next((function(e){return s=Date.now(),ng()<=ko.DEBUG&&rg("LruGarbageCollector","LRU Garbage Collection\n\tCounted targets in ".concat(a-l,"ms\n\tDetermined least recently used ").concat(r," in ")+(o-a)+"ms\n"+"\tRemoved ".concat(i," targets in ")+(u-o)+"ms\n"+"\tRemoved ".concat(e," documents in ")+(s-u)+"ms\n"+"Total Duration: ".concat(s-l,"ms")),Gg.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:i,documentsRemoved:e})}))}}]),e}(),tE=function(){function e(t,n){d(this,e),this.db=t,this.garbageCollector=function(e,t){return new eE(e,t)}(this,n)}return v(e,[{key:"Bn",value:function(e){var t=this.qn(e);return this.db.getTargetCache().getTargetCount(e).next((function(e){return t.next((function(t){return e+t}))}))}},{key:"qn",value:function(e){var t=0;return this.Ln(e,(function(e){t++})).next((function(){return t}))}},{key:"forEachTarget",value:function(e,t){return this.db.getTargetCache().forEachTarget(e,t)}},{key:"Ln",value:function(e,t){return this.Kn(e,(function(e,n){return t(n)}))}},{key:"addReference",value:function(e,t,n){return nE(e,n)}},{key:"removeReference",value:function(e,t,n){return nE(e,n)}},{key:"removeTargets",value:function(e,t,n){return this.db.getTargetCache().removeTargets(e,t,n)}},{key:"markPotentiallyOrphaned",value:function(e,t){return nE(e,t)}},{key:"Gn",value:function(e,t){return function(e,t){var n=!1;return Kx(e).tt((function(r){return Bx(e,r,t).next((function(e){return e&&(n=!0),Gg.resolve(!e)}))})).next((function(){return n}))}(e,t)}},{key:"removeOrphanedDocuments",value:function(e,t){var n=this,r=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[],a=0;return this.Kn(e,(function(o,u){if(u<=t){var s=n.Gn(e,o).next((function(t){if(!t)return a++,r.getEntry(e,o).next((function(){return r.removeEntry(o,Tg.min()),$x(e).delete([0,w_(o.path)])}))}));i.push(s)}})).next((function(){return Gg.waitFor(i)})).next((function(){return r.apply(e)})).next((function(){return a}))}},{key:"removeTarget",value:function(e,t){var n=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,n)}},{key:"updateLimboDocument",value:function(e,t){return nE(e,t)}},{key:"Kn",value:function(e,t){var n,r=$x(e),i=ik.at;return r.Z({index:"documentTargetsIndex"},(function(e,r){var a=l(e,2),o=a[0],u=(a[1],r.path),s=r.sequenceNumber;0===o?(i!==ik.at&&t(new Pg(E_(n)),i),i=s,n=u):i=ik.at})).next((function(){i!==ik.at&&t(new Pg(E_(n)),i)}))}},{key:"getCacheSize",value:function(e){return this.db.getRemoteDocumentCache().getSize(e)}}]),e}();function nE(e,t){return $x(e).put(function(e,t){return{targetId:0,path:w_(e.path),sequenceNumber:t}}(t,e.currentSequenceNumber))}var rE=function(){function e(){d(this,e),this.changes=new bw((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)})),this.changesApplied=!1}return v(e,[{key:"addEntry",value:function(e){this.assertNotApplied(),this.changes.set(e.key,e)}},{key:"removeEntry",value:function(e,t){this.assertNotApplied(),this.changes.set(e,Jk.newInvalidDocument(e).setReadTime(t))}},{key:"getEntry",value:function(e,t){this.assertNotApplied();var n=this.changes.get(t);return void 0!==n?Gg.resolve(n):this.getFromCache(e,t)}},{key:"getEntries",value:function(e,t){return this.getAllFromCache(e,t)}},{key:"apply",value:function(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}},{key:"assertNotApplied",value:function(){}}]),e}(),iE=function(){function e(t){d(this,e),this.It=t}return v(e,[{key:"setIndexManager",value:function(e){this.indexManager=e}},{key:"addEntry",value:function(e,t,n){return sE(e).put(n)}},{key:"removeEntry",value:function(e,t,n){return sE(e).delete(function(e,t){var n=e.path.toArray();return[n.slice(0,n.length-2),n[n.length-2],nx(t),n[n.length-1]]}(t,n))}},{key:"updateMetadata",value:function(e,t){var n=this;return this.getMetadata(e).next((function(r){return r.byteSize+=t,n.Qn(e,r)}))}},{key:"getEntry",value:function(e,t){var n=this,r=Jk.newInvalidDocument(t);return sE(e).Z({index:"documentKeyIndex",range:IDBKeyRange.only(cE(t))},(function(e,i){r=n.jn(t,i)})).next((function(){return r}))}},{key:"Wn",value:function(e,t){var n=this,r={size:0,document:Jk.newInvalidDocument(t)};return sE(e).Z({index:"documentKeyIndex",range:IDBKeyRange.only(cE(t))},(function(e,i){r={document:n.jn(t,i),size:Vx(i)}})).next((function(){return r}))}},{key:"getEntries",value:function(e,t){var n=this,r=_w();return this.zn(e,t,(function(e,t){var i=n.jn(e,t);r=r.insert(e,i)})).next((function(){return r}))}},{key:"Hn",value:function(e,t){var n=this,r=_w(),i=new sk(Pg.comparator);return this.zn(e,t,(function(e,t){var a=n.jn(e,t);r=r.insert(e,a),i=i.insert(e,Vx(t))})).next((function(){return{documents:r,Jn:i}}))}},{key:"zn",value:function(e,t,n){if(t.isEmpty())return Gg.resolve();var r=new fk(fE);t.forEach((function(e){return r=r.add(e)}));var i=IDBKeyRange.bound(cE(r.first()),cE(r.last())),a=r.getIterator(),o=a.getNext();return sE(e).Z({index:"documentKeyIndex",range:i},(function(e,t,r){for(var i=Pg.fromSegments([].concat(h(t.prefixPath),[t.collectionGroup,t.documentId]));o&&fE(o,i)<0;)n(o,null),o=a.getNext();o&&o.isEqual(i)&&(n(o,t),o=a.hasNext()?a.getNext():null),o?r.j(cE(o)):r.done()})).next((function(){for(;o;)n(o,null),o=a.hasNext()?a.getNext():null}))}},{key:"getAllFromCollection",value:function(e,t,n){var r=this,i=[t.popLast().toArray(),t.lastSegment(),nx(n.readTime),n.documentKey.path.isEmpty()?"":n.documentKey.path.lastSegment()],a=[t.popLast().toArray(),t.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return sE(e).W(IDBKeyRange.bound(i,a,!0)).next((function(e){var t,n=_w(),i=ka(e);try{for(i.s();!(t=i.n()).done;){var a=t.value,o=r.jn(Pg.fromSegments(a.prefixPath.concat(a.collectionGroup,a.documentId)),a);n=n.insert(o.key,o)}}catch(u){i.e(u)}finally{i.f()}return n}))}},{key:"getAllFromCollectionGroup",value:function(e,t,n,r){var i=this,a=_w(),o=lE(t,n),u=lE(t,Vg.max());return sE(e).Z({index:"collectionGroupIndex",range:IDBKeyRange.bound(o,u,!0)},(function(e,t,n){var o=i.jn(Pg.fromSegments(t.prefixPath.concat(t.collectionGroup,t.documentId)),t);(a=a.insert(o.key,o)).size===r&&n.done()})).next((function(){return a}))}},{key:"newChangeBuffer",value:function(e){return new oE(this,!!e&&e.trackRemovals)}},{key:"getSize",value:function(e){return this.getMetadata(e).next((function(e){return e.byteSize}))}},{key:"getMetadata",value:function(e){return uE(e).get("remoteDocumentGlobalKey").next((function(e){return sg(!!e),e}))}},{key:"Qn",value:function(e,t){return uE(e).put("remoteDocumentGlobalKey",t)}},{key:"jn",value:function(e,t){if(t){var n=function(e,t){var n;if(t.document)n=a_(e.re,t.document,!!t.hasCommittedMutations);else if(t.noDocument){var r=Pg.fromSegments(t.noDocument.path),i=ix(t.noDocument.readTime);n=Jk.newNoDocument(r,i),t.hasCommittedMutations&&n.setHasCommittedMutations()}else{if(!t.unknownDocument)return ug();var a=Pg.fromSegments(t.unknownDocument.path),o=ix(t.unknownDocument.version);n=Jk.newUnknownDocument(a,o)}return t.readTime&&n.setReadTime(function(e){var t=new Ig(e[0],e[1]);return Tg.fromTimestamp(t)}(t.readTime)),n}(this.It,t);if(!n.isNoDocument()||!n.version.isEqual(Tg.min()))return n}return Jk.newInvalidDocument(e)}}]),e}();function aE(e){return new iE(e)}var oE=function(e){m(n,e);var t=x(n);function n(e,r){var i;return d(this,n),(i=t.call(this)).Yn=e,i.trackRemovals=r,i.Xn=new bw((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)})),i}return v(n,[{key:"applyChanges",value:function(e){var t=this,n=[],r=0,i=new fk((function(e,t){return xg(e.canonicalString(),t.canonicalString())}));return this.changes.forEach((function(a,o){var u=t.Xn.get(a);if(n.push(t.Yn.removeEntry(e,a,u.readTime)),o.isValidDocument()){var s=tx(t.Yn.It,o);i=i.add(a.path.popLast());var c=Vx(s);r+=c-u.size,n.push(t.Yn.addEntry(e,a,s))}else if(r-=u.size,t.trackRemovals){var l=tx(t.Yn.It,o.convertToNoDocument(Tg.min()));n.push(t.Yn.addEntry(e,a,l))}})),i.forEach((function(r){n.push(t.Yn.indexManager.addToCollectionParentIndex(e,r))})),n.push(this.Yn.updateMetadata(e,r)),Gg.waitFor(n)}},{key:"getFromCache",value:function(e,t){var n=this;return this.Yn.Wn(e,t).next((function(e){return n.Xn.set(t,{size:e.size,readTime:e.document.readTime}),e.document}))}},{key:"getAllFromCache",value:function(e,t){var n=this;return this.Yn.Hn(e,t).next((function(e){var t=e.documents;return e.Jn.forEach((function(e,r){n.Xn.set(e,{size:r,readTime:t.get(e).readTime})})),t}))}}]),n}(rE);function uE(e){return Y_(e,"remoteDocumentGlobal")}function sE(e){return Y_(e,"remoteDocumentsV14")}function cE(e){var t=e.path.toArray();return[t.slice(0,t.length-2),t[t.length-2],t[t.length-1]]}function lE(e,t){var n=t.documentKey.path.toArray();return[e,nx(t.readTime),n.slice(0,n.length-2),n.length>0?n[n.length-1]:""]}function fE(e,t){for(var n=e.path.toArray(),r=t.path.toArray(),i=0,a=0;a<n.length-2&&a<r.length-2;++a)if(i=xg(n[a],r[a]))return i;return(i=xg(n.length,r.length))||((i=xg(n[n.length-2],r[r.length-2]))||xg(n[n.length-1],r[r.length-1]))}var hE=v((function e(t,n){d(this,e),this.overlayedDocument=t,this.mutatedFields=n})),dE=function(){function e(t,n,r,i){d(this,e),this.remoteDocumentCache=t,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}return v(e,[{key:"getDocument",value:function(e,t){var n=this,r=null;return this.documentOverlayCache.getOverlay(e,t).next((function(i){return r=i,n.getBaseDocument(e,t,r)})).next((function(e){return null!==r&&aw(r.mutation,e,pk.empty(),Ig.now()),e}))}},{key:"getDocuments",value:function(e,t){var n=this;return this.remoteDocumentCache.getEntries(e,t).next((function(t){return n.getLocalViewOfDocuments(e,t,Ow()).next((function(){return t}))}))}},{key:"getLocalViewOfDocuments",value:function(e,t){var n=this,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Ow(),i=Iw();return this.populateOverlays(e,i,t).next((function(){return n.computeViews(e,t,i,r).next((function(e){var t=Ew();return e.forEach((function(e,n){t=t.insert(e,n.overlayedDocument)})),t}))}))}},{key:"getOverlayedDocuments",value:function(e,t){var n=this,r=Iw();return this.populateOverlays(e,r,t).next((function(){return n.computeViews(e,t,r,Ow())}))}},{key:"populateOverlays",value:function(e,t,n){var r=[];return n.forEach((function(e){t.has(e)||r.push(e)})),this.documentOverlayCache.getOverlays(e,r).next((function(e){e.forEach((function(e,n){t.set(e,n)}))}))}},{key:"computeViews",value:function(e,t,n,r){var i=_w(),a=Cw(),o=Cw();return t.forEach((function(e,t){var o=n.get(t.key);r.has(t.key)&&(void 0===o||o.mutation instanceof cw)?i=i.insert(t.key,t):void 0!==o&&(a.set(t.key,o.mutation.getFieldMask()),aw(o.mutation,t,o.mutation.getFieldMask(),Ig.now()))})),this.recalculateAndSaveOverlays(e,i).next((function(e){return e.forEach((function(e,t){return a.set(e,t)})),t.forEach((function(e,t){var n;return o.set(e,new hE(t,null!==(n=a.get(e))&&void 0!==n?n:null))})),o}))}},{key:"recalculateAndSaveOverlays",value:function(e,t){var n=this,r=Cw(),i=new sk((function(e,t){return e-t})),a=Ow();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next((function(e){var n,a=ka(e);try{var o=function(){var e=n.value;e.keys().forEach((function(n){var a=t.get(n);if(null!==a){var o=r.get(n)||pk.empty();o=e.applyToLocalView(a,o),r.set(n,o);var u=(i.get(e.batchId)||Ow()).add(n);i=i.insert(e.batchId,u)}}))};for(a.s();!(n=a.n()).done;)o()}catch(u){a.e(u)}finally{a.f()}})).next((function(){for(var o=[],u=i.getReverseIterator(),s=function(){var i=u.getNext(),s=i.key,c=i.value,l=Tw();c.forEach((function(e){if(!a.has(e)){var n=rw(t.get(e),r.get(e));null!==n&&l.set(e,n),a=a.add(e)}})),o.push(n.documentOverlayCache.saveOverlays(e,s,l))};u.hasNext();)s();return Gg.waitFor(o)})).next((function(){return r}))}},{key:"recalculateAndSaveOverlaysForDocumentKeys",value:function(e,t){var n=this;return this.remoteDocumentCache.getEntries(e,t).next((function(t){return n.recalculateAndSaveOverlays(e,t)}))}},{key:"getDocumentsMatchingQuery",value:function(e,t,n){return function(e){return Pg.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):Ib(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,n):this.getDocumentsMatchingCollectionQuery(e,t,n)}},{key:"getNextDocuments",value:function(e,t,n,r){var i=this;return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,n,r).next((function(a){var o=r-a.size>0?i.documentOverlayCache.getOverlaysForCollectionGroup(e,t,n.largestBatchId,r-a.size):Gg.resolve(Iw()),u=-1,s=a;return o.next((function(t){return Gg.forEach(t,(function(t,n){return u<n.largestBatchId&&(u=n.largestBatchId),a.get(t)?Gg.resolve():i.getBaseDocument(e,t,n).next((function(e){s=s.insert(t,e)}))})).next((function(){return i.populateOverlays(e,t,a)})).next((function(){return i.computeViews(e,s,t,Ow())})).next((function(e){return{batchId:u,changes:Sw(e)}}))}))}))}},{key:"getDocumentsMatchingDocumentQuery",value:function(e,t){return this.getDocument(e,new Pg(t)).next((function(e){var t=Ew();return e.isFoundDocument()&&(t=t.insert(e.key,e)),t}))}},{key:"getDocumentsMatchingCollectionGroupQuery",value:function(e,t,n){var r=this,i=t.collectionGroup,a=Ew();return this.indexManager.getCollectionParents(e,i).next((function(o){return Gg.forEach(o,(function(o){var u=function(e,t){return new bb(t,null,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(t,o.child(i));return r.getDocumentsMatchingCollectionQuery(e,u,n).next((function(e){e.forEach((function(e,t){a=a.insert(e,t)}))}))})).next((function(){return a}))}))}},{key:"getDocumentsMatchingCollectionQuery",value:function(e,t,n){var r,i=this;return this.remoteDocumentCache.getAllFromCollection(e,t.path,n).next((function(a){return r=a,i.documentOverlayCache.getOverlaysForCollection(e,t.path,n.largestBatchId)})).next((function(e){e.forEach((function(e,t){var n=t.getKey();null===r.get(n)&&(r=r.insert(n,Jk.newInvalidDocument(n)))}));var n=Ew();return r.forEach((function(r,i){var a=e.get(r);void 0!==a&&aw(a.mutation,i,pk.empty(),Ig.now()),Rb(t,i)&&(n=n.insert(r,i))})),n}))}},{key:"getBaseDocument",value:function(e,t,n){return null===n||1===n.mutation.type?this.remoteDocumentCache.getEntry(e,t):Gg.resolve(Jk.newInvalidDocument(t))}}]),e}(),pE=function(){function e(t){d(this,e),this.It=t,this.Zn=new Map,this.ts=new Map}return v(e,[{key:"getBundleMetadata",value:function(e,t){return Gg.resolve(this.Zn.get(t))}},{key:"saveBundleMetadata",value:function(e,t){var n;return this.Zn.set(t.id,{id:(n=t).id,version:n.version,createTime:Yw(n.createTime)}),Gg.resolve()}},{key:"getNamedQuery",value:function(e,t){return Gg.resolve(this.ts.get(t))}},{key:"saveNamedQuery",value:function(e,t){return this.ts.set(t.name,function(e){return{name:e.name,query:sx(e.bundledQuery),readTime:Yw(e.readTime)}}(t)),Gg.resolve()}}]),e}(),vE=function(){function e(){d(this,e),this.overlays=new sk(Pg.comparator),this.es=new Map}return v(e,[{key:"getOverlay",value:function(e,t){return Gg.resolve(this.overlays.get(t))}},{key:"getOverlays",value:function(e,t){var n=this,r=Iw();return Gg.forEach(t,(function(t){return n.getOverlay(e,t).next((function(e){null!==e&&r.set(t,e)}))})).next((function(){return r}))}},{key:"saveOverlays",value:function(e,t,n){var r=this;return n.forEach((function(n,i){r.ue(e,t,i)})),Gg.resolve()}},{key:"removeOverlaysForBatchId",value:function(e,t,n){var r=this,i=this.es.get(n);return void 0!==i&&(i.forEach((function(e){return r.overlays=r.overlays.remove(e)})),this.es.delete(n)),Gg.resolve()}},{key:"getOverlaysForCollection",value:function(e,t,n){for(var r=Iw(),i=t.length+1,a=new Pg(t.child("")),o=this.overlays.getIteratorFrom(a);o.hasNext();){var u=o.getNext().value,s=u.getKey();if(!t.isPrefixOf(s.path))break;s.path.length===i&&u.largestBatchId>n&&r.set(u.getKey(),u)}return Gg.resolve(r)}},{key:"getOverlaysForCollectionGroup",value:function(e,t,n,r){for(var i=new sk((function(e,t){return e-t})),a=this.overlays.getIterator();a.hasNext();){var o=a.getNext().value;if(o.getKey().getCollectionGroup()===t&&o.largestBatchId>n){var u=i.get(o.largestBatchId);null===u&&(u=Iw(),i=i.insert(o.largestBatchId,u)),u.set(o.getKey(),o)}}for(var s=Iw(),c=i.getIterator();c.hasNext()&&(c.getNext().value.forEach((function(e,t){return s.set(e,t)})),!(s.size()>=r)););return Gg.resolve(s)}},{key:"ue",value:function(e,t,n){var r=this.overlays.get(n.key);if(null!==r){var i=this.es.get(r.largestBatchId).delete(n.key);this.es.set(r.largestBatchId,i)}this.overlays=this.overlays.insert(n.key,new X_(t,n));var a=this.es.get(t);void 0===a&&(a=Ow(),this.es.set(t,a)),this.es.set(t,a.add(n.key))}}]),e}(),yE=function(){function e(){d(this,e),this.ns=new fk(mE.ss),this.rs=new fk(mE.os)}return v(e,[{key:"isEmpty",value:function(){return this.ns.isEmpty()}},{key:"addReference",value:function(e,t){var n=new mE(e,t);this.ns=this.ns.add(n),this.rs=this.rs.add(n)}},{key:"us",value:function(e,t){var n=this;e.forEach((function(e){return n.addReference(e,t)}))}},{key:"removeReference",value:function(e,t){this.cs(new mE(e,t))}},{key:"hs",value:function(e,t){var n=this;e.forEach((function(e){return n.removeReference(e,t)}))}},{key:"ls",value:function(e){var t=this,n=new Pg(new Ng([])),r=new mE(n,e),i=new mE(n,e+1),a=[];return this.rs.forEachInRange([r,i],(function(e){t.cs(e),a.push(e.key)})),a}},{key:"fs",value:function(){var e=this;this.ns.forEach((function(t){return e.cs(t)}))}},{key:"cs",value:function(e){this.ns=this.ns.delete(e),this.rs=this.rs.delete(e)}},{key:"ds",value:function(e){var t=new Pg(new Ng([])),n=new mE(t,e),r=new mE(t,e+1),i=Ow();return this.rs.forEachInRange([n,r],(function(e){i=i.add(e.key)})),i}},{key:"containsKey",value:function(e){var t=new mE(e,0),n=this.ns.firstAfterOrEqual(t);return null!==n&&e.isEqual(n.key)}}]),e}(),mE=function(){function e(t,n){d(this,e),this.key=t,this._s=n}return v(e,null,[{key:"ss",value:function(e,t){return Pg.comparator(e.key,t.key)||xg(e._s,t._s)}},{key:"os",value:function(e,t){return xg(e._s,t._s)||Pg.comparator(e.key,t.key)}}]),e}(),gE=function(){function e(t,n){d(this,e),this.indexManager=t,this.referenceDelegate=n,this.mutationQueue=[],this.ws=1,this.gs=new fk(mE.ss)}return v(e,[{key:"checkEmpty",value:function(e){return Gg.resolve(0===this.mutationQueue.length)}},{key:"addMutationBatch",value:function(e,t,n,r){var i=this.ws;this.ws++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];var a=new $_(i,t,n,r);this.mutationQueue.push(a);var o,u=ka(r);try{for(u.s();!(o=u.n()).done;){var s=o.value;this.gs=this.gs.add(new mE(s.key,i)),this.indexManager.addToCollectionParentIndex(e,s.key.path.popLast())}}catch(c){u.e(c)}finally{u.f()}return Gg.resolve(a)}},{key:"lookupMutationBatch",value:function(e,t){return Gg.resolve(this.ys(t))}},{key:"getNextMutationBatchAfterBatchId",value:function(e,t){var n=t+1,r=this.ps(n),i=r<0?0:r;return Gg.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}},{key:"getHighestUnacknowledgedBatchId",value:function(){return Gg.resolve(0===this.mutationQueue.length?-1:this.ws-1)}},{key:"getAllMutationBatches",value:function(e){return Gg.resolve(this.mutationQueue.slice())}},{key:"getAllMutationBatchesAffectingDocumentKey",value:function(e,t){var n=this,r=new mE(t,0),i=new mE(t,Number.POSITIVE_INFINITY),a=[];return this.gs.forEachInRange([r,i],(function(e){var t=n.ys(e._s);a.push(t)})),Gg.resolve(a)}},{key:"getAllMutationBatchesAffectingDocumentKeys",value:function(e,t){var n=this,r=new fk(xg);return t.forEach((function(e){var t=new mE(e,0),i=new mE(e,Number.POSITIVE_INFINITY);n.gs.forEachInRange([t,i],(function(e){r=r.add(e._s)}))})),Gg.resolve(this.Is(r))}},{key:"getAllMutationBatchesAffectingQuery",value:function(e,t){var n=t.path,r=n.length+1,i=n;Pg.isDocumentKey(i)||(i=i.child(""));var a=new mE(new Pg(i),0),o=new fk(xg);return this.gs.forEachWhile((function(e){var t=e.key.path;return!!n.isPrefixOf(t)&&(t.length===r&&(o=o.add(e._s)),!0)}),a),Gg.resolve(this.Is(o))}},{key:"Is",value:function(e){var t=this,n=[];return e.forEach((function(e){var r=t.ys(e);null!==r&&n.push(r)})),n}},{key:"removeMutationBatch",value:function(e,t){var n=this;sg(0===this.Ts(t.batchId,"removed")),this.mutationQueue.shift();var r=this.gs;return Gg.forEach(t.mutations,(function(i){var a=new mE(i.key,t.batchId);return r=r.delete(a),n.referenceDelegate.markPotentiallyOrphaned(e,i.key)})).next((function(){n.gs=r}))}},{key:"An",value:function(e){}},{key:"containsKey",value:function(e,t){var n=new mE(t,0),r=this.gs.firstAfterOrEqual(n);return Gg.resolve(t.isEqual(r&&r.key))}},{key:"performConsistencyCheck",value:function(e){return this.mutationQueue.length,Gg.resolve()}},{key:"Ts",value:function(e,t){return this.ps(e)}},{key:"ps",value:function(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}},{key:"ys",value:function(e){var t=this.ps(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}]),e}(),kE=function(){function e(t){d(this,e),this.Es=t,this.docs=new sk(Pg.comparator),this.size=0}return v(e,[{key:"setIndexManager",value:function(e){this.indexManager=e}},{key:"addEntry",value:function(e,t){var n=t.key,r=this.docs.get(n),i=r?r.size:0,a=this.Es(t);return this.docs=this.docs.insert(n,{document:t.mutableCopy(),size:a}),this.size+=a-i,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}},{key:"removeEntry",value:function(e){var t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}},{key:"getEntry",value:function(e,t){var n=this.docs.get(t);return Gg.resolve(n?n.document.mutableCopy():Jk.newInvalidDocument(t))}},{key:"getEntries",value:function(e,t){var n=this,r=_w();return t.forEach((function(e){var t=n.docs.get(e);r=r.insert(e,t?t.document.mutableCopy():Jk.newInvalidDocument(e))})),Gg.resolve(r)}},{key:"getAllFromCollection",value:function(e,t,n){for(var r=_w(),i=new Pg(t.child("")),a=this.docs.getIteratorFrom(i);a.hasNext();){var o=a.getNext(),u=o.key,s=o.value.document;if(!t.isPrefixOf(u.path))break;u.path.length>t.length+1||qg(Ug(s),n)<=0||(r=r.insert(s.key,s.mutableCopy()))}return Gg.resolve(r)}},{key:"getAllFromCollectionGroup",value:function(e,t,n,r){ug()}},{key:"As",value:function(e,t){return Gg.forEach(this.docs,(function(e){return t(e)}))}},{key:"newChangeBuffer",value:function(e){return new bE(this)}},{key:"getSize",value:function(e){return Gg.resolve(this.size)}}]),e}(),bE=function(e){m(n,e);var t=x(n);function n(e){var r;return d(this,n),(r=t.call(this)).Yn=e,r}return v(n,[{key:"applyChanges",value:function(e){var t=this,n=[];return this.changes.forEach((function(r,i){i.isValidDocument()?n.push(t.Yn.addEntry(e,i)):t.Yn.removeEntry(r)})),Gg.waitFor(n)}},{key:"getFromCache",value:function(e,t){return this.Yn.getEntry(e,t)}},{key:"getAllFromCache",value:function(e,t){return this.Yn.getEntries(e,t)}}]),n}(rE),wE=function(){function e(t){d(this,e),this.persistence=t,this.Rs=new bw((function(e){return eb(e)}),tb),this.lastRemoteSnapshotVersion=Tg.min(),this.highestTargetId=0,this.bs=0,this.Ps=new yE,this.targetCount=0,this.vs=Gx.Pn()}return v(e,[{key:"forEachTarget",value:function(e,t){return this.Rs.forEach((function(e,n){return t(n)})),Gg.resolve()}},{key:"getLastRemoteSnapshotVersion",value:function(e){return Gg.resolve(this.lastRemoteSnapshotVersion)}},{key:"getHighestSequenceNumber",value:function(e){return Gg.resolve(this.bs)}},{key:"allocateTargetId",value:function(e){return this.highestTargetId=this.vs.next(),Gg.resolve(this.highestTargetId)}},{key:"setTargetsMetadata",value:function(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this.bs&&(this.bs=t),Gg.resolve()}},{key:"Dn",value:function(e){this.Rs.set(e.target,e);var t=e.targetId;t>this.highestTargetId&&(this.vs=new Gx(t),this.highestTargetId=t),e.sequenceNumber>this.bs&&(this.bs=e.sequenceNumber)}},{key:"addTargetData",value:function(e,t){return this.Dn(t),this.targetCount+=1,Gg.resolve()}},{key:"updateTargetData",value:function(e,t){return this.Dn(t),Gg.resolve()}},{key:"removeTargetData",value:function(e,t){return this.Rs.delete(t.target),this.Ps.ls(t.targetId),this.targetCount-=1,Gg.resolve()}},{key:"removeTargets",value:function(e,t,n){var r=this,i=0,a=[];return this.Rs.forEach((function(o,u){u.sequenceNumber<=t&&null===n.get(u.targetId)&&(r.Rs.delete(o),a.push(r.removeMatchingKeysForTargetId(e,u.targetId)),i++)})),Gg.waitFor(a).next((function(){return i}))}},{key:"getTargetCount",value:function(e){return Gg.resolve(this.targetCount)}},{key:"getTargetData",value:function(e,t){var n=this.Rs.get(t)||null;return Gg.resolve(n)}},{key:"addMatchingKeys",value:function(e,t,n){return this.Ps.us(t,n),Gg.resolve()}},{key:"removeMatchingKeys",value:function(e,t,n){this.Ps.hs(t,n);var r=this.persistence.referenceDelegate,i=[];return r&&t.forEach((function(t){i.push(r.markPotentiallyOrphaned(e,t))})),Gg.waitFor(i)}},{key:"removeMatchingKeysForTargetId",value:function(e,t){return this.Ps.ls(t),Gg.resolve()}},{key:"getMatchingKeysForTargetId",value:function(e,t){var n=this.Ps.ds(t);return Gg.resolve(n)}},{key:"containsKey",value:function(e,t){return Gg.resolve(this.Ps.containsKey(t))}}]),e}(),_E=function(){function e(t,n){var r=this;d(this,e),this.Vs={},this.overlays={},this.Ss=new ik(0),this.Ds=!1,this.Ds=!0,this.referenceDelegate=t(this),this.Cs=new wE(this),this.indexManager=new Cx,this.remoteDocumentCache=new kE((function(e){return r.referenceDelegate.xs(e)})),this.It=new ex(n),this.Ns=new pE(this.It)}return v(e,[{key:"start",value:function(){return Promise.resolve()}},{key:"shutdown",value:function(){return this.Ds=!1,Promise.resolve()}},{key:"started",get:function(){return this.Ds}},{key:"setDatabaseDeletedListener",value:function(){}},{key:"setNetworkEnabled",value:function(){}},{key:"getIndexManager",value:function(e){return this.indexManager}},{key:"getDocumentOverlayCache",value:function(e){var t=this.overlays[e.toKey()];return t||(t=new vE,this.overlays[e.toKey()]=t),t}},{key:"getMutationQueue",value:function(e,t){var n=this.Vs[e.toKey()];return n||(n=new gE(t,this.referenceDelegate),this.Vs[e.toKey()]=n),n}},{key:"getTargetCache",value:function(){return this.Cs}},{key:"getRemoteDocumentCache",value:function(){return this.remoteDocumentCache}},{key:"getBundleCache",value:function(){return this.Ns}},{key:"runTransaction",value:function(e,t,n){var r=this;rg("MemoryPersistence","Starting transaction:",e);var i=new xE(this.Ss.next());return this.referenceDelegate.ks(),n(i).next((function(e){return r.referenceDelegate.Ms(i).next((function(){return e}))})).toPromise().then((function(e){return i.raiseOnCommittedEvent(),e}))}},{key:"Os",value:function(e,t){return Gg.or(Object.values(this.Vs).map((function(n){return function(){return n.containsKey(e,t)}})))}}]),e}(),xE=function(e){m(n,e);var t=x(n);function n(e){var r;return d(this,n),(r=t.call(this)).currentSequenceNumber=e,r}return v(n)}(zg),EE=function(){function e(t){d(this,e),this.persistence=t,this.Fs=new yE,this.$s=null}return v(e,[{key:"Ls",get:function(){if(this.$s)return this.$s;throw ug()}},{key:"addReference",value:function(e,t,n){return this.Fs.addReference(n,t),this.Ls.delete(n.toString()),Gg.resolve()}},{key:"removeReference",value:function(e,t,n){return this.Fs.removeReference(n,t),this.Ls.add(n.toString()),Gg.resolve()}},{key:"markPotentiallyOrphaned",value:function(e,t){return this.Ls.add(t.toString()),Gg.resolve()}},{key:"removeTarget",value:function(e,t){var n=this;this.Fs.ls(t.targetId).forEach((function(e){return n.Ls.add(e.toString())}));var r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next((function(e){e.forEach((function(e){return n.Ls.add(e.toString())}))})).next((function(){return r.removeTargetData(e,t)}))}},{key:"ks",value:function(){this.$s=new Set}},{key:"Ms",value:function(e){var t=this,n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Gg.forEach(this.Ls,(function(r){var i=Pg.fromPath(r);return t.Us(e,i).next((function(e){e||n.removeEntry(i,Tg.min())}))})).next((function(){return t.$s=null,n.apply(e)}))}},{key:"updateLimboDocument",value:function(e,t){var n=this;return this.Us(e,t).next((function(e){e?n.Ls.delete(t.toString()):n.Ls.add(t.toString())}))}},{key:"xs",value:function(e){return 0}},{key:"Us",value:function(e,t){var n=this;return Gg.or([function(){return Gg.resolve(n.Fs.containsKey(t))},function(){return n.persistence.getTargetCache().containsKey(e,t)},function(){return n.persistence.Os(e,t)}])}}],[{key:"Bs",value:function(t){return new e(t)}}]),e}(),SE=function(){function e(t){d(this,e),this.It=t}return v(e,[{key:"$",value:function(e,t,n,r){var i=this,a=new Hg("createOrUpgrade",t);n<1&&r>=1&&(function(e){e.createObjectStore("owner")}(e),function(e){e.createObjectStore("mutationQueues",{keyPath:"userId"}),e.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",S_,{unique:!0}),e.createObjectStore("documentMutations")}(e),IE(e),function(e){e.createObjectStore("remoteDocuments")}(e));var o=Gg.resolve();return n<3&&r>=3&&(0!==n&&(function(e){e.deleteObjectStore("targetDocuments"),e.deleteObjectStore("targets"),e.deleteObjectStore("targetGlobal")}(e),IE(e)),o=o.next((function(){return function(e){var t=e.store("targetGlobal"),n={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:Tg.min().toTimestamp(),targetCount:0};return t.put("targetGlobalKey",n)}(a)}))),n<4&&r>=4&&(0!==n&&(o=o.next((function(){return function(e,t){return t.store("mutations").W().next((function(n){e.deleteObjectStore("mutations"),e.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",S_,{unique:!0});var r=t.store("mutations"),i=n.map((function(e){return r.put(e)}));return Gg.waitFor(i)}))}(e,a)}))),o=o.next((function(){!function(e){e.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)}))),n<5&&r>=5&&(o=o.next((function(){return i.qs(a)}))),n<6&&r>=6&&(o=o.next((function(){return function(e){e.createObjectStore("remoteDocumentGlobal")}(e),i.Ks(a)}))),n<7&&r>=7&&(o=o.next((function(){return i.Gs(a)}))),n<8&&r>=8&&(o=o.next((function(){return i.Qs(e,a)}))),n<9&&r>=9&&(o=o.next((function(){!function(e){e.objectStoreNames.contains("remoteDocumentChanges")&&e.deleteObjectStore("remoteDocumentChanges")}(e)}))),n<10&&r>=10&&(o=o.next((function(){return i.js(a)}))),n<11&&r>=11&&(o=o.next((function(){!function(e){e.createObjectStore("bundles",{keyPath:"bundleId"})}(e),function(e){e.createObjectStore("namedQueries",{keyPath:"name"})}(e)}))),n<12&&r>=12&&(o=o.next((function(){!function(e){var t=e.createObjectStore("documentOverlays",{keyPath:V_});t.createIndex("collectionPathOverlayIndex",q_,{unique:!1}),t.createIndex("collectionGroupOverlayIndex",B_,{unique:!1})}(e)}))),n<13&&r>=13&&(o=o.next((function(){return function(e){var t=e.createObjectStore("remoteDocumentsV14",{keyPath:N_});t.createIndex("documentKeyIndex",A_),t.createIndex("collectionGroupIndex",O_)}(e)})).next((function(){return i.Ws(e,a)})).next((function(){return e.deleteObjectStore("remoteDocuments")}))),n<14&&r>=14&&(o=o.next((function(){return i.zs(e,a)}))),n<15&&r>=15&&(o=o.next((function(){return function(e){e.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),e.createObjectStore("indexState",{keyPath:L_}).createIndex("sequenceNumberIndex",j_,{unique:!1}),e.createObjectStore("indexEntries",{keyPath:M_}).createIndex("documentKeyIndex",U_,{unique:!1})}(e)}))),o}},{key:"Ks",value:function(e){var t=0;return e.store("remoteDocuments").Z((function(e,n){t+=Vx(n)})).next((function(){var n={byteSize:t};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",n)}))}},{key:"qs",value:function(e){var t=this,n=e.store("mutationQueues"),r=e.store("mutations");return n.W().next((function(n){return Gg.forEach(n,(function(n){var i=IDBKeyRange.bound([n.userId,-1],[n.userId,n.lastAcknowledgedBatchId]);return r.W("userMutationsIndex",i).next((function(r){return Gg.forEach(r,(function(r){sg(r.userId===n.userId);var i=ax(t.It,r);return Ux(e,n.userId,i).next((function(){}))}))}))}))}))}},{key:"Gs",value:function(e){var t=e.store("targetDocuments"),n=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next((function(e){var r=[];return n.Z((function(n,i){var a=new Ng(n),o=function(e){return[0,w_(e)]}(a);r.push(t.get(o).next((function(n){return n?Gg.resolve():function(n){return t.put({targetId:0,path:w_(n),sequenceNumber:e.highestListenSequenceNumber})}(a)})))})).next((function(){return Gg.waitFor(r)}))}))}},{key:"Qs",value:function(e,t){e.createObjectStore("collectionParents",{keyPath:F_});var n=t.store("collectionParents"),r=new Nx,i=function(e){if(r.add(e)){var t=e.lastSegment(),i=e.popLast();return n.put({collectionId:t,parent:w_(i)})}};return t.store("remoteDocuments").Z({X:!0},(function(e,t){var n=new Ng(e);return i(n.popLast())})).next((function(){return t.store("documentMutations").Z({X:!0},(function(e,t){var n=l(e,3),r=(n[0],n[1]),a=(n[2],E_(r));return i(a.popLast())}))}))}},{key:"js",value:function(e){var t=this,n=e.store("targets");return n.Z((function(e,r){var i=ox(r),a=ux(t.It,i);return n.put(a)}))}},{key:"Ws",value:function(e,t){var n=t.store("remoteDocuments"),r=[];return n.Z((function(e,n){var i,a=t.store("remoteDocumentsV14"),o=(i=n,i.document?new Pg(Ng.fromString(i.document.name).popFirst(5)):i.noDocument?Pg.fromSegments(i.noDocument.path):i.unknownDocument?Pg.fromSegments(i.unknownDocument.path):ug()).path.toArray(),u={prefixPath:o.slice(0,o.length-2),collectionGroup:o[o.length-2],documentId:o[o.length-1],readTime:n.readTime||[0,0],unknownDocument:n.unknownDocument,noDocument:n.noDocument,document:n.document,hasCommittedMutations:!!n.hasCommittedMutations};r.push(a.put(u))})).next((function(){return Gg.waitFor(r)}))}},{key:"zs",value:function(e,t){var n=this,r=t.store("mutations"),i=aE(this.It),a=new _E(EE.Bs,this.It.re);return r.W().next((function(e){var r=new Map;return e.forEach((function(e){var t,i=null!==(t=r.get(e.userId))&&void 0!==t?t:Ow();ax(n.It,e).keys().forEach((function(e){return i=i.add(e)})),r.set(e.userId,i)})),Gg.forEach(r,(function(e,r){var o=new Zm(r),u=vx.oe(n.It,o),s=a.getIndexManager(o),c=qx.oe(o,n.It,s,a.referenceDelegate);return new dE(i,c,u,s).recalculateAndSaveOverlaysForDocumentKeys(new Q_(t,ik.at),e).next()}))}))}}]),e}();function IE(e){e.createObjectStore("targetDocuments",{keyPath:R_}).createIndex("documentTargetsIndex",D_,{unique:!0}),e.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",P_,{unique:!0}),e.createObjectStore("targetGlobal")}var TE="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",CE=function(){function e(t,n,r,i,a,o,u,s,c,l){var f=arguments.length>10&&void 0!==arguments[10]?arguments[10]:15;if(d(this,e),this.allowTabSynchronization=t,this.persistenceKey=n,this.clientId=r,this.Hs=a,this.window=o,this.document=u,this.Js=c,this.Ys=l,this.Xs=f,this.Ss=null,this.Ds=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Zs=null,this.inForeground=!1,this.ti=null,this.ei=null,this.ni=Number.NEGATIVE_INFINITY,this.si=function(e){return Promise.resolve()},!e.C())throw new fg(lg.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new tE(this,i),this.ii=n+"main",this.It=new ex(s),this.ri=new Qg(this.ii,this.Xs,new SE(this.It)),this.Cs=new Hx(this.referenceDelegate,this.It),this.remoteDocumentCache=aE(this.It),this.Ns=new hx,this.window&&this.window.localStorage?this.oi=this.window.localStorage:(this.oi=null,!1===l&&ig("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}return v(e,[{key:"start",value:function(){var e=this;return this.ui().then((function(){if(!e.isPrimary&&!e.allowTabSynchronization)throw new fg(lg.FAILED_PRECONDITION,TE);return e.ci(),e.ai(),e.hi(),e.runTransaction("getHighestListenSequenceNumber","readonly",(function(t){return e.Cs.getHighestSequenceNumber(t)}))})).then((function(t){e.Ss=new ik(t,e.Js)})).then((function(){e.Ds=!0})).catch((function(t){return e.ri&&e.ri.close(),Promise.reject(t)}))}},{key:"li",value:function(e){var t=this;return this.si=function(){var n=He(Ke().mark((function n(r){return Ke().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!t.started){n.next=2;break}return n.abrupt("return",e(r));case 2:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}(),e(this.isPrimary)}},{key:"setDatabaseDeletedListener",value:function(e){this.ri.L(function(){var t=He(Ke().mark((function t(n){return Ke().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.t0=null===n.newVersion,!t.t0){t.next=4;break}return t.next=4,e();case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())}},{key:"setNetworkEnabled",value:function(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.Hs.enqueueAndForget(He(Ke().mark((function e(){return Ke().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=t.started,!e.t0){e.next=4;break}return e.next=4,t.ui();case 4:case"end":return e.stop()}}),e)})))))}},{key:"ui",value:function(){var e=this;return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",(function(t){return AE(t).put({clientId:e.clientId,updateTimeMs:Date.now(),networkEnabled:e.networkEnabled,inForeground:e.inForeground}).next((function(){if(e.isPrimary)return e.fi(t).next((function(t){t||(e.isPrimary=!1,e.Hs.enqueueRetryable((function(){return e.si(!1)})))}))})).next((function(){return e.di(t)})).next((function(n){return e.isPrimary&&!n?e._i(t).next((function(){return!1})):!!n&&e.wi(t).next((function(){return!0}))}))})).catch((function(t){if(Jg(t))return rg("IndexedDbPersistence","Failed to extend owner lease: ",t),e.isPrimary;if(!e.allowTabSynchronization)throw t;return rg("IndexedDbPersistence","Releasing owner lease after error during lease refresh",t),!1})).then((function(t){e.isPrimary!==t&&e.Hs.enqueueRetryable((function(){return e.si(t)})),e.isPrimary=t}))}},{key:"fi",value:function(e){var t=this;return NE(e).get("owner").next((function(e){return Gg.resolve(t.mi(e))}))}},{key:"gi",value:function(e){return AE(e).delete(this.clientId)}},{key:"yi",value:function(){var e=He(Ke().mark((function e(){var t,n,r,i,a=this;return Ke().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.isPrimary||this.pi(this.ni,18e5)){e.next=6;break}return this.ni=Date.now(),e.next=4,this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",(function(e){var t=Y_(e,"clientMetadata");return t.W().next((function(e){var n=a.Ii(e,18e5),r=e.filter((function(e){return-1===n.indexOf(e)}));return Gg.forEach(r,(function(e){return t.delete(e.clientId)})).next((function(){return r}))}))})).catch((function(){return[]}));case 4:if(t=e.sent,this.oi){n=ka(t);try{for(n.s();!(r=n.n()).done;)i=r.value,this.oi.removeItem(this.Ti(i.clientId))}catch(o){n.e(o)}finally{n.f()}}case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"hi",value:function(){var e=this;this.ei=this.Hs.enqueueAfterDelay("client_metadata_refresh",4e3,(function(){return e.ui().then((function(){return e.yi()})).then((function(){return e.hi()}))}))}},{key:"mi",value:function(e){return!!e&&e.ownerId===this.clientId}},{key:"di",value:function(e){var t=this;return this.Ys?Gg.resolve(!0):NE(e).get("owner").next((function(n){if(null!==n&&t.pi(n.leaseTimestampMs,5e3)&&!t.Ei(n.ownerId)){if(t.mi(n)&&t.networkEnabled)return!0;if(!t.mi(n)){if(!n.allowTabSynchronization)throw new fg(lg.FAILED_PRECONDITION,TE);return!1}}return!(!t.networkEnabled||!t.inForeground)||AE(e).W().next((function(e){return void 0===t.Ii(e,5e3).find((function(e){if(t.clientId!==e.clientId){var n=!t.networkEnabled&&e.networkEnabled,r=!t.inForeground&&e.inForeground,i=t.networkEnabled===e.networkEnabled;if(n||r&&i)return!0}return!1}))}))})).next((function(e){return t.isPrimary!==e&&rg("IndexedDbPersistence","Client ".concat(e?"is":"is not"," eligible for a primary lease.")),e}))}},{key:"shutdown",value:function(){var e=He(Ke().mark((function e(){var t=this;return Ke().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.Ds=!1,this.Ai(),this.ei&&(this.ei.cancel(),this.ei=null),this.Ri(),this.bi(),e.next=7,this.ri.runTransaction("shutdown","readwrite",["owner","clientMetadata"],(function(e){var n=new Q_(e,ik.at);return t._i(n).next((function(){return t.gi(n)}))}));case 7:this.ri.close(),this.Pi();case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Ii",value:function(e,t){var n=this;return e.filter((function(e){return n.pi(e.updateTimeMs,t)&&!n.Ei(e.clientId)}))}},{key:"vi",value:function(){var e=this;return this.runTransaction("getActiveClients","readonly",(function(t){return AE(t).W().next((function(t){return e.Ii(t,18e5).map((function(e){return e.clientId}))}))}))}},{key:"started",get:function(){return this.Ds}},{key:"getMutationQueue",value:function(e,t){return qx.oe(e,this.It,t,this.referenceDelegate)}},{key:"getTargetCache",value:function(){return this.Cs}},{key:"getRemoteDocumentCache",value:function(){return this.remoteDocumentCache}},{key:"getIndexManager",value:function(e){return new Ox(e,this.It.re.databaseId)}},{key:"getDocumentOverlayCache",value:function(e){return vx.oe(this.It,e)}},{key:"getBundleCache",value:function(){return this.Ns}},{key:"runTransaction",value:function(e,t,n){var r=this;rg("IndexedDbPersistence","Starting transaction:",e);var i,a,o="readonly"===t?"readonly":"readwrite",u=15===(i=this.Xs)?H_:14===i?G_:13===i?K_:12===i?W_:11===i?z_:void ug();return this.ri.runTransaction(e,o,u,(function(i){return a=new Q_(i,r.Ss?r.Ss.next():ik.at),"readwrite-primary"===t?r.fi(a).next((function(e){return!!e||r.di(a)})).next((function(t){if(!t)throw ig("Failed to obtain primary lease for action '".concat(e,"'.")),r.isPrimary=!1,r.Hs.enqueueRetryable((function(){return r.si(!1)})),new fg(lg.FAILED_PRECONDITION,Bg);return n(a)})).next((function(e){return r.wi(a).next((function(){return e}))})):r.Vi(a).next((function(){return n(a)}))})).then((function(e){return a.raiseOnCommittedEvent(),e}))}},{key:"Vi",value:function(e){var t=this;return NE(e).get("owner").next((function(e){if(null!==e&&t.pi(e.leaseTimestampMs,5e3)&&!t.Ei(e.ownerId)&&!t.mi(e)&&!(t.Ys||t.allowTabSynchronization&&e.allowTabSynchronization))throw new fg(lg.FAILED_PRECONDITION,TE)}))}},{key:"wi",value:function(e){var t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return NE(e).put("owner",t)}},{key:"_i",value:function(e){var t=this,n=NE(e);return n.get("owner").next((function(e){return t.mi(e)?(rg("IndexedDbPersistence","Releasing primary lease."),n.delete("owner")):Gg.resolve()}))}},{key:"pi",value:function(e,t){var n=Date.now();return!(e<n-t)&&(!(e>n)||(ig("Detected an update time that is in the future: ".concat(e," > ").concat(n)),!1))}},{key:"ci",value:function(){var e=this;null!==this.document&&"function"==typeof this.document.addEventListener&&(this.ti=function(){e.Hs.enqueueAndForget((function(){return e.inForeground="visible"===e.document.visibilityState,e.ui()}))},this.document.addEventListener("visibilitychange",this.ti),this.inForeground="visible"===this.document.visibilityState)}},{key:"Ri",value:function(){this.ti&&(this.document.removeEventListener("visibilitychange",this.ti),this.ti=null)}},{key:"ai",value:function(){var e,t=this;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.Zs=function(){t.Ai(),!La()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")&&navigator.appVersion.match(/Version\/1[45]/)&&t.Hs.enterRestrictedMode(!0),t.Hs.enqueueAndForget((function(){return t.shutdown()}))},this.window.addEventListener("pagehide",this.Zs))}},{key:"bi",value:function(){this.Zs&&(this.window.removeEventListener("pagehide",this.Zs),this.Zs=null)}},{key:"Ei",value:function(e){var t;try{var n=null!==(null===(t=this.oi)||void 0===t?void 0:t.getItem(this.Ti(e)));return rg("IndexedDbPersistence","Client '".concat(e,"' ").concat(n?"is":"is not"," zombied in LocalStorage")),n}catch(e){return ig("IndexedDbPersistence","Failed to get zombied client id.",e),!1}}},{key:"Ai",value:function(){if(this.oi)try{this.oi.setItem(this.Ti(this.clientId),String(Date.now()))}catch(sp){ig("Failed to set zombie client id.",sp)}}},{key:"Pi",value:function(){if(this.oi)try{this.oi.removeItem(this.Ti(this.clientId))}catch(sp){}}},{key:"Ti",value:function(e){return"firestore_zombie_".concat(this.persistenceKey,"_").concat(e)}}],[{key:"C",value:function(){return Qg.C()}}]),e}();function NE(e){return Y_(e,"owner")}function AE(e){return Y_(e,"clientMetadata")}function OE(e,t){var n=e.projectId;return e.isDefaultDatabase||(n+="."+e.database),"firestore/"+t+"/"+n+"/"}var PE=function(){function e(t,n,r,i){d(this,e),this.targetId=t,this.fromCache=n,this.Si=r,this.Di=i}return v(e,null,[{key:"Ci",value:function(t,n){var r,i=Ow(),a=Ow(),o=ka(n.docChanges);try{for(o.s();!(r=o.n()).done;){var u=r.value;switch(u.type){case 0:i=i.add(u.doc.key);break;case 1:a=a.add(u.doc.key)}}}catch(s){o.e(s)}finally{o.f()}return new e(t,n.fromCache,i,a)}}]),e}(),RE=function(){function e(){d(this,e),this.xi=!1}return v(e,[{key:"initialize",value:function(e,t){this.Ni=e,this.indexManager=t,this.xi=!0}},{key:"getDocumentsMatchingQuery",value:function(e,t,n,r){var i=this;return this.ki(e,t).next((function(a){return a||i.Mi(e,t,r,n)})).next((function(n){return n||i.Oi(e,t)}))}},{key:"ki",value:function(e,t){var n=this;if(xb(t))return Gg.resolve(null);var r=Cb(t);return this.indexManager.getIndexType(e,r).next((function(i){return 0===i?null:(null!==t.limit&&1===i&&(t=Nb(t,null,"F"),r=Cb(t)),n.indexManager.getDocumentsMatchingTarget(e,r).next((function(i){var a=Ow.apply(void 0,h(i));return n.Ni.getDocuments(e,a).next((function(i){return n.indexManager.getMinOffset(e,r).next((function(r){var o=n.Fi(t,i);return n.$i(t,o,a,r.readTime)?n.ki(e,Nb(t,null,"F")):n.Bi(e,o,t,r)}))}))})))}))}},{key:"Mi",value:function(e,t,n,r){var i=this;return xb(t)||r.isEqual(Tg.min())?this.Oi(e,t):this.Ni.getDocuments(e,n).next((function(a){var o=i.Fi(t,a);return i.$i(t,o,n,r)?i.Oi(e,t):(ng()<=ko.DEBUG&&rg("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),Pb(t)),i.Bi(e,o,t,Mg(r,-1)))}))}},{key:"Fi",value:function(e,t){var n=new fk(Fb(e));return t.forEach((function(t,r){Rb(e,r)&&(n=n.add(r))})),n}},{key:"$i",value:function(e,t,n,r){if(null===e.limit)return!1;if(n.size!==t.size)return!0;var i="F"===e.limitType?t.last():t.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)}},{key:"Oi",value:function(e,t){return ng()<=ko.DEBUG&&rg("QueryEngine","Using full collection scan to execute query:",Pb(t)),this.Ni.getDocumentsMatchingQuery(e,t,Vg.min())}},{key:"Bi",value:function(e,t,n,r){return this.Ni.getDocumentsMatchingQuery(e,n,r).next((function(e){return t.forEach((function(t){e=e.insert(t.key,t)})),e}))}}]),e}(),DE=function(){function e(t,n,r,i){d(this,e),this.persistence=t,this.Li=n,this.It=i,this.Ui=new sk(xg),this.qi=new bw((function(e){return eb(e)}),tb),this.Ki=new Map,this.Gi=t.getRemoteDocumentCache(),this.Cs=t.getTargetCache(),this.Ns=t.getBundleCache(),this.Qi(r)}return v(e,[{key:"Qi",value:function(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new dE(this.Gi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Gi.setIndexManager(this.indexManager),this.Li.initialize(this.localDocuments,this.indexManager)}},{key:"collectGarbage",value:function(e){var t=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary",(function(n){return e.collect(n,t.Ui)}))}}]),e}();function FE(e,t,n,r){return new DE(e,t,n,r)}function LE(e,t){return jE.apply(this,arguments)}function jE(){return jE=He(Ke().mark((function e(t,n){var r;return Ke().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=cg(t),e.next=3,r.persistence.runTransaction("Handle user change","readonly",(function(e){var t;return r.mutationQueue.getAllMutationBatches(e).next((function(i){return t=i,r.Qi(n),r.mutationQueue.getAllMutationBatches(e)})).next((function(n){var i,a=[],o=[],u=Ow(),s=ka(t);try{for(s.s();!(i=s.n()).done;){var c=i.value;a.push(c.batchId);var l,f=ka(c.mutations);try{for(f.s();!(l=f.n()).done;){var h=l.value;u=u.add(h.key)}}catch(k){f.e(k)}finally{f.f()}}}catch(k){s.e(k)}finally{s.f()}var d,p=ka(n);try{for(p.s();!(d=p.n()).done;){var v=d.value;o.push(v.batchId);var y,m=ka(v.mutations);try{for(m.s();!(y=m.n()).done;){var g=y.value;u=u.add(g.key)}}catch(k){m.e(k)}finally{m.f()}}}catch(k){p.e(k)}finally{p.f()}return r.localDocuments.getDocuments(e,u).next((function(e){return{ji:e,removedBatchIds:a,addedBatchIds:o}}))}))}));case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)}))),jE.apply(this,arguments)}function ME(e,t){var n=cg(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(function(e){var r=t.batch.keys(),i=n.Gi.newChangeBuffer({trackRemovals:!0});return function(e,t,n,r){var i=n.batch,a=i.keys(),o=Gg.resolve();return a.forEach((function(e){o=o.next((function(){return r.getEntry(t,e)})).next((function(t){var a=n.docVersions.get(e);sg(null!==a),t.version.compareTo(a)<0&&(i.applyToRemoteDocument(t,n),t.isValidDocument()&&(t.setReadTime(n.commitVersion),r.addEntry(t)))}))})),o.next((function(){return e.mutationQueue.removeMutationBatch(t,i)}))}(n,e,t,i).next((function(){return i.apply(e)})).next((function(){return n.mutationQueue.performConsistencyCheck(e)})).next((function(){return n.documentOverlayCache.removeOverlaysForBatchId(e,r,t.batch.batchId)})).next((function(){return n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,function(e){for(var t=Ow(),n=0;n<e.mutationResults.length;++n)e.mutationResults[n].transformResults.length>0&&(t=t.add(e.batch.mutations[n].key));return t}(t))})).next((function(){return n.localDocuments.getDocuments(e,r)}))}))}function UE(e){var t=cg(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(function(e){return t.Cs.getLastRemoteSnapshotVersion(e)}))}function VE(e,t){var n=cg(e),r=t.snapshotVersion,i=n.Ui;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(function(e){var a=n.Gi.newChangeBuffer({trackRemovals:!0});i=n.Ui;var o=[];t.targetChanges.forEach((function(a,u){var s=i.get(u);if(s){o.push(n.Cs.removeMatchingKeys(e,a.removedDocuments,u).next((function(){return n.Cs.addMatchingKeys(e,a.addedDocuments,u)})));var c=s.withSequenceNumber(e.currentSequenceNumber);t.targetMismatches.has(u)?c=c.withResumeToken(vk.EMPTY_BYTE_STRING,Tg.min()).withLastLimboFreeSnapshotVersion(Tg.min()):a.resumeToken.approximateByteSize()>0&&(c=c.withResumeToken(a.resumeToken,r)),i=i.insert(u,c),function(e,t,n){return 0===e.resumeToken.approximateByteSize()||(t.snapshotVersion.toMicroseconds()-e.snapshotVersion.toMicroseconds()>=3e8||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0)}(s,c,a)&&o.push(n.Cs.updateTargetData(e,c))}}));var u=_w(),s=Ow();if(t.documentUpdates.forEach((function(r){t.resolvedLimboDocuments.has(r)&&o.push(n.persistence.referenceDelegate.updateLimboDocument(e,r))})),o.push(qE(e,a,t.documentUpdates).next((function(e){u=e.Wi,s=e.zi}))),!r.isEqual(Tg.min())){var c=n.Cs.getLastRemoteSnapshotVersion(e).next((function(t){return n.Cs.setTargetsMetadata(e,e.currentSequenceNumber,r)}));o.push(c)}return Gg.waitFor(o).next((function(){return a.apply(e)})).next((function(){return n.localDocuments.getLocalViewOfDocuments(e,u,s)})).next((function(){return u}))})).then((function(e){return n.Ui=i,e}))}function qE(e,t,n){var r=Ow(),i=Ow();return n.forEach((function(e){return r=r.add(e)})),t.getEntries(e,r).next((function(e){var r=_w();return n.forEach((function(n,a){var o=e.get(n);a.isFoundDocument()!==o.isFoundDocument()&&(i=i.add(n)),a.isNoDocument()&&a.version.isEqual(Tg.min())?(t.removeEntry(n,a.readTime),r=r.insert(n,a)):!o.isValidDocument()||a.version.compareTo(o.version)>0||0===a.version.compareTo(o.version)&&o.hasPendingWrites?(t.addEntry(a),r=r.insert(n,a)):rg("LocalStore","Ignoring outdated watch update for ",n,". Current version:",o.version," Watch version:",a.version)})),{Wi:r,zi:i}}))}function BE(e,t){var n=cg(e);return n.persistence.runTransaction("Get next mutation batch","readonly",(function(e){return void 0===t&&(t=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(e,t)}))}function zE(e,t){var n=cg(e);return n.persistence.runTransaction("Allocate target","readwrite",(function(e){var r;return n.Cs.getTargetData(e,t).next((function(i){return i?(r=i,Gg.resolve(r)):n.Cs.allocateTargetId(e).next((function(i){return r=new Z_(t,i,0,e.currentSequenceNumber),n.Cs.addTargetData(e,r).next((function(){return r}))}))}))})).then((function(e){var r=n.Ui.get(e.targetId);return(null===r||e.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.Ui=n.Ui.insert(e.targetId,e),n.qi.set(t,e.targetId)),e}))}function WE(e,t,n){return KE.apply(this,arguments)}function KE(){return KE=He(Ke().mark((function e(t,n,r){var i,a,o;return Ke().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=cg(t),a=i.Ui.get(n),o=r?"readwrite":"readwrite-primary",e.prev=1,e.t0=r,e.t0){e.next=6;break}return e.next=6,i.persistence.runTransaction("Release target",o,(function(e){return i.persistence.referenceDelegate.removeTarget(e,a)}));case 6:e.next=13;break;case 8:if(e.prev=8,e.t1=e.catch(1),Jg(e.t1)){e.next=12;break}throw e.t1;case 12:rg("LocalStore","Failed to update sequence numbers for target ".concat(n,": ").concat(e.t1));case 13:i.Ui=i.Ui.remove(n),i.qi.delete(a.target);case 14:case"end":return e.stop()}}),e,null,[[1,8]])}))),KE.apply(this,arguments)}function GE(e,t,n){var r=cg(e),i=Tg.min(),a=Ow();return r.persistence.runTransaction("Execute query","readonly",(function(e){return function(e,t,n){var r=cg(e),i=r.qi.get(n);return void 0!==i?Gg.resolve(r.Ui.get(i)):r.Cs.getTargetData(t,n)}(r,e,Cb(t)).next((function(t){if(t)return i=t.lastLimboFreeSnapshotVersion,r.Cs.getMatchingKeysForTargetId(e,t.targetId).next((function(e){a=e}))})).next((function(){return r.Li.getDocumentsMatchingQuery(e,t,n?i:Tg.min(),n?a:Ow())})).next((function(e){return YE(r,Db(t),e),{documents:e,Hi:a}}))}))}function HE(e,t){var n=cg(e),r=cg(n.Cs),i=n.Ui.get(t);return i?Promise.resolve(i.target):n.persistence.runTransaction("Get target data","readonly",(function(e){return r.se(e,t).next((function(e){return e?e.target:null}))}))}function QE(e,t){var n=cg(e),r=n.Ki.get(t)||Tg.min();return n.persistence.runTransaction("Get new document changes","readonly",(function(e){return n.Gi.getAllFromCollectionGroup(e,t,Mg(r,-1),Number.MAX_SAFE_INTEGER)})).then((function(e){return YE(n,t,e),e}))}function YE(e,t,n){var r=Tg.min();n.forEach((function(e,t){t.readTime.compareTo(r)>0&&(r=t.readTime)})),e.Ki.set(t,r)}function $E(e,t,n,r){return JE.apply(this,arguments)}function JE(){return JE=He(Ke().mark((function e(t,n,r,i){var a,o,u,s,c,l,f,h,d,p;return Ke().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=cg(t),o=Ow(),u=_w(),s=ka(r);try{for(s.s();!(c=s.n()).done;)l=c.value,f=n.Ji(l.metadata.name),l.document&&(o=o.add(f)),(h=n.Yi(l)).setReadTime(n.Xi(l.metadata.readTime)),u=u.insert(f,h)}catch(v){s.e(v)}finally{s.f()}return d=a.Gi.newChangeBuffer({trackRemovals:!0}),e.next=7,zE(a,function(e){return Cb(_b(Ng.fromString("__bundle__/docs/".concat(e))))}(i));case 7:return p=e.sent,e.abrupt("return",a.persistence.runTransaction("Apply bundle documents","readwrite",(function(e){return qE(e,d,u).next((function(t){return d.apply(e),t})).next((function(t){return a.Cs.removeMatchingKeysForTargetId(e,p.targetId).next((function(){return a.Cs.addMatchingKeys(e,o,p.targetId)})).next((function(){return a.localDocuments.getLocalViewOfDocuments(e,t.Wi,t.zi)})).next((function(){return t.Wi}))}))})));case 9:case"end":return e.stop()}}),e)}))),JE.apply(this,arguments)}function XE(e,t){return ZE.apply(this,arguments)}function ZE(){return ZE=He(Ke().mark((function e(t,n){var r,i,a,o=arguments;return Ke().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=o.length>2&&void 0!==o[2]?o[2]:Ow(),e.next=3,zE(t,Cb(sx(n.bundledQuery)));case 3:return i=e.sent,a=cg(t),e.abrupt("return",a.persistence.runTransaction("Save named query","readwrite",(function(e){var t=Yw(n.readTime);if(i.snapshotVersion.compareTo(t)>=0)return a.Ns.saveNamedQuery(e,n);var o=i.withResumeToken(vk.EMPTY_BYTE_STRING,t);return a.Ui=a.Ui.insert(o.targetId,o),a.Cs.updateTargetData(e,o).next((function(){return a.Cs.removeMatchingKeysForTargetId(e,i.targetId)})).next((function(){return a.Cs.addMatchingKeys(e,r,i.targetId)})).next((function(){return a.Ns.saveNamedQuery(e,n)}))})));case 6:case"end":return e.stop()}}),e)}))),ZE.apply(this,arguments)}function eS(e,t){return"firestore_clients_".concat(e,"_").concat(t)}function tS(e,t,n){var r="firestore_mutations_".concat(e,"_").concat(n);return t.isAuthenticated()&&(r+="_".concat(t.uid)),r}function nS(e,t){return"firestore_targets_".concat(e,"_").concat(t)}var rS=function(){function e(t,n,r,i){d(this,e),this.user=t,this.batchId=n,this.state=r,this.error=i}return v(e,[{key:"tr",value:function(){var e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}],[{key:"Zi",value:function(t,n,r){var i,a=JSON.parse(r),o="object"==typeof a&&-1!==["pending","acknowledged","rejected"].indexOf(a.state)&&(void 0===a.error||"object"==typeof a.error);return o&&a.error&&((o="string"==typeof a.error.message&&"string"==typeof a.error.code)&&(i=new fg(a.error.code,a.error.message))),o?new e(t,n,a.state,i):(ig("SharedClientState","Failed to parse mutation state for ID '".concat(n,"': ").concat(r)),null)}}]),e}(),iS=function(){function e(t,n,r){d(this,e),this.targetId=t,this.state=n,this.error=r}return v(e,[{key:"tr",value:function(){var e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}],[{key:"Zi",value:function(t,n){var r,i=JSON.parse(n),a="object"==typeof i&&-1!==["not-current","current","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return a&&i.error&&((a="string"==typeof i.error.message&&"string"==typeof i.error.code)&&(r=new fg(i.error.code,i.error.message))),a?new e(t,i.state,r):(ig("SharedClientState","Failed to parse target state for ID '".concat(t,"': ").concat(n)),null)}}]),e}(),aS=function(){function e(t,n){d(this,e),this.clientId=t,this.activeTargetIds=n}return v(e,null,[{key:"Zi",value:function(t,n){for(var r=JSON.parse(n),i="object"==typeof r&&r.activeTargetIds instanceof Array,a=Rw(),o=0;i&&o<r.activeTargetIds.length;++o)i=Tk(r.activeTargetIds[o]),a=a.add(r.activeTargetIds[o]);return i?new e(t,a):(ig("SharedClientState","Failed to parse client data for instance '".concat(t,"': ").concat(n)),null)}}]),e}(),oS=function(){function e(t,n){d(this,e),this.clientId=t,this.onlineState=n}return v(e,null,[{key:"Zi",value:function(t){var n=JSON.parse(t);return"object"==typeof n&&-1!==["Unknown","Online","Offline"].indexOf(n.onlineState)&&"string"==typeof n.clientId?new e(n.clientId,n.onlineState):(ig("SharedClientState","Failed to parse online state: ".concat(t)),null)}}]),e}(),uS=function(){function e(){d(this,e),this.activeTargetIds=Rw()}return v(e,[{key:"er",value:function(e){this.activeTargetIds=this.activeTargetIds.add(e)}},{key:"nr",value:function(e){this.activeTargetIds=this.activeTargetIds.delete(e)}},{key:"tr",value:function(){var e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}]),e}(),sS=function(){function e(t,n,r,i,a){d(this,e),this.window=t,this.Hs=n,this.persistenceKey=r,this.sr=i,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.ir=this.rr.bind(this),this.ur=new sk(xg),this.started=!1,this.cr=[];var o=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=a,this.ar=eS(this.persistenceKey,this.sr),this.hr=function(e){return"firestore_sequence_number_".concat(e)}(this.persistenceKey),this.ur=this.ur.insert(this.sr,new uS),this.lr=new RegExp("^firestore_clients_".concat(o,"_([^_]*)$")),this.dr=new RegExp("^firestore_mutations_".concat(o,"_(\\d+)(?:_(.*))?$")),this._r=new RegExp("^firestore_targets_".concat(o,"_(\\d+)$")),this.wr=function(e){return"firestore_online_state_".concat(e)}(this.persistenceKey),this.mr=function(e){return"firestore_bundle_loaded_v2_".concat(e)}(this.persistenceKey),this.window.addEventListener("storage",this.ir)}return v(e,[{key:"start",value:function(){var e=He(Ke().mark((function e(){var t,n,r,i,a,o,u,s,c,l,f,h=this;return Ke().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.syncEngine.vi();case 2:t=e.sent,n=ka(t),e.prev=4,n.s();case 6:if((r=n.n()).done){e.next=14;break}if((i=r.value)!==this.sr){e.next=10;break}return e.abrupt("continue",12);case 10:(a=this.getItem(eS(this.persistenceKey,i)))&&(o=aS.Zi(i,a))&&(this.ur=this.ur.insert(o.clientId,o));case 12:e.next=6;break;case 14:e.next=19;break;case 16:e.prev=16,e.t0=e.catch(4),n.e(e.t0);case 19:return e.prev=19,n.f(),e.finish(19);case 22:this.gr(),(u=this.storage.getItem(this.wr))&&(s=this.yr(u))&&this.pr(s),c=ka(this.cr);try{for(c.s();!(l=c.n()).done;)f=l.value,this.rr(f)}catch(d){c.e(d)}finally{c.f()}this.cr=[],this.window.addEventListener("pagehide",(function(){return h.shutdown()})),this.started=!0;case 28:case"end":return e.stop()}}),e,this,[[4,16,19,22]])})));return function(){return e.apply(this,arguments)}}()},{key:"writeSequenceNumber",value:function(e){this.setItem(this.hr,JSON.stringify(e))}},{key:"getAllActiveQueryTargets",value:function(){return this.Ir(this.ur)}},{key:"isActiveQueryTarget",value:function(e){var t=!1;return this.ur.forEach((function(n,r){r.activeTargetIds.has(e)&&(t=!0)})),t}},{key:"addPendingMutation",value:function(e){this.Tr(e,"pending")}},{key:"updateMutationState",value:function(e,t,n){this.Tr(e,t,n),this.Er(e)}},{key:"addLocalQueryTarget",value:function(e){var t="not-current";if(this.isActiveQueryTarget(e)){var n=this.storage.getItem(nS(this.persistenceKey,e));if(n){var r=iS.Zi(e,n);r&&(t=r.state)}}return this.Ar.er(e),this.gr(),t}},{key:"removeLocalQueryTarget",value:function(e){this.Ar.nr(e),this.gr()}},{key:"isLocalQueryTarget",value:function(e){return this.Ar.activeTargetIds.has(e)}},{key:"clearQueryState",value:function(e){this.removeItem(nS(this.persistenceKey,e))}},{key:"updateQueryState",value:function(e,t,n){this.Rr(e,t,n)}},{key:"handleUserChange",value:function(e,t,n){var r=this;t.forEach((function(e){r.Er(e)})),this.currentUser=e,n.forEach((function(e){r.addPendingMutation(e)}))}},{key:"setOnlineState",value:function(e){this.br(e)}},{key:"notifyBundleLoaded",value:function(e){this.Pr(e)}},{key:"shutdown",value:function(){this.started&&(this.window.removeEventListener("storage",this.ir),this.removeItem(this.ar),this.started=!1)}},{key:"getItem",value:function(e){var t=this.storage.getItem(e);return rg("SharedClientState","READ",e,t),t}},{key:"setItem",value:function(e,t){rg("SharedClientState","SET",e,t),this.storage.setItem(e,t)}},{key:"removeItem",value:function(e){rg("SharedClientState","REMOVE",e),this.storage.removeItem(e)}},{key:"rr",value:function(e){var t=this,n=e;if(n.storageArea===this.storage){if(rg("SharedClientState","EVENT",n.key,n.newValue),n.key===this.ar)return void ig("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Hs.enqueueRetryable(He(Ke().mark((function e(){var r,i,a,o,u,s,c;return Ke().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.started){e.next=43;break}if(null===n.key){e.next=41;break}if(!t.lr.test(n.key)){e.next=11;break}if(null!=n.newValue){e.next=6;break}return r=t.vr(n.key),e.abrupt("return",t.Vr(r,null));case 6:if(!(i=t.Sr(n.key,n.newValue))){e.next=9;break}return e.abrupt("return",t.Vr(i.clientId,i));case 9:e.next=41;break;case 11:if(!t.dr.test(n.key)){e.next=18;break}if(null===n.newValue){e.next=16;break}if(!(a=t.Dr(n.key,n.newValue))){e.next=16;break}return e.abrupt("return",t.Cr(a));case 16:e.next=41;break;case 18:if(!t._r.test(n.key)){e.next=25;break}if(null===n.newValue){e.next=23;break}if(!(o=t.Nr(n.key,n.newValue))){e.next=23;break}return e.abrupt("return",t.kr(o));case 23:e.next=41;break;case 25:if(n.key!==t.wr){e.next=32;break}if(null===n.newValue){e.next=30;break}if(!(u=t.yr(n.newValue))){e.next=30;break}return e.abrupt("return",t.pr(u));case 30:e.next=41;break;case 32:if(n.key!==t.hr){e.next=37;break}s=function(e){var t=ik.at;if(null!=e)try{var n=JSON.parse(e);sg("number"==typeof n),t=n}catch(e){ig("SharedClientState","Failed to read sequence number from WebStorage",e)}return t}(n.newValue),s!==ik.at&&t.sequenceNumberHandler(s),e.next=41;break;case 37:if(n.key!==t.mr){e.next=41;break}return c=t.Mr(n.newValue),e.next=41,Promise.all(c.map((function(e){return t.syncEngine.Or(e)})));case 41:e.next=44;break;case 43:t.cr.push(n);case 44:case"end":return e.stop()}}),e)}))))}}},{key:"Ar",get:function(){return this.ur.get(this.sr)}},{key:"gr",value:function(){this.setItem(this.ar,this.Ar.tr())}},{key:"Tr",value:function(e,t,n){var r=new rS(this.currentUser,e,t,n),i=tS(this.persistenceKey,this.currentUser,e);this.setItem(i,r.tr())}},{key:"Er",value:function(e){var t=tS(this.persistenceKey,this.currentUser,e);this.removeItem(t)}},{key:"br",value:function(e){var t={clientId:this.sr,onlineState:e};this.storage.setItem(this.wr,JSON.stringify(t))}},{key:"Rr",value:function(e,t,n){var r=nS(this.persistenceKey,e),i=new iS(e,t,n);this.setItem(r,i.tr())}},{key:"Pr",value:function(e){var t=JSON.stringify(Array.from(e));this.setItem(this.mr,t)}},{key:"vr",value:function(e){var t=this.lr.exec(e);return t?t[1]:null}},{key:"Sr",value:function(e,t){var n=this.vr(e);return aS.Zi(n,t)}},{key:"Dr",value:function(e,t){var n=this.dr.exec(e),r=Number(n[1]),i=void 0!==n[2]?n[2]:null;return rS.Zi(new Zm(i),r,t)}},{key:"Nr",value:function(e,t){var n=this._r.exec(e),r=Number(n[1]);return iS.Zi(r,t)}},{key:"yr",value:function(e){return oS.Zi(e)}},{key:"Mr",value:function(e){return JSON.parse(e)}},{key:"Cr",value:function(){var e=He(Ke().mark((function e(t){return Ke().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.user.uid!==this.currentUser.uid){e.next=2;break}return e.abrupt("return",this.syncEngine.Fr(t.batchId,t.state,t.error));case 2:rg("SharedClientState","Ignoring mutation for non-active user ".concat(t.user.uid));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"kr",value:function(e){return this.syncEngine.$r(e.targetId,e.state,e.error)}},{key:"Vr",value:function(e,t){var n=this,r=t?this.ur.insert(e,t):this.ur.remove(e),i=this.Ir(this.ur),a=this.Ir(r),o=[],u=[];return a.forEach((function(e){i.has(e)||o.push(e)})),i.forEach((function(e){a.has(e)||u.push(e)})),this.syncEngine.Br(o,u).then((function(){n.ur=r}))}},{key:"pr",value:function(e){this.ur.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}},{key:"Ir",value:function(e){var t=Rw();return e.forEach((function(e,n){t=t.unionWith(n.activeTargetIds)})),t}}],[{key:"C",value:function(e){return!(!e||!e.localStorage)}}]),e}(),cS=function(){function e(){d(this,e),this.Lr=new uS,this.Ur={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}return v(e,[{key:"addPendingMutation",value:function(e){}},{key:"updateMutationState",value:function(e,t,n){}},{key:"addLocalQueryTarget",value:function(e){return this.Lr.er(e),this.Ur[e]||"not-current"}},{key:"updateQueryState",value:function(e,t,n){this.Ur[e]=t}},{key:"removeLocalQueryTarget",value:function(e){this.Lr.nr(e)}},{key:"isLocalQueryTarget",value:function(e){return this.Lr.activeTargetIds.has(e)}},{key:"clearQueryState",value:function(e){delete this.Ur[e]}},{key:"getAllActiveQueryTargets",value:function(){return this.Lr.activeTargetIds}},{key:"isActiveQueryTarget",value:function(e){return this.Lr.activeTargetIds.has(e)}},{key:"start",value:function(){return this.Lr=new uS,Promise.resolve()}},{key:"handleUserChange",value:function(e,t,n){}},{key:"setOnlineState",value:function(e){}},{key:"shutdown",value:function(){}},{key:"writeSequenceNumber",value:function(e){}},{key:"notifyBundleLoaded",value:function(e){}}]),e}(),lS=function(){function e(){d(this,e)}return v(e,[{key:"qr",value:function(e){}},{key:"shutdown",value:function(){}}]),e}(),fS=function(){function e(){var t=this;d(this,e),this.Kr=function(){return t.Gr()},this.Qr=function(){return t.jr()},this.Wr=[],this.zr()}return v(e,[{key:"qr",value:function(e){this.Wr.push(e)}},{key:"shutdown",value:function(){window.removeEventListener("online",this.Kr),window.removeEventListener("offline",this.Qr)}},{key:"zr",value:function(){window.addEventListener("online",this.Kr),window.addEventListener("offline",this.Qr)}},{key:"Gr",value:function(){rg("ConnectivityMonitor","Network connectivity changed: AVAILABLE");var e,t=ka(this.Wr);try{for(t.s();!(e=t.n()).done;){(0,e.value)(0)}}catch(n){t.e(n)}finally{t.f()}}},{key:"jr",value:function(){rg("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");var e,t=ka(this.Wr);try{for(t.s();!(e=t.n()).done;){(0,e.value)(1)}}catch(n){t.e(n)}finally{t.f()}}}],[{key:"C",value:function(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}]),e}(),hS={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"},dS=function(){function e(t){d(this,e),this.Hr=t.Hr,this.Jr=t.Jr}return v(e,[{key:"Yr",value:function(e){this.Xr=e}},{key:"Zr",value:function(e){this.eo=e}},{key:"onMessage",value:function(e){this.no=e}},{key:"close",value:function(){this.Jr()}},{key:"send",value:function(e){this.Hr(e)}},{key:"so",value:function(){this.Xr()}},{key:"io",value:function(e){this.eo(e)}},{key:"ro",value:function(e){this.no(e)}}]),e}(),pS=function(e){m(n,e);var t=x(n);function n(e){var r;return d(this,n),(r=t.call(this,e)).forceLongPolling=e.forceLongPolling,r.autoDetectLongPolling=e.autoDetectLongPolling,r.useFetchStreams=e.useFetchStreams,r}return v(n,[{key:"lo",value:function(e,t,n,r){return new Promise((function(i,a){var o=new Jm;o.listenOnce(Gm.COMPLETE,(function(){try{switch(o.getLastErrorCode()){case Km.NO_ERROR:var t=o.getResponseJson();rg("Connection","XHR received:",JSON.stringify(t)),i(t);break;case Km.TIMEOUT:rg("Connection",'RPC "'+e+'" timed out'),a(new fg(lg.DEADLINE_EXCEEDED,"Request time out"));break;case Km.HTTP_ERROR:var n=o.getStatus();if(rg("Connection",'RPC "'+e+'" failed with status:',n,"response text:",o.getResponseText()),n>0){var r=o.getResponseJson().error;if(r&&r.status&&r.message){var u=function(e){var t=e.toLowerCase().replace(/_/g,"-");return Object.values(lg).indexOf(t)>=0?t:lg.UNKNOWN}(r.status);a(new fg(u,r.message))}else a(new fg(lg.UNKNOWN,"Server responded with status "+o.getStatus()))}else a(new fg(lg.UNAVAILABLE,"Connection failed."));break;default:ug()}}finally{rg("Connection",'RPC "'+e+'" completed.')}}));var u=JSON.stringify(r);o.send(t,"POST",u,n,15)}))}},{key:"_o",value:function(e,t,n){var r=[this.oo,"/","google.firestore.v1.Firestore","/",e,"/channel"],i=zm(),a=Wm(),o={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/".concat(this.databaseId.projectId,"/databases/").concat(this.databaseId.database)},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(o.xmlHttpFactory=new Ym({})),this.ho(o.initMessageHeaders,t,n),o.encodeInitMessageHeaders=!0;var u=r.join("");rg("Connection","Creating WebChannel: "+u,o);var s=i.createWebChannel(u,o),c=!1,l=!1,f=new dS({Hr:function(e){l?rg("Connection","Not sending because WebChannel is closed:",e):(c||(rg("Connection","Opening WebChannel transport."),s.open(),c=!0),rg("Connection","WebChannel sending:",e),s.send(e))},Jr:function(){return s.close()}}),h=function(e,t,n){e.listen(t,(function(e){try{n(e)}catch(e){setTimeout((function(){throw e}),0)}}))};return h(s,$m.EventType.OPEN,(function(){l||rg("Connection","WebChannel transport opened.")})),h(s,$m.EventType.CLOSE,(function(){l||(l=!0,rg("Connection","WebChannel transport closed"),f.io())})),h(s,$m.EventType.ERROR,(function(e){l||(l=!0,ag("Connection","WebChannel transport errored:",e),f.io(new fg(lg.UNAVAILABLE,"The operation could not be completed")))})),h(s,$m.EventType.MESSAGE,(function(e){var t;if(!l){var n=e.data[0];sg(!!n);var r=n,i=r.error||(null===(t=r[0])||void 0===t?void 0:t.error);if(i){rg("Connection","WebChannel received error:",i);var a=i.status,o=function(e){var t=dw[e];if(void 0!==t)return kw(t)}(a),u=i.message;void 0===o&&(o=lg.INTERNAL,u="Unknown error status: "+a+" with message "+i.message),l=!0,f.io(new fg(o,u)),s.close()}else rg("Connection","WebChannel received:",n),f.ro(n)}})),h(a,Hm.STAT_EVENT,(function(e){e.stat===Qm.PROXY?rg("Connection","Detected buffering proxy"):e.stat===Qm.NOPROXY&&rg("Connection","Detected no buffering proxy")})),setTimeout((function(){f.so()}),0),f}}]),n}(function(){function e(t){d(this,e),this.databaseInfo=t,this.databaseId=t.databaseId;var n=t.ssl?"https":"http";this.oo=n+"://"+t.host,this.uo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}return v(e,[{key:"co",value:function(e,t,n,r,i){var a=this.ao(e,t);rg("RestConnection","Sending: ",a,n);var o={};return this.ho(o,r,i),this.lo(e,a,o,n).then((function(e){return rg("RestConnection","Received: ",e),e}),(function(t){throw ag("RestConnection","".concat(e," failed with error: "),t,"url: ",a,"request:",n),t}))}},{key:"fo",value:function(e,t,n,r,i,a){return this.co(e,t,n,r,i)}},{key:"ho",value:function(e,t,n){e["X-Goog-Api-Client"]="gl-js/ fire/"+eg,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((function(t,n){return e[n]=t})),n&&n.headers.forEach((function(t,n){return e[n]=t}))}},{key:"ao",value:function(e,t){var n=hS[e];return"".concat(this.oo,"/v1/").concat(t,":").concat(n)}}]),e}());function vS(){return"undefined"!=typeof window?window:null}function yS(){return"undefined"!=typeof document?document:null}function mS(e){return new Kw(e,!0)}var gS=function(){function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e3,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1.5,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:6e4;d(this,e),this.Hs=t,this.timerId=n,this.wo=r,this.mo=i,this.yo=a,this.po=0,this.Io=null,this.To=Date.now(),this.reset()}return v(e,[{key:"reset",value:function(){this.po=0}},{key:"Eo",value:function(){this.po=this.yo}},{key:"Ao",value:function(e){var t=this;this.cancel();var n=Math.floor(this.po+this.Ro()),r=Math.max(0,Date.now()-this.To),i=Math.max(0,n-r);i>0&&rg("ExponentialBackoff","Backing off for ".concat(i," ms (base delay: ").concat(this.po," ms, delay with jitter: ").concat(n," ms, last attempt: ").concat(r," ms ago)")),this.Io=this.Hs.enqueueAfterDelay(this.timerId,i,(function(){return t.To=Date.now(),e()})),this.po*=this.mo,this.po<this.wo&&(this.po=this.wo),this.po>this.yo&&(this.po=this.yo)}},{key:"bo",value:function(){null!==this.Io&&(this.Io.skipDelay(),this.Io=null)}},{key:"cancel",value:function(){null!==this.Io&&(this.Io.cancel(),this.Io=null)}},{key:"Ro",value:function(){return(Math.random()-.5)*this.po}}]),e}(),kS=function(){function e(t,n,r,i,a,o,u,s){d(this,e),this.Hs=t,this.Po=r,this.vo=i,this.Vo=a,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=u,this.listener=s,this.state=0,this.So=0,this.Do=null,this.Co=null,this.stream=null,this.xo=new gS(t,n)}return v(e,[{key:"No",value:function(){return 1===this.state||5===this.state||this.ko()}},{key:"ko",value:function(){return 2===this.state||3===this.state}},{key:"start",value:function(){4!==this.state?this.auth():this.Mo()}},{key:"stop",value:function(){var e=He(Ke().mark((function e(){return Ke().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.No(),!e.t0){e.next=4;break}return e.next=4,this.close(0);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Oo",value:function(){this.state=0,this.xo.reset()}},{key:"Fo",value:function(){var e=this;this.ko()&&null===this.Do&&(this.Do=this.Hs.enqueueAfterDelay(this.Po,6e4,(function(){return e.$o()})))}},{key:"Bo",value:function(e){this.Lo(),this.stream.send(e)}},{key:"$o",value:function(){var e=He(Ke().mark((function e(){return Ke().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.ko()){e.next=2;break}return e.abrupt("return",this.close(0));case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Lo",value:function(){this.Do&&(this.Do.cancel(),this.Do=null)}},{key:"Uo",value:function(){this.Co&&(this.Co.cancel(),this.Co=null)}},{key:"close",value:function(){var e=He(Ke().mark((function e(t,n){return Ke().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.Lo(),this.Uo(),this.xo.cancel(),this.So++,4!==t?this.xo.reset():n&&n.code===lg.RESOURCE_EXHAUSTED?(ig(n.toString()),ig("Using maximum backoff delay to prevent overloading the backend."),this.xo.Eo()):n&&n.code===lg.UNAUTHENTICATED&&3!==this.state&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),null!==this.stream&&(this.qo(),this.stream.close(),this.stream=null),this.state=t,e.next=9,this.listener.Zr(n);case 9:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"qo",value:function(){}},{key:"auth",value:function(){var e=this;this.state=1;var t=this.Ko(this.So),n=this.So;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((function(t){var r=l(t,2),i=r[0],a=r[1];e.So===n&&e.Go(i,a)}),(function(n){t((function(){var t=new fg(lg.UNKNOWN,"Fetching auth token failed: "+n.message);return e.Qo(t)}))}))}},{key:"Go",value:function(e,t){var n=this,r=this.Ko(this.So);this.stream=this.jo(e,t),this.stream.Yr((function(){r((function(){return n.state=2,n.Co=n.Hs.enqueueAfterDelay(n.vo,1e4,(function(){return n.ko()&&(n.state=3),Promise.resolve()})),n.listener.Yr()}))})),this.stream.Zr((function(e){r((function(){return n.Qo(e)}))})),this.stream.onMessage((function(e){r((function(){return n.onMessage(e)}))}))}},{key:"Mo",value:function(){var e=this;this.state=5,this.xo.Ao(He(Ke().mark((function t(){return Ke().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.state=0,e.start();case 1:case"end":return t.stop()}}),t)}))))}},{key:"Qo",value:function(e){return rg("PersistentStream","close with error: ".concat(e)),this.stream=null,this.close(4,e)}},{key:"Ko",value:function(e){var t=this;return function(n){t.Hs.enqueueAndForget((function(){return t.So===e?n():(rg("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())}))}}}]),e}(),bS=function(e){m(n,e);var t=x(n);function n(e,r,i,a,o,u){var s;return d(this,n),(s=t.call(this,e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",r,i,a,u)).It=o,s}return v(n,[{key:"jo",value:function(e,t){return this.Vo._o("Listen",e,t)}},{key:"onMessage",value:function(e){this.xo.reset();var t=function(e,t){var n;if("targetChange"in t){t.targetChange;var r=function(e){return"NO_CHANGE"===e?0:"ADD"===e?1:"REMOVE"===e?2:"CURRENT"===e?3:"RESET"===e?4:ug()}(t.targetChange.targetChangeType||"NO_CHANGE"),i=t.targetChange.targetIds||[],a=function(e,t){return e.gt?(sg(void 0===t||"string"==typeof t),vk.fromBase64String(t||"")):(sg(void 0===t||t instanceof Uint8Array),vk.fromUint8Array(t||new Uint8Array))}(e,t.targetChange.resumeToken),o=t.targetChange.cause,u=o&&function(e){var t=void 0===e.code?lg.UNKNOWN:kw(e.code);return new fg(t,e.message||"")}(o);n=new Mw(r,i,a,u||null)}else if("documentChange"in t){t.documentChange;var s=t.documentChange;s.document,s.document.name,s.document.updateTime;var c=Zw(e,s.document.name),l=Yw(s.document.updateTime),f=new Yk({mapValue:{fields:s.document.fields}}),h=Jk.newFoundDocument(c,l,f),d=s.targetIds||[],p=s.removedTargetIds||[];n=new Lw(d,p,h.key,h)}else if("documentDelete"in t){t.documentDelete;var v=t.documentDelete;v.document;var y=Zw(e,v.document),m=v.readTime?Yw(v.readTime):Tg.min(),g=Jk.newNoDocument(y,m),k=v.removedTargetIds||[];n=new Lw([],k,g.key,g)}else if("documentRemove"in t){t.documentRemove;var b=t.documentRemove;b.document;var w=Zw(e,b.document),_=b.removedTargetIds||[];n=new Lw([],_,w,null)}else{if(!("filter"in t))return ug();t.filter;var x=t.filter;x.targetId;var E=x.count||0,S=new mw(E),I=x.targetId;n=new jw(I,S)}return n}(this.It,e),n=function(e){if(!("targetChange"in e))return Tg.min();var t=e.targetChange;return t.targetIds&&t.targetIds.length?Tg.min():t.readTime?Yw(t.readTime):Tg.min()}(e);return this.listener.Wo(t,n)}},{key:"zo",value:function(e){var t={};t.database=n_(this.It),t.addTarget=function(e,t){var n,r=t.target;return(n=nb(r)?{documents:c_(e,r)}:{query:l_(e,r)}).targetId=t.targetId,t.resumeToken.approximateByteSize()>0?n.resumeToken=Hw(e,t.resumeToken):t.snapshotVersion.compareTo(Tg.min())>0&&(n.readTime=Gw(e,t.snapshotVersion.toTimestamp())),n}(this.It,e);var n=function(e,t){var n=function(e,t){switch(t){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return ug()}}(0,t.purpose);return null==n?null:{"goog-listen-tags":n}}(this.It,e);n&&(t.labels=n),this.Bo(t)}},{key:"Ho",value:function(e){var t={};t.database=n_(this.It),t.removeTarget=e,this.Bo(t)}}]),n}(kS),wS=function(e){m(n,e);var t=x(n);function n(e,r,i,a,o,u){var s;return d(this,n),(s=t.call(this,e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",r,i,a,u)).It=o,s.Jo=!1,s}return v(n,[{key:"Yo",get:function(){return this.Jo}},{key:"start",value:function(){this.Jo=!1,this.lastStreamToken=void 0,Du(g(n.prototype),"start",this).call(this)}},{key:"qo",value:function(){this.Jo&&this.Xo([])}},{key:"jo",value:function(e,t){return this.Vo._o("Write",e,t)}},{key:"onMessage",value:function(e){if(sg(!!e.streamToken),this.lastStreamToken=e.streamToken,this.Jo){this.xo.reset();var t=function(e,t){return e&&e.length>0?(sg(void 0!==t),e.map((function(e){return function(e,t){var n=e.updateTime?Yw(e.updateTime):Yw(t);return n.isEqual(Tg.min())&&(n=Yw(t)),new Zb(n,e.transformResults||[])}(e,t)}))):[]}(e.writeResults,e.commitTime),n=Yw(e.commitTime);return this.listener.Zo(n,t)}return sg(!e.writeResults||0===e.writeResults.length),this.Jo=!0,this.listener.tu()}},{key:"eu",value:function(){var e={};e.database=n_(this.It),this.Bo(e)}},{key:"Xo",value:function(e){var t=this,n={streamToken:this.lastStreamToken,writes:e.map((function(e){return u_(t.It,e)}))};this.Bo(n)}}]),n}(kS),_S=function(e){m(n,e);var t=x(n);function n(e,r,i,a){var o;return d(this,n),(o=t.call(this)).authCredentials=e,o.appCheckCredentials=r,o.Vo=i,o.It=a,o.nu=!1,o}return v(n,[{key:"su",value:function(){if(this.nu)throw new fg(lg.FAILED_PRECONDITION,"The client has already been terminated.")}},{key:"co",value:function(e,t,n){var r=this;return this.su(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((function(i){var a=l(i,2),o=a[0],u=a[1];return r.Vo.co(e,t,n,o,u)})).catch((function(e){throw"FirebaseError"===e.name?(e.code===lg.UNAUTHENTICATED&&(r.authCredentials.invalidateToken(),r.appCheckCredentials.invalidateToken()),e):new fg(lg.UNKNOWN,e.toString())}))}},{key:"fo",value:function(e,t,n,r){var i=this;return this.su(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((function(a){var o=l(a,2),u=o[0],s=o[1];return i.Vo.fo(e,t,n,u,s,r)})).catch((function(e){throw"FirebaseError"===e.name?(e.code===lg.UNAUTHENTICATED&&(i.authCredentials.invalidateToken(),i.appCheckCredentials.invalidateToken()),e):new fg(lg.UNKNOWN,e.toString())}))}},{key:"terminate",value:function(){this.nu=!0}}]),n}(function(){return v((function e(){d(this,e)}))}()),xS=function(){function e(t,n){d(this,e),this.asyncQueue=t,this.onlineStateHandler=n,this.state="Unknown",this.iu=0,this.ru=null,this.ou=!0}return v(e,[{key:"uu",value:function(){var e=this;0===this.iu&&(this.cu("Unknown"),this.ru=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(function(){return e.ru=null,e.au("Backend didn't respond within 10 seconds."),e.cu("Offline"),Promise.resolve()})))}},{key:"hu",value:function(e){"Online"===this.state?this.cu("Unknown"):(this.iu++,this.iu>=1&&(this.lu(),this.au("Connection failed 1 times. Most recent error: ".concat(e.toString())),this.cu("Offline")))}},{key:"set",value:function(e){this.lu(),this.iu=0,"Online"===e&&(this.ou=!1),this.cu(e)}},{key:"cu",value:function(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}},{key:"au",value:function(e){var t="Could not reach Cloud Firestore backend. ".concat(e,"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.");this.ou?(ig(t),this.ou=!1):rg("OnlineStateTracker",t)}},{key:"lu",value:function(){null!==this.ru&&(this.ru.cancel(),this.ru=null)}}]),e}(),ES=v((function e(t,n,r,i,a){var o=this;d(this,e),this.localStore=t,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.fu=[],this.du=new Map,this._u=new Set,this.wu=[],this.mu=a,this.mu.qr((function(e){r.enqueueAndForget(He(Ke().mark((function e(){return Ke().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=FS(o),!e.t0){e.next=5;break}return rg("RemoteStore","Restarting streams for network reachability change."),e.next=5,function(){var e=He(Ke().mark((function e(t){var n;return Ke().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=cg(t))._u.add(4),e.next=4,TS(n);case 4:return n.gu.set("Unknown"),n._u.delete(4),e.next=8,SS(n);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(o);case 5:case"end":return e.stop()}}),e)}))))})),this.gu=new xS(r,i)}));function SS(e){return IS.apply(this,arguments)}function IS(){return IS=He(Ke().mark((function e(t){var n,r,i;return Ke().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!FS(t)){e.next=18;break}n=ka(t.wu),e.prev=2,n.s();case 4:if((r=n.n()).done){e.next=10;break}return i=r.value,e.next=8,i(!0);case 8:e.next=4;break;case 10:e.next=15;break;case 12:e.prev=12,e.t0=e.catch(2),n.e(e.t0);case 15:return e.prev=15,n.f(),e.finish(15);case 18:case"end":return e.stop()}}),e,null,[[2,12,15,18]])}))),IS.apply(this,arguments)}function TS(e){return CS.apply(this,arguments)}function CS(){return CS=He(Ke().mark((function e(t){var n,r,i;return Ke().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=ka(t.wu),e.prev=1,n.s();case 3:if((r=n.n()).done){e.next=9;break}return i=r.value,e.next=7,i(!1);case 7:e.next=3;break;case 9:e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),n.e(e.t0);case 14:return e.prev=14,n.f(),e.finish(14);case 17:case"end":return e.stop()}}),e,null,[[1,11,14,17]])}))),CS.apply(this,arguments)}function NS(e,t){var n=cg(e);n.du.has(t.targetId)||(n.du.set(t.targetId,t),DS(n)?RS(n):lI(n).ko()&&OS(n,t))}function AS(e,t){var n=cg(e),r=lI(n);n.du.delete(t),r.ko()&&PS(n,t),0===n.du.size&&(r.ko()?r.Fo():FS(n)&&n.gu.set("Unknown"))}function OS(e,t){e.yu.Ot(t.targetId),lI(e).zo(t)}function PS(e,t){e.yu.Ot(t),lI(e).Ho(t)}function RS(e){e.yu=new Vw({getRemoteKeysForTarget:function(t){return e.remoteSyncer.getRemoteKeysForTarget(t)},se:function(t){return e.du.get(t)||null}}),lI(e).start(),e.gu.uu()}function DS(e){return FS(e)&&!lI(e).No()&&e.du.size>0}function FS(e){return 0===cg(e)._u.size}function LS(e){e.yu=void 0}function jS(e){return MS.apply(this,arguments)}function MS(){return MS=He(Ke().mark((function e(t){return Ke().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.du.forEach((function(e,n){OS(t,e)}));case 1:case"end":return e.stop()}}),e)}))),MS.apply(this,arguments)}function US(e,t){return VS.apply(this,arguments)}function VS(){return VS=He(Ke().mark((function e(t,n){return Ke().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:LS(t),DS(t)?(t.gu.hu(n),RS(t)):t.gu.set("Unknown");case 1:case"end":return e.stop()}}),e)}))),VS.apply(this,arguments)}function qS(e,t,n){return BS.apply(this,arguments)}function BS(){return BS=He(Ke().mark((function e(t,n,r){var i;return Ke().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.gu.set("Online"),!(n instanceof Mw&&2===n.state&&n.cause)){e.next=13;break}return e.prev=1,e.next=4,function(){var e=He(Ke().mark((function e(t,n){var r,i,a,o;return Ke().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=n.cause,i=ka(n.targetIds),e.prev=2,i.s();case 4:if((a=i.n()).done){e.next=14;break}if(o=a.value,e.t0=t.du.has(o),!e.t0){e.next=12;break}return e.next=10,t.remoteSyncer.rejectListen(o,r);case 10:t.du.delete(o),t.yu.removeTarget(o);case 12:e.next=4;break;case 14:e.next=19;break;case 16:e.prev=16,e.t1=e.catch(2),i.e(e.t1);case 19:return e.prev=19,i.f(),e.finish(19);case 22:case"end":return e.stop()}}),e,null,[[2,16,19,22]])})));return function(t,n){return e.apply(this,arguments)}}()(t,n);case 4:e.next=11;break;case 6:return e.prev=6,e.t0=e.catch(1),rg("RemoteStore","Failed to remove targets %s: %s ",n.targetIds.join(","),e.t0),e.next=11,zS(t,e.t0);case 11:case 22:e.next=29;break;case 13:if(n instanceof Lw?t.yu.Gt(n):n instanceof jw?t.yu.Yt(n):t.yu.Wt(n),r.isEqual(Tg.min())){e.next=29;break}return e.prev=14,e.next=17,UE(t.localStore);case 17:if(i=e.sent,e.t1=r.compareTo(i)>=0,!e.t1){e.next=22;break}return e.next=22,function(e,t){var n=e.yu.te(t);return n.targetChanges.forEach((function(n,r){if(n.resumeToken.approximateByteSize()>0){var i=e.du.get(r);i&&e.du.set(r,i.withResumeToken(n.resumeToken,t))}})),n.targetMismatches.forEach((function(t){var n=e.du.get(t);if(n){e.du.set(t,n.withResumeToken(vk.EMPTY_BYTE_STRING,n.snapshotVersion)),PS(e,t);var r=new Z_(n.target,t,1,n.sequenceNumber);OS(e,r)}})),e.remoteSyncer.applyRemoteEvent(n)}(t,r);case 24:return e.prev=24,e.t2=e.catch(14),rg("RemoteStore","Failed to raise snapshot:",e.t2),e.next=29,zS(t,e.t2);case 29:case"end":return e.stop()}}),e,null,[[1,6],[14,24]])}))),BS.apply(this,arguments)}function zS(e,t,n){return WS.apply(this,arguments)}function WS(){return WS=He(Ke().mark((function e(t,n,r){return Ke().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Jg(n)){e.next=2;break}throw n;case 2:return t._u.add(1),e.next=5,TS(t);case 5:t.gu.set("Offline"),r||(r=function(){return UE(t.localStore)}),t.asyncQueue.enqueueRetryable(He(Ke().mark((function e(){return Ke().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return rg("RemoteStore","Retrying IndexedDB access"),e.next=3,r();case 3:return t._u.delete(1),e.next=6,SS(t);case 6:case"end":return e.stop()}}),e)}))));case 8:case"end":return e.stop()}}),e)}))),WS.apply(this,arguments)}function KS(e,t){return t().catch((function(n){return zS(e,n,t)}))}function GS(e){return HS.apply(this,arguments)}function HS(){return HS=He(Ke().mark((function e(t){var n,r,i,a;return Ke().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=cg(t),r=fI(n),i=n.fu.length>0?n.fu[n.fu.length-1].batchId:-1;case 2:if(!QS(n)){e.next=19;break}return e.prev=3,e.next=6,BE(n.localStore,i);case 6:if(null!==(a=e.sent)){e.next=10;break}return 0===n.fu.length&&r.Fo(),e.abrupt("break",19);case 10:i=a.batchId,YS(n,a),e.next=17;break;case 13:return e.prev=13,e.t0=e.catch(3),e.next=17,zS(n,e.t0);case 17:e.next=2;break;case 19:$S(n)&&JS(n);case 20:case"end":return e.stop()}}),e,null,[[3,13]])}))),HS.apply(this,arguments)}function QS(e){return FS(e)&&e.fu.length<10}function YS(e,t){e.fu.push(t);var n=fI(e);n.ko()&&n.Yo&&n.Xo(t.mutations)}function $S(e){return FS(e)&&!fI(e).No()&&e.fu.length>0}function JS(e){fI(e).start()}function XS(e){return ZS.apply(this,arguments)}function ZS(){return ZS=He(Ke().mark((function e(t){return Ke().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:fI(t).eu();case 1:case"end":return e.stop()}}),e)}))),ZS.apply(this,arguments)}function eI(e){return tI.apply(this,arguments)}function tI(){return tI=He(Ke().mark((function e(t){var n,r,i,a;return Ke().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=fI(t),r=ka(t.fu);try{for(r.s();!(i=r.n()).done;)a=i.value,n.Xo(a.mutations)}catch(o){r.e(o)}finally{r.f()}case 3:case"end":return e.stop()}}),e)}))),tI.apply(this,arguments)}function nI(e,t,n){return rI.apply(this,arguments)}function rI(){return rI=He(Ke().mark((function e(t,n,r){var i,a;return Ke().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=t.fu.shift(),a=J_.from(i,n,r),e.next=3,KS(t,(function(){return t.remoteSyncer.applySuccessfulWrite(a)}));case 3:return e.next=5,GS(t);case 5:case"end":return e.stop()}}),e)}))),rI.apply(this,arguments)}function iI(e,t){return aI.apply(this,arguments)}function aI(){return aI=He(Ke().mark((function e(t,n){return Ke().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=n&&fI(t).Yo,!e.t0){e.next=4;break}return e.next=4,function(){var e=He(Ke().mark((function e(t,n){var r,i;return Ke().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!gw(i=n.code)||i===lg.ABORTED){e.next=7;break}return r=t.fu.shift(),fI(t).Oo(),e.next=5,KS(t,(function(){return t.remoteSyncer.rejectFailedWrite(r.batchId,n)}));case 5:return e.next=7,GS(t);case 7:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()(t,n);case 4:$S(t)&&JS(t);case 5:case"end":return e.stop()}}),e)}))),aI.apply(this,arguments)}function oI(e,t){return uI.apply(this,arguments)}function uI(){return uI=He(Ke().mark((function e(t,n){var r,i;return Ke().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(r=cg(t)).asyncQueue.verifyOperationInProgress(),rg("RemoteStore","RemoteStore received new credentials"),i=FS(r),r._u.add(3),e.next=6,TS(r);case 6:return i&&r.gu.set("Unknown"),e.next=9,r.remoteSyncer.handleCredentialChange(n);case 9:return r._u.delete(3),e.next=12,SS(r);case 12:case"end":return e.stop()}}),e)}))),uI.apply(this,arguments)}function sI(e,t){return cI.apply(this,arguments)}function cI(){return cI=He(Ke().mark((function e(t,n){var r;return Ke().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=cg(t),!n){e.next=7;break}return r._u.delete(2),e.next=5,SS(r);case 5:e.next=13;break;case 7:if(e.t0=n,e.t0){e.next=13;break}return r._u.add(2),e.next=12,TS(r);case 12:r.gu.set("Unknown");case 13:case"end":return e.stop()}}),e)}))),cI.apply(this,arguments)}function lI(e){return e.pu||(e.pu=function(e,t,n){var r=cg(e);return r.su(),new bS(t,r.Vo,r.authCredentials,r.appCheckCredentials,r.It,n)}(e.datastore,e.asyncQueue,{Yr:jS.bind(null,e),Zr:US.bind(null,e),Wo:qS.bind(null,e)}),e.wu.push(function(){var t=He(Ke().mark((function t(n){return Ke().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!n){t.next=4;break}e.pu.Oo(),DS(e)?RS(e):e.gu.set("Unknown"),t.next=7;break;case 4:return t.next=6,e.pu.stop();case 6:LS(e);case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())),e.pu}function fI(e){return e.Iu||(e.Iu=function(e,t,n){var r=cg(e);return r.su(),new wS(t,r.Vo,r.authCredentials,r.appCheckCredentials,r.It,n)}(e.datastore,e.asyncQueue,{Yr:XS.bind(null,e),Zr:iI.bind(null,e),tu:eI.bind(null,e),Zo:nI.bind(null,e)}),e.wu.push(function(){var t=He(Ke().mark((function t(n){return Ke().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!n){t.next=6;break}return e.Iu.Oo(),t.next=4,GS(e);case 4:t.next=9;break;case 6:return t.next=8,e.Iu.stop();case 8:e.fu.length>0&&(rg("RemoteStore","Stopping write stream with ".concat(e.fu.length," pending writes")),e.fu=[]);case 9:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())),e.Iu}var hI=function(){function e(t,n,r,i,a){d(this,e),this.asyncQueue=t,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=a,this.deferred=new hg,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((function(e){}))}return v(e,[{key:"start",value:function(e){var t=this;this.timerHandle=setTimeout((function(){return t.handleDelayElapsed()}),e)}},{key:"skipDelay",value:function(){return this.handleDelayElapsed()}},{key:"cancel",value:function(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new fg(lg.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}},{key:"handleDelayElapsed",value:function(){var e=this;this.asyncQueue.enqueueAndForget((function(){return null!==e.timerHandle?(e.clearTimeout(),e.op().then((function(t){return e.deferred.resolve(t)}))):Promise.resolve()}))}},{key:"clearTimeout",value:function(e){function t(){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}))}],[{key:"createAndSchedule",value:function(t,n,r,i,a){var o=new e(t,n,Date.now()+r,i,a);return o.start(r),o}}]),e}();function dI(e,t){if(ig("AsyncQueue","".concat(t,": ").concat(e)),Jg(e))return new fg(lg.UNAVAILABLE,"".concat(t,": ").concat(e));throw e}var pI=function(){function e(t){d(this,e),this.comparator=t?function(e,n){return t(e,n)||Pg.comparator(e.key,n.key)}:function(e,t){return Pg.comparator(e.key,t.key)},this.keyedMap=Ew(),this.sortedSet=new sk(this.comparator)}return v(e,[{key:"has",value:function(e){return null!=this.keyedMap.get(e)}},{key:"get",value:function(e){return this.keyedMap.get(e)}},{key:"first",value:function(){return this.sortedSet.minKey()}},{key:"last",value:function(){return this.sortedSet.maxKey()}},{key:"isEmpty",value:function(){return this.sortedSet.isEmpty()}},{key:"indexOf",value:function(e){var t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}},{key:"size",get:function(){return this.sortedSet.size}},{key:"forEach",value:function(e){this.sortedSet.inorderTraversal((function(t,n){return e(t),!1}))}},{key:"add",value:function(e){var t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}},{key:"delete",value:function(e){var t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}},{key:"isEqual",value:function(t){if(!(t instanceof e))return!1;if(this.size!==t.size)return!1;for(var n=this.sortedSet.getIterator(),r=t.sortedSet.getIterator();n.hasNext();){var i=n.getNext().key,a=r.getNext().key;if(!i.isEqual(a))return!1}return!0}},{key:"toString",value:function(){var e=[];return this.forEach((function(t){e.push(t.toString())})),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}},{key:"copy",value:function(t,n){var r=new e;return r.comparator=this.comparator,r.keyedMap=t,r.sortedSet=n,r}}],[{key:"emptySet",value:function(t){return new e(t.comparator)}}]),e}(),vI=function(){function e(){d(this,e),this.Tu=new sk(Pg.comparator)}return v(e,[{key:"track",value:function(e){var t=e.doc.key,n=this.Tu.get(t);n?0!==e.type&&3===n.type?this.Tu=this.Tu.insert(t,e):3===e.type&&1!==n.type?this.Tu=this.Tu.insert(t,{type:n.type,doc:e.doc}):2===e.type&&2===n.type?this.Tu=this.Tu.insert(t,{type:2,doc:e.doc}):2===e.type&&0===n.type?this.Tu=this.Tu.insert(t,{type:0,doc:e.doc}):1===e.type&&0===n.type?this.Tu=this.Tu.remove(t):1===e.type&&2===n.type?this.Tu=this.Tu.insert(t,{type:1,doc:n.doc}):0===e.type&&1===n.type?this.Tu=this.Tu.insert(t,{type:2,doc:e.doc}):ug():this.Tu=this.Tu.insert(t,e)}},{key:"Eu",value:function(){var e=[];return this.Tu.inorderTraversal((function(t,n){e.push(n)})),e}}]),e}(),yI=function(){function e(t,n,r,i,a,o,u,s){d(this,e),this.query=t,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=a,this.fromCache=o,this.syncStateChanged=u,this.excludesMetadataChanges=s}return v(e,[{key:"hasPendingWrites",get:function(){return!this.mutatedKeys.isEmpty()}},{key:"isEqual",value:function(e){if(!(this.fromCache===e.fromCache&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Ab(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;var t=this.docChanges,n=e.docChanges;if(t.length!==n.length)return!1;for(var r=0;r<t.length;r++)if(t[r].type!==n[r].type||!t[r].doc.isEqual(n[r].doc))return!1;return!0}}],[{key:"fromInitialDocuments",value:function(t,n,r,i){var a=[];return n.forEach((function(e){a.push({type:0,doc:e})})),new e(t,n,pI.emptySet(n),a,r,i,!0,!1)}}]),e}(),mI=v((function e(){d(this,e),this.Au=void 0,this.listeners=[]})),gI=v((function e(){d(this,e),this.queries=new bw((function(e){return Ob(e)}),Ab),this.onlineState="Unknown",this.Ru=new Set}));function kI(e,t){return bI.apply(this,arguments)}function bI(){return bI=He(Ke().mark((function e(t,n){var r,i,a,o,u;return Ke().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=cg(t),i=n.query,a=!1,(o=r.queries.get(i))||(a=!0,o=new mI),!a){e.next=13;break}return e.prev=3,e.next=6,r.onListen(i);case 6:o.Au=e.sent,e.next=13;break;case 9:return e.prev=9,e.t0=e.catch(3),u=dI(e.t0,"Initialization of query '".concat(Pb(n.query),"' failed")),e.abrupt("return",void n.onError(u));case 13:r.queries.set(i,o),o.listeners.push(n),n.bu(r.onlineState),o.Au&&n.Pu(o.Au)&&SI(r);case 14:case"end":return e.stop()}}),e,null,[[3,9]])}))),bI.apply(this,arguments)}function wI(e,t){return _I.apply(this,arguments)}function _I(){return _I=He(Ke().mark((function e(t,n){var r,i,a,o,u;return Ke().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=cg(t),i=n.query,a=!1,(o=r.queries.get(i))&&(u=o.listeners.indexOf(n))>=0&&(o.listeners.splice(u,1),a=0===o.listeners.length),!a){e.next=6;break}return e.abrupt("return",(r.queries.delete(i),r.onUnlisten(i)));case 6:case"end":return e.stop()}}),e)}))),_I.apply(this,arguments)}function xI(e,t){var n,r=cg(e),i=!1,a=ka(t);try{for(a.s();!(n=a.n()).done;){var o=n.value,u=o.query,s=r.queries.get(u);if(s){var c,l=ka(s.listeners);try{for(l.s();!(c=l.n()).done;){c.value.Pu(o)&&(i=!0)}}catch(f){l.e(f)}finally{l.f()}s.Au=o}}}catch(f){a.e(f)}finally{a.f()}i&&SI(r)}function EI(e,t,n){var r=cg(e),i=r.queries.get(t);if(i){var a,o=ka(i.listeners);try{for(o.s();!(a=o.n()).done;){a.value.onError(n)}}catch(u){o.e(u)}finally{o.f()}}r.queries.delete(t)}function SI(e){e.Ru.forEach((function(e){e.next()}))}var II=function(){function e(t,n,r){d(this,e),this.query=t,this.vu=n,this.Vu=!1,this.Su=null,this.onlineState="Unknown",this.options=r||{}}return v(e,[{key:"Pu",value:function(e){if(!this.options.includeMetadataChanges){var t,n=[],r=ka(e.docChanges);try{for(r.s();!(t=r.n()).done;){var i=t.value;3!==i.type&&n.push(i)}}catch(o){r.e(o)}finally{r.f()}e=new yI(e.query,e.docs,e.oldDocs,n,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0)}var a=!1;return this.Vu?this.Du(e)&&(this.vu.next(e),a=!0):this.Cu(e,this.onlineState)&&(this.xu(e),a=!0),this.Su=e,a}},{key:"onError",value:function(e){this.vu.error(e)}},{key:"bu",value:function(e){this.onlineState=e;var t=!1;return this.Su&&!this.Vu&&this.Cu(this.Su,e)&&(this.xu(this.Su),t=!0),t}},{key:"Cu",value:function(e,t){if(!e.fromCache)return!0;var n="Offline"!==t;return(!this.options.Nu||!n)&&(!e.docs.isEmpty()||"Offline"===t)}},{key:"Du",value:function(e){if(e.docChanges.length>0)return!0;var t=this.Su&&this.Su.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&!0===this.options.includeMetadataChanges}},{key:"xu",value:function(e){e=yI.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache),this.Vu=!0,this.vu.next(e)}}]),e}(),TI=function(){function e(t,n){d(this,e),this.payload=t,this.byteLength=n}return v(e,[{key:"ku",value:function(){return"metadata"in this.payload}}]),e}(),CI=function(){function e(t){d(this,e),this.It=t}return v(e,[{key:"Ji",value:function(e){return Zw(this.It,e)}},{key:"Yi",value:function(e){return e.metadata.exists?a_(this.It,e.document,!1):Jk.newNoDocument(this.Ji(e.metadata.name),this.Xi(e.metadata.readTime))}},{key:"Xi",value:function(e){return Yw(e)}}]),e}(),NI=function(){function e(t,n,r){d(this,e),this.Mu=t,this.localStore=n,this.It=r,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=AI(t)}return v(e,[{key:"Ou",value:function(e){this.progress.bytesLoaded+=e.byteLength;var t=this.progress.documentsLoaded;if(e.payload.namedQuery)this.queries.push(e.payload.namedQuery);else if(e.payload.documentMetadata){this.documents.push({metadata:e.payload.documentMetadata}),e.payload.documentMetadata.exists||++t;var n=Ng.fromString(e.payload.documentMetadata.name);this.collectionGroups.add(n.get(n.length-2))}else e.payload.document&&(this.documents[this.documents.length-1].document=e.payload.document,++t);return t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}},{key:"Fu",value:function(e){var t,n=new Map,r=new CI(this.It),i=ka(e);try{for(i.s();!(t=i.n()).done;){var a=t.value;if(a.metadata.queries){var o,u=r.Ji(a.metadata.name),s=ka(a.metadata.queries);try{for(s.s();!(o=s.n()).done;){var c=o.value,l=(n.get(c)||Ow()).add(u);n.set(c,l)}}catch(f){s.e(f)}finally{s.f()}}}}catch(f){i.e(f)}finally{i.f()}return n}},{key:"complete",value:function(){var e=He(Ke().mark((function e(){var t,n,r,i,a;return Ke().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,$E(this.localStore,new CI(this.It),this.documents,this.Mu.id);case 2:t=e.sent,n=this.Fu(this.documents),r=ka(this.queries),e.prev=5,r.s();case 7:if((i=r.n()).done){e.next=13;break}return a=i.value,e.next=11,XE(this.localStore,a,n.get(a.name));case 11:e.next=7;break;case 13:e.next=18;break;case 15:e.prev=15,e.t0=e.catch(5),r.e(e.t0);case 18:return e.prev=18,r.f(),e.finish(18);case 21:return e.abrupt("return",(this.progress.taskState="Success",{progress:this.progress,$u:this.collectionGroups,Bu:t}));case 22:case"end":return e.stop()}}),e,this,[[5,15,18,21]])})));return function(){return e.apply(this,arguments)}}()}]),e}();function AI(e){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:e.totalDocuments,totalBytes:e.totalBytes}}var OI=v((function e(t){d(this,e),this.key=t})),PI=v((function e(t){d(this,e),this.key=t})),RI=function(){function e(t,n){d(this,e),this.query=t,this.Lu=n,this.Uu=null,this.current=!1,this.qu=Ow(),this.mutatedKeys=Ow(),this.Ku=Fb(t),this.Gu=new pI(this.Ku)}return v(e,[{key:"Qu",get:function(){return this.Lu}},{key:"ju",value:function(e,t){var n=this,r=t?t.Wu:new vI,i=t?t.Gu:this.Gu,a=t?t.mutatedKeys:this.mutatedKeys,o=i,u=!1,s="F"===this.query.limitType&&i.size===this.query.limit?i.last():null,c="L"===this.query.limitType&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((function(e,t){var l=i.get(e),f=Rb(n.query,t)?t:null,h=!!l&&n.mutatedKeys.has(l.key),d=!!f&&(f.hasLocalMutations||n.mutatedKeys.has(f.key)&&f.hasCommittedMutations),p=!1;l&&f?l.data.isEqual(f.data)?h!==d&&(r.track({type:3,doc:f}),p=!0):n.zu(l,f)||(r.track({type:2,doc:f}),p=!0,(s&&n.Ku(f,s)>0||c&&n.Ku(f,c)<0)&&(u=!0)):!l&&f?(r.track({type:0,doc:f}),p=!0):l&&!f&&(r.track({type:1,doc:l}),p=!0,(s||c)&&(u=!0)),p&&(f?(o=o.add(f),a=d?a.add(e):a.delete(e)):(o=o.delete(e),a=a.delete(e)))})),null!==this.query.limit)for(;o.size>this.query.limit;){var l="F"===this.query.limitType?o.last():o.first();o=o.delete(l.key),a=a.delete(l.key),r.track({type:1,doc:l})}return{Gu:o,Wu:r,$i:u,mutatedKeys:a}}},{key:"zu",value:function(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}},{key:"applyChanges",value:function(e,t,n){var r=this,i=this.Gu;this.Gu=e.Gu,this.mutatedKeys=e.mutatedKeys;var a=e.Wu.Eu();a.sort((function(e,t){return function(e,t){var n=function(e){switch(e){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ug()}};return n(e)-n(t)}(e.type,t.type)||r.Ku(e.doc,t.doc)})),this.Hu(n);var o=t?this.Ju():[],u=0===this.qu.size&&this.current?1:0,s=u!==this.Uu;return this.Uu=u,0!==a.length||s?{snapshot:new yI(this.query,e.Gu,i,a,e.mutatedKeys,0===u,s,!1),Yu:o}:{Yu:o}}},{key:"bu",value:function(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Gu:this.Gu,Wu:new vI,mutatedKeys:this.mutatedKeys,$i:!1},!1)):{Yu:[]}}},{key:"Xu",value:function(e){return!this.Lu.has(e)&&!!this.Gu.has(e)&&!this.Gu.get(e).hasLocalMutations}},{key:"Hu",value:function(e){var t=this;e&&(e.addedDocuments.forEach((function(e){return t.Lu=t.Lu.add(e)})),e.modifiedDocuments.forEach((function(e){})),e.removedDocuments.forEach((function(e){return t.Lu=t.Lu.delete(e)})),this.current=e.current)}},{key:"Ju",value:function(){var e=this;if(!this.current)return[];var t=this.qu;this.qu=Ow(),this.Gu.forEach((function(t){e.Xu(t.key)&&(e.qu=e.qu.add(t.key))}));var n=[];return t.forEach((function(t){e.qu.has(t)||n.push(new PI(t))})),this.qu.forEach((function(e){t.has(e)||n.push(new OI(e))})),n}},{key:"Zu",value:function(e){this.Lu=e.Hi,this.qu=Ow();var t=this.ju(e.documents);return this.applyChanges(t,!0)}},{key:"tc",value:function(){return yI.fromInitialDocuments(this.query,this.Gu,this.mutatedKeys,0===this.Uu)}}]),e}(),DI=v((function e(t,n,r){d(this,e),this.query=t,this.targetId=n,this.view=r})),FI=v((function e(t){d(this,e),this.key=t,this.ec=!1})),LI=function(){function e(t,n,r,i,a,o){d(this,e),this.localStore=t,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=a,this.maxConcurrentLimboResolutions=o,this.nc={},this.sc=new bw((function(e){return Ob(e)}),Ab),this.ic=new Map,this.rc=new Set,this.oc=new sk(Pg.comparator),this.uc=new Map,this.cc=new yE,this.ac={},this.hc=new Map,this.lc=Gx.vn(),this.onlineState="Unknown",this.fc=void 0}return v(e,[{key:"isPrimaryClient",get:function(){return!0===this.fc}}]),e}();function jI(e,t){return MI.apply(this,arguments)}function MI(){return MI=He(Ke().mark((function e(t,n){var r,i,a,o,u,s;return Ke().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=AT(t),!(o=r.sc.get(n))){e.next=6;break}i=o.targetId,r.sharedClientState.addLocalQueryTarget(i),a=o.view.tc(),e.next=15;break;case 6:return e.next=8,zE(r.localStore,Cb(n));case 8:return u=e.sent,r.isPrimaryClient&&NS(r.remoteStore,u),s=r.sharedClientState.addLocalQueryTarget(u.targetId),i=u.targetId,e.next=14,UI(r,n,i,"current"===s);case 14:a=e.sent;case 15:return e.abrupt("return",a);case 16:case"end":return e.stop()}}),e)}))),MI.apply(this,arguments)}function UI(e,t,n,r){return VI.apply(this,arguments)}function VI(){return VI=He(Ke().mark((function e(t,n,r,i){var a,o,u,s,c,l;return Ke().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.dc=function(e,n,r){return function(){var e=He(Ke().mark((function e(t,n,r,i){var a,o,u;return Ke().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=n.view.ju(r),e.t0=a.$i,!e.t0){e.next=6;break}return e.next=5,GE(t.localStore,n.query,!1).then((function(e){var t=e.documents;return n.view.ju(t,a)}));case 5:a=e.sent;case 6:return o=i&&i.targetChanges.get(n.targetId),u=n.view.applyChanges(a,t.isPrimaryClient,o),e.abrupt("return",(oT(t,n.targetId,u.Yu),u.snapshot));case 8:case"end":return e.stop()}}),e)})));return function(t,n,r,i){return e.apply(this,arguments)}}()(t,e,n,r)},e.next=3,GE(t.localStore,n,!0);case 3:return a=e.sent,o=new RI(n,a.Hi),u=o.ju(a.documents),s=Fw.createSynthesizedTargetChangeForCurrentChange(r,i&&"Offline"!==t.onlineState),c=o.applyChanges(u,t.isPrimaryClient,s),oT(t,r,c.Yu),l=new DI(n,r,o),e.abrupt("return",(t.sc.set(n,l),t.ic.has(r)?t.ic.get(r).push(n):t.ic.set(r,[n]),c.snapshot));case 11:case"end":return e.stop()}}),e)}))),VI.apply(this,arguments)}function qI(e,t){return BI.apply(this,arguments)}function BI(){return BI=He(Ke().mark((function e(t,n){var r,i,a;return Ke().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=cg(t),i=r.sc.get(n),!((a=r.ic.get(i.targetId)).length>1)){e.next=3;break}return e.abrupt("return",(r.ic.set(i.targetId,a.filter((function(e){return!Ab(e,n)}))),void r.sc.delete(n)));case 3:if(!r.isPrimaryClient){e.next=11;break}if(r.sharedClientState.removeLocalQueryTarget(i.targetId),e.t0=r.sharedClientState.isActiveQueryTarget(i.targetId),e.t0){e.next=9;break}return e.next=9,WE(r.localStore,i.targetId,!1).then((function(){r.sharedClientState.clearQueryState(i.targetId),AS(r.remoteStore,i.targetId),iT(r,i.targetId)})).catch(Wg);case 9:e.next=14;break;case 11:return iT(r,i.targetId),e.next=14,WE(r.localStore,i.targetId,!0);case 14:case"end":return e.stop()}}),e)}))),BI.apply(this,arguments)}function zI(e,t,n){return WI.apply(this,arguments)}function WI(){return WI=He(Ke().mark((function e(t,n,r){var i,a,o;return Ke().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=OT(t),e.prev=1,e.next=4,function(e,t){var n,r,i=cg(e),a=Ig.now(),o=t.reduce((function(e,t){return e.add(t.key)}),Ow());return i.persistence.runTransaction("Locally write mutations","readwrite",(function(e){var u=_w(),s=Ow();return i.Gi.getEntries(e,o).next((function(e){(u=e).forEach((function(e,t){t.isValidDocument()||(s=s.add(e))}))})).next((function(){return i.localDocuments.getOverlayedDocuments(e,u)})).next((function(r){n=r;var o,u=[],s=ka(t);try{for(s.s();!(o=s.n()).done;){var c=o.value,l=ow(c,n.get(c.key).overlayedDocument);null!=l&&u.push(new cw(c.key,l,$k(l.value.mapValue),ew.exists(!0)))}}catch(f){s.e(f)}finally{s.f()}return i.mutationQueue.addMutationBatch(e,a,u,t)})).next((function(t){r=t;var a=t.applyToLocalDocumentSet(n,s);return i.documentOverlayCache.saveOverlays(e,t.batchId,a)}))})).then((function(){return{batchId:r.batchId,changes:Sw(n)}}))}(i.localStore,n);case 4:return a=e.sent,i.sharedClientState.addPendingMutation(a.batchId),function(e,t,n){var r=e.ac[e.currentUser.toKey()];r||(r=new sk(xg)),r=r.insert(t,n),e.ac[e.currentUser.toKey()]=r}(i,a.batchId,r),e.next=9,cT(i,a.changes);case 9:return e.next=11,GS(i.remoteStore);case 11:e.next=17;break;case 13:e.prev=13,e.t0=e.catch(1),o=dI(e.t0,"Failed to persist write"),r.reject(o);case 17:case"end":return e.stop()}}),e,null,[[1,13]])}))),WI.apply(this,arguments)}function KI(e,t){return GI.apply(this,arguments)}function GI(){return GI=He(Ke().mark((function e(t,n){var r,i;return Ke().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=cg(t),e.prev=1,e.next=4,VE(r.localStore,n);case 4:return i=e.sent,n.targetChanges.forEach((function(e,t){var n=r.uc.get(t);n&&(sg(e.addedDocuments.size+e.modifiedDocuments.size+e.removedDocuments.size<=1),e.addedDocuments.size>0?n.ec=!0:e.modifiedDocuments.size>0?sg(n.ec):e.removedDocuments.size>0&&(sg(n.ec),n.ec=!1))})),e.next=8,cT(r,i,n);case 8:e.next=14;break;case 10:return e.prev=10,e.t0=e.catch(1),e.next=14,Wg(e.t0);case 14:case"end":return e.stop()}}),e,null,[[1,10]])}))),GI.apply(this,arguments)}function HI(e,t,n){var r=cg(e);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){var i=[];r.sc.forEach((function(e,n){var r=n.view.bu(t);r.snapshot&&i.push(r.snapshot)})),function(e,t){var n=cg(e);n.onlineState=t;var r=!1;n.queries.forEach((function(e,n){var i,a=ka(n.listeners);try{for(a.s();!(i=a.n()).done;){i.value.bu(t)&&(r=!0)}}catch(o){a.e(o)}finally{a.f()}})),r&&SI(n)}(r.eventManager,t),i.length&&r.nc.Wo(i),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}function QI(e,t,n){return YI.apply(this,arguments)}function YI(){return YI=He(Ke().mark((function e(t,n,r){var i,a,o,u,s,c;return Ke().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((i=cg(t)).sharedClientState.updateQueryState(n,"rejected",r),a=i.uc.get(n),!(o=a&&a.key)){e.next=14;break}return u=(u=new sk(Pg.comparator)).insert(o,Jk.newNoDocument(o,Tg.min())),s=Ow().add(o),c=new Dw(Tg.min(),new Map,new fk(xg),u,s),e.next=9,KI(i,c);case 9:i.oc=i.oc.remove(o),i.uc.delete(n),sT(i),e.next=16;break;case 14:return e.next=16,WE(i.localStore,n,!1).then((function(){return iT(i,n,r)})).catch(Wg);case 16:case"end":return e.stop()}}),e)}))),YI.apply(this,arguments)}function $I(e,t){return JI.apply(this,arguments)}function JI(){return JI=He(Ke().mark((function e(t,n){var r,i,a;return Ke().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=cg(t),i=n.batch.batchId,e.prev=1,e.next=4,ME(r.localStore,n);case 4:return a=e.sent,rT(r,i,null),nT(r,i),r.sharedClientState.updateMutationState(i,"acknowledged"),e.next=10,cT(r,a);case 10:e.next=16;break;case 12:return e.prev=12,e.t0=e.catch(1),e.next=16,Wg(e.t0);case 16:case"end":return e.stop()}}),e,null,[[1,12]])}))),JI.apply(this,arguments)}function XI(e,t,n){return ZI.apply(this,arguments)}function ZI(){return ZI=He(Ke().mark((function e(t,n,r){var i,a;return Ke().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=cg(t),e.prev=1,e.next=4,function(e,t){var n=cg(e);return n.persistence.runTransaction("Reject batch","readwrite-primary",(function(e){var r;return n.mutationQueue.lookupMutationBatch(e,t).next((function(t){return sg(null!==t),r=t.keys(),n.mutationQueue.removeMutationBatch(e,t)})).next((function(){return n.mutationQueue.performConsistencyCheck(e)})).next((function(){return n.documentOverlayCache.removeOverlaysForBatchId(e,r,t)})).next((function(){return n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,r)})).next((function(){return n.localDocuments.getDocuments(e,r)}))}))}(i.localStore,n);case 4:return a=e.sent,rT(i,n,r),nT(i,n),i.sharedClientState.updateMutationState(n,"rejected",r),e.next=10,cT(i,a);case 10:e.next=16;break;case 12:return e.prev=12,e.t0=e.catch(1),e.next=16,Wg(e.t0);case 16:case"end":return e.stop()}}),e,null,[[1,12]])}))),ZI.apply(this,arguments)}function eT(e,t){return tT.apply(this,arguments)}function tT(){return tT=He(Ke().mark((function e(t,n){var r,i,a,o;return Ke().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return FS((r=cg(t)).remoteStore)||rg("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled."),e.prev=2,e.next=5,function(e){var t=cg(e);return t.persistence.runTransaction("Get highest unacknowledged batch id","readonly",(function(e){return t.mutationQueue.getHighestUnacknowledgedBatchId(e)}))}(r.localStore);case 5:if(-1!==(i=e.sent)){e.next=8;break}return e.abrupt("return",void n.resolve());case 8:(a=r.hc.get(i)||[]).push(n),r.hc.set(i,a),e.next=16;break;case 12:e.prev=12,e.t0=e.catch(2),o=dI(e.t0,"Initialization of waitForPendingWrites() operation failed"),n.reject(o);case 16:case"end":return e.stop()}}),e,null,[[2,12]])}))),tT.apply(this,arguments)}function nT(e,t){(e.hc.get(t)||[]).forEach((function(e){e.resolve()})),e.hc.delete(t)}function rT(e,t,n){var r=cg(e),i=r.ac[r.currentUser.toKey()];if(i){var a=i.get(t);a&&(n?a.reject(n):a.resolve(),i=i.remove(t)),r.ac[r.currentUser.toKey()]=i}}function iT(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;e.sharedClientState.removeLocalQueryTarget(t);var r,i=ka(e.ic.get(t));try{for(i.s();!(r=i.n()).done;){var a=r.value;e.sc.delete(a),n&&e.nc._c(a,n)}}catch(o){i.e(o)}finally{i.f()}e.ic.delete(t),e.isPrimaryClient&&e.cc.ls(t).forEach((function(t){e.cc.containsKey(t)||aT(e,t)}))}function aT(e,t){e.rc.delete(t.path.canonicalString());var n=e.oc.get(t);null!==n&&(AS(e.remoteStore,n),e.oc=e.oc.remove(t),e.uc.delete(n),sT(e))}function oT(e,t,n){var r,i=ka(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;a instanceof OI?(e.cc.addReference(a.key,t),uT(e,a)):a instanceof PI?(rg("SyncEngine","Document no longer in limbo: "+a.key),e.cc.removeReference(a.key,t),e.cc.containsKey(a.key)||aT(e,a.key)):ug()}}catch(o){i.e(o)}finally{i.f()}}function uT(e,t){var n=t.key,r=n.path.canonicalString();e.oc.get(n)||e.rc.has(r)||(rg("SyncEngine","New document in limbo: "+n),e.rc.add(r),sT(e))}function sT(e){for(;e.rc.size>0&&e.oc.size<e.maxConcurrentLimboResolutions;){var t=e.rc.values().next().value;e.rc.delete(t);var n=new Pg(Ng.fromString(t)),r=e.lc.next();e.uc.set(r,new FI(n)),e.oc=e.oc.insert(n,r),NS(e.remoteStore,new Z_(Cb(_b(n.path)),r,2,ik.at))}}function cT(e,t,n){return lT.apply(this,arguments)}function lT(){return lT=He(Ke().mark((function e(t,n,r){var i,a,o,u;return Ke().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=cg(t),a=[],o=[],u=[],e.t0=i.sc.isEmpty(),e.t0){e.next=9;break}return i.sc.forEach((function(e,t){u.push(i.dc(t,n,r).then((function(e){if(e){i.isPrimaryClient&&i.sharedClientState.updateQueryState(t.targetId,e.fromCache?"not-current":"current"),a.push(e);var n=PE.Ci(t.targetId,e);o.push(n)}})))})),e.next=6,Promise.all(u);case 6:return i.nc.Wo(a),e.next=9,function(){var e=He(Ke().mark((function e(t,n){var r,i,a,o,u,s,c,l;return Ke().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=cg(t),e.prev=1,e.next=4,r.persistence.runTransaction("notifyLocalViewChanges","readwrite",(function(e){return Gg.forEach(n,(function(t){return Gg.forEach(t.Si,(function(n){return r.persistence.referenceDelegate.addReference(e,t.targetId,n)})).next((function(){return Gg.forEach(t.Di,(function(n){return r.persistence.referenceDelegate.removeReference(e,t.targetId,n)}))}))}))}));case 4:e.next=11;break;case 6:if(e.prev=6,e.t0=e.catch(1),Jg(e.t0)){e.next=10;break}throw e.t0;case 10:rg("LocalStore","Failed to update sequence numbers: "+e.t0);case 11:i=ka(n);try{for(i.s();!(a=i.n()).done;)o=a.value,u=o.targetId,o.fromCache||(s=r.Ui.get(u),c=s.snapshotVersion,l=s.withLastLimboFreeSnapshotVersion(c),r.Ui=r.Ui.insert(u,l))}catch(f){i.e(f)}finally{i.f()}case 13:case"end":return e.stop()}}),e,null,[[1,6]])})));return function(t,n){return e.apply(this,arguments)}}()(i.localStore,o);case 9:case"end":return e.stop()}}),e)}))),lT.apply(this,arguments)}function fT(e,t){return hT.apply(this,arguments)}function hT(){return hT=He(Ke().mark((function e(t,n){var r,i;return Ke().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((r=cg(t)).currentUser.isEqual(n)){e.next=11;break}return rg("SyncEngine","User change. New user:",n.toKey()),e.next=5,LE(r.localStore,n);case 5:return i=e.sent,r.currentUser=n,function(e,t){e.hc.forEach((function(e){e.forEach((function(e){e.reject(new fg(lg.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))}))})),e.hc.clear()}(r),r.sharedClientState.handleUserChange(n,i.removedBatchIds,i.addedBatchIds),e.next=11,cT(r,i.ji);case 11:case"end":return e.stop()}}),e)}))),hT.apply(this,arguments)}function dT(e,t){var n=cg(e),r=n.uc.get(t);if(r&&r.ec)return Ow().add(r.key);var i=Ow(),a=n.ic.get(t);if(!a)return i;var o,u=ka(a);try{for(u.s();!(o=u.n()).done;){var s=o.value,c=n.sc.get(s);i=i.unionWith(c.view.Qu)}}catch(l){u.e(l)}finally{u.f()}return i}function pT(e,t){return vT.apply(this,arguments)}function vT(){return vT=He(Ke().mark((function e(t,n){var r,i,a;return Ke().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=cg(t),e.next=3,GE(r.localStore,n.query,!0);case 3:return i=e.sent,a=n.view.Zu(i),e.abrupt("return",(r.isPrimaryClient&&oT(r,n.targetId,a.Yu),a));case 6:case"end":return e.stop()}}),e)}))),vT.apply(this,arguments)}function yT(e,t){return mT.apply(this,arguments)}function mT(){return mT=He(Ke().mark((function e(t,n){var r;return Ke().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=cg(t),e.abrupt("return",QE(r.localStore,n).then((function(e){return cT(r,e)})));case 2:case"end":return e.stop()}}),e)}))),mT.apply(this,arguments)}function gT(e,t,n,r){return kT.apply(this,arguments)}function kT(){return kT=He(Ke().mark((function e(t,n,r,i){var a,o;return Ke().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=cg(t),e.next=3,function(e,t){var n=cg(e),r=cg(n.mutationQueue);return n.persistence.runTransaction("Lookup mutation documents","readonly",(function(e){return r.Tn(e,t).next((function(t){return t?n.localDocuments.getDocuments(e,t):Gg.resolve(null)}))}))}(a.localStore,n);case 3:if(null===(o=e.sent)){e.next=15;break}if("pending"!==r){e.next=10;break}return e.next=8,GS(a.remoteStore);case 8:e.next=11;break;case 10:"acknowledged"===r||"rejected"===r?(rT(a,n,i||null),nT(a,n),function(e,t){cg(cg(e).mutationQueue).An(t)}(a.localStore,n)):ug();case 11:return e.next=13,cT(a,o);case 13:e.next=16;break;case 15:rg("SyncEngine","Cannot apply mutation batch with id: "+n);case 16:case"end":return e.stop()}}),e)}))),kT.apply(this,arguments)}function bT(e,t){return wT.apply(this,arguments)}function wT(){return wT=He(Ke().mark((function e(t,n){var r,i,a,o,u,s,c,l;return Ke().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(AT(r=cg(t)),OT(r),!0!==n||!0===r.fc){e.next=13;break}return i=r.sharedClientState.getAllActiveQueryTargets(),e.next=5,_T(r,i.toArray());case 5:return a=e.sent,r.fc=!0,e.next=9,sI(r.remoteStore,!0);case 9:o=ka(a);try{for(o.s();!(u=o.n()).done;)s=u.value,NS(r.remoteStore,s)}catch(f){o.e(f)}finally{o.f()}e.next=25;break;case 13:if(!1!==n||!1===r.fc){e.next=25;break}return c=[],l=Promise.resolve(),r.ic.forEach((function(e,t){r.sharedClientState.isLocalQueryTarget(t)?c.push(t):l=l.then((function(){return iT(r,t),WE(r.localStore,t,!0)})),AS(r.remoteStore,t)})),e.next=19,l;case 19:return e.next=21,_T(r,c);case 21:return function(e){var t=cg(e);t.uc.forEach((function(e,n){AS(t.remoteStore,n)})),t.cc.fs(),t.uc=new Map,t.oc=new sk(Pg.comparator)}(r),r.fc=!1,e.next=25,sI(r.remoteStore,!1);case 25:case"end":return e.stop()}}),e)}))),wT.apply(this,arguments)}function _T(e,t,n){return xT.apply(this,arguments)}function xT(){return xT=He(Ke().mark((function e(t,n,r){var i,a,o,u,s,c,l,f,h,d,p,v,y,m;return Ke().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:i=cg(t),a=[],o=[],u=ka(n),e.prev=2,u.s();case 4:if((s=u.n()).done){e.next=45;break}if(c=s.value,l=void 0,!(f=i.ic.get(c))||0===f.length){e.next=34;break}return e.next=11,zE(i.localStore,Cb(f[0]));case 11:l=e.sent,h=ka(f),e.prev=13,h.s();case 15:if((d=h.n()).done){e.next=24;break}return p=d.value,v=i.sc.get(p),e.next=20,pT(i,v);case 20:(y=e.sent).snapshot&&o.push(y.snapshot);case 22:e.next=15;break;case 24:e.next=29;break;case 26:e.prev=26,e.t0=e.catch(13),h.e(e.t0);case 29:return e.prev=29,h.f(),e.finish(29);case 32:e.next=42;break;case 34:return e.next=36,HE(i.localStore,c);case 36:return m=e.sent,e.next=39,zE(i.localStore,m);case 39:return l=e.sent,e.next=42,UI(i,ET(m),c,!1);case 42:a.push(l);case 43:e.next=4;break;case 45:e.next=50;break;case 47:e.prev=47,e.t1=e.catch(2),u.e(e.t1);case 50:return e.prev=50,u.f(),e.finish(50);case 53:return e.abrupt("return",(i.nc.Wo(o),a));case 54:case"end":return e.stop()}}),e,null,[[2,47,50,53],[13,26,29,32]])}))),xT.apply(this,arguments)}function ET(e){return wb(e.path,e.collectionGroup,e.orderBy,e.filters,e.limit,"F",e.startAt,e.endAt)}function ST(e){var t=cg(e);return cg(cg(t.localStore).persistence).vi()}function IT(e,t,n,r){return TT.apply(this,arguments)}function TT(){return TT=He(Ke().mark((function e(t,n,r,i){var a,o,u,s;return Ke().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(a=cg(t)).fc){e.next=3;break}return e.abrupt("return",void rg("SyncEngine","Ignoring unexpected query state notification."));case 3:if(!((o=a.ic.get(n))&&o.length>0)){e.next=20;break}e.t0=r,e.next="current"===e.t0||"not-current"===e.t0?8:"rejected"===e.t0?15:19;break;case 8:return e.next=10,QE(a.localStore,Db(o[0]));case 10:return u=e.sent,s=Dw.createSynthesizedRemoteEventForCurrentChange(n,"current"===r),e.next=14,cT(a,u,s);case 14:return e.abrupt("break",20);case 15:return e.next=17,WE(a.localStore,n,!0);case 17:return iT(a,n,i),e.abrupt("break",20);case 19:ug();case 20:case"end":return e.stop()}}),e)}))),TT.apply(this,arguments)}function CT(e,t,n){return NT.apply(this,arguments)}function NT(){return NT=He(Ke().mark((function e(t,n,r){var i,a,o,u,s,c,l,f,h;return Ke().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(i=AT(t)).fc){e.next=45;break}a=ka(n),e.prev=3,a.s();case 5:if((o=a.n()).done){e.next=21;break}if(u=o.value,!i.ic.has(u)){e.next=10;break}return rg("SyncEngine","Adding an already active target "+u),e.abrupt("continue",19);case 10:return e.next=12,HE(i.localStore,u);case 12:return s=e.sent,e.next=15,zE(i.localStore,s);case 15:return c=e.sent,e.next=18,UI(i,ET(s),c.targetId,!1);case 18:NS(i.remoteStore,c);case 19:e.next=5;break;case 21:e.next=26;break;case 23:e.prev=23,e.t0=e.catch(3),a.e(e.t0);case 26:return e.prev=26,a.f(),e.finish(26);case 29:l=ka(r),e.prev=30,h=Ke().mark((function e(){var t;return Ke().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=f.value,e.t0=i.ic.has(t),!e.t0){e.next=5;break}return e.next=5,WE(i.localStore,t,!1).then((function(){AS(i.remoteStore,t),iT(i,t)})).catch(Wg);case 5:case"end":return e.stop()}}),e)})),l.s();case 33:if((f=l.n()).done){e.next=37;break}return e.delegateYield(h(),"t1",35);case 35:e.next=33;break;case 37:e.next=42;break;case 39:e.prev=39,e.t2=e.catch(30),l.e(e.t2);case 42:return e.prev=42,l.f(),e.finish(42);case 45:case"end":return e.stop()}}),e,null,[[3,23,26,29],[30,39,42,45]])}))),NT.apply(this,arguments)}function AT(e){var t=cg(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=KI.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=dT.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=QI.bind(null,t),t.nc.Wo=xI.bind(null,t.eventManager),t.nc._c=EI.bind(null,t.eventManager),t}function OT(e){var t=cg(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=$I.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=XI.bind(null,t),t}function PT(e,t,n){var r=cg(e);(function(){var e=He(Ke().mark((function e(t,n,r){var i,a,o,u,s;return Ke().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,n.getMetadata();case 3:return i=e.sent,e.next=6,function(e,t){var n=cg(e),r=Yw(t.createTime);return n.persistence.runTransaction("hasNewerBundle","readonly",(function(e){return n.Ns.getBundleMetadata(e,t.id)})).then((function(e){return!!e&&e.createTime.compareTo(r)>=0}))}(t.localStore,i);case 6:if(!e.sent){e.next=11;break}return e.next=9,n.close();case 9:return r._completeWith(function(e){return{taskState:"Success",documentsLoaded:e.totalDocuments,bytesLoaded:e.totalBytes,totalDocuments:e.totalDocuments,totalBytes:e.totalBytes}}(i)),e.abrupt("return",Promise.resolve(new Set));case 11:return r._updateProgress(AI(i)),a=new NI(i,t.localStore,n.It),e.next=15,n.wc();case 15:o=e.sent;case 16:if(!o){e.next=26;break}return e.next=19,a.Ou(o);case 19:return(u=e.sent)&&r._updateProgress(u),e.next=23,n.wc();case 23:o=e.sent;case 24:e.next=16;break;case 26:return e.next=28,a.complete();case 28:return s=e.sent,e.next=31,cT(t,s.Bu,void 0);case 31:return e.next=33,function(e,t){var n=cg(e);return n.persistence.runTransaction("Save bundle","readwrite",(function(e){return n.Ns.saveBundleMetadata(e,t)}))}(t.localStore,i);case 33:return r._completeWith(s.progress),e.abrupt("return",Promise.resolve(s.$u));case 37:return e.prev=37,e.t0=e.catch(0),e.abrupt("return",(ag("SyncEngine","Loading bundle failed with ".concat(e.t0)),r._failWith(e.t0),Promise.resolve(new Set)));case 40:case"end":return e.stop()}}),e,null,[[0,37]])})));return function(t,n,r){return e.apply(this,arguments)}})()(r,t,n).then((function(e){r.sharedClientState.notifyBundleLoaded(e)}))}var RT=function(){function e(){d(this,e),this.synchronizeTabs=!1}return v(e,[{key:"initialize",value:function(){var e=He(Ke().mark((function e(t){return Ke().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.It=mS(t.databaseInfo.databaseId),this.sharedClientState=this.mc(t),this.persistence=this.gc(t),e.next=5,this.persistence.start();case 5:this.localStore=this.yc(t),this.gcScheduler=this.Ic(t,this.localStore),this.indexBackfillerScheduler=this.Tc(t,this.localStore);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"Ic",value:function(e,t){return null}},{key:"Tc",value:function(e,t){return null}},{key:"yc",value:function(e){return FE(this.persistence,new RE,e.initialUser,this.It)}},{key:"gc",value:function(e){return new _E(EE.Bs,this.It)}},{key:"mc",value:function(e){return new cS}},{key:"terminate",value:function(){var e=He(Ke().mark((function e(){return Ke().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.gcScheduler&&this.gcScheduler.stop(),e.next=3,this.sharedClientState.shutdown();case 3:return e.next=5,this.persistence.shutdown();case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}(),DT=function(e){m(n,e);var t=x(n);function n(e,r,i){var a;return d(this,n),(a=t.call(this)).Ec=e,a.cacheSizeBytes=r,a.forceOwnership=i,a.synchronizeTabs=!1,a}return v(n,[{key:"initialize",value:function(){var e=He(Ke().mark((function e(t){var r=this;return Ke().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Du(g(n.prototype),"initialize",this).call(this,t);case 2:return e.next=4,this.Ec.initialize(this,t);case 4:return e.next=6,OT(this.Ec.syncEngine);case 6:return e.next=8,GS(this.Ec.remoteStore);case 8:return e.next=10,this.persistence.li((function(){return r.gcScheduler&&!r.gcScheduler.started&&r.gcScheduler.start(),r.indexBackfillerScheduler&&!r.indexBackfillerScheduler.started&&r.indexBackfillerScheduler.start(),Promise.resolve()}));case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"yc",value:function(e){return FE(this.persistence,new RE,e.initialUser,this.It)}},{key:"Ic",value:function(e,t){var n=this.persistence.referenceDelegate.garbageCollector;return new Zx(n,e.asyncQueue,t)}},{key:"Tc",value:function(e,t){var n=new rk(t,this.persistence);return new nk(e.asyncQueue,n)}},{key:"gc",value:function(e){var t=OE(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),n=void 0!==this.cacheSizeBytes?Mx.withCacheSize(this.cacheSizeBytes):Mx.DEFAULT;return new CE(this.synchronizeTabs,t,e.clientId,n,e.asyncQueue,vS(),yS(),this.It,this.sharedClientState,!!this.forceOwnership)}},{key:"mc",value:function(e){return new cS}}]),n}(RT),FT=function(e){m(n,e);var t=x(n);function n(e,r){var i;return d(this,n),(i=t.call(this,e,r,!1)).Ec=e,i.cacheSizeBytes=r,i.synchronizeTabs=!0,i}return v(n,[{key:"initialize",value:function(){var e=He(Ke().mark((function e(t){var r,i=this;return Ke().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Du(g(n.prototype),"initialize",this).call(this,t);case 2:if(r=this.Ec.syncEngine,e.t0=this.sharedClientState instanceof sS,!e.t0){e.next=8;break}return this.sharedClientState.syncEngine={Fr:gT.bind(null,r),$r:IT.bind(null,r),Br:CT.bind(null,r),vi:ST.bind(null,r),Or:yT.bind(null,r)},e.next=8,this.sharedClientState.start();case 8:return e.next=10,this.persistence.li(function(){var e=He(Ke().mark((function e(t){return Ke().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,bT(i.Ec.syncEngine,t);case 2:i.gcScheduler&&(t&&!i.gcScheduler.started?i.gcScheduler.start():t||i.gcScheduler.stop()),i.indexBackfillerScheduler&&(t&&!i.indexBackfillerScheduler.started?i.indexBackfillerScheduler.start():t||i.indexBackfillerScheduler.stop());case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"mc",value:function(e){var t=vS();if(!sS.C(t))throw new fg(lg.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");var n=OE(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new sS(t,e.asyncQueue,n,e.clientId,e.initialUser)}}]),n}(DT),LT=function(){function e(){d(this,e)}return v(e,[{key:"initialize",value:function(){var e=He(Ke().mark((function e(t,n){var r=this;return Ke().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.localStore,e.t0){e.next=12;break}return this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=function(e){return HI(r.syncEngine,e,1)},this.remoteStore.remoteSyncer.handleCredentialChange=fT.bind(null,this.syncEngine),e.next=12,sI(this.remoteStore,this.syncEngine.isPrimaryClient);case 12:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"createEventManager",value:function(e){return new gI}},{key:"createDatastore",value:function(e){var t,n=mS(e.databaseInfo.databaseId),r=(t=e.databaseInfo,new pS(t));return function(e,t,n,r){return new _S(e,t,n,r)}(e.authCredentials,e.appCheckCredentials,r,n)}},{key:"createRemoteStore",value:function(e){var t,n,r,i,a,o=this;return t=this.localStore,n=this.datastore,r=e.asyncQueue,i=function(e){return HI(o.syncEngine,e,0)},a=fS.C()?new fS:new lS,new ES(t,n,r,i,a)}},{key:"createSyncEngine",value:function(e,t){return function(e,t,n,r,i,a,o){var u=new LI(e,t,n,r,i,a);return o&&(u.fc=!0),u}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}},{key:"terminate",value:function(){return function(){var e=He(Ke().mark((function e(t){var n;return Ke().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=cg(t),rg("RemoteStore","RemoteStore shutting down."),n._u.add(5),e.next=5,TS(n);case 5:n.mu.shutdown(),n.gu.set("Unknown");case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(this.remoteStore)}}]),e}();function jT(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10240,n=0;return{read:function(){return He(Ke().mark((function r(){var i;return Ke().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(!(n<e.byteLength)){r.next=3;break}return i={value:e.slice(n,n+t),done:!1},r.abrupt("return",(n+=t,i));case 3:return r.abrupt("return",{done:!0});case 4:case"end":return r.stop()}}),r)})))()},cancel:function(){return He(Ke().mark((function e(){return Ke().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})))()},releaseLock:function(){},closed:Promise.reject("unimplemented")}}var MT=function(){function e(t){d(this,e),this.observer=t,this.muted=!1}return v(e,[{key:"next",value:function(e){this.observer.next&&this.Ac(this.observer.next,e)}},{key:"error",value:function(e){this.observer.error?this.Ac(this.observer.error,e):ig("Uncaught Error in snapshot listener:",e)}},{key:"Rc",value:function(){this.muted=!0}},{key:"Ac",value:function(e,t){var n=this;this.muted||setTimeout((function(){n.muted||e(t)}),0)}}]),e}(),UT=function(){function e(t,n){var r=this;d(this,e),this.bc=t,this.It=n,this.metadata=new hg,this.buffer=new Uint8Array,this.Pc=new TextDecoder("utf-8"),this.vc().then((function(e){e&&e.ku()?r.metadata.resolve(e.payload.metadata):r.metadata.reject(new Error("The first element of the bundle is not a metadata, it is\n             ".concat(JSON.stringify(null==e?void 0:e.payload))))}),(function(e){return r.metadata.reject(e)}))}return v(e,[{key:"close",value:function(){return this.bc.cancel()}},{key:"getMetadata",value:function(){var e=He(Ke().mark((function e(){return Ke().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.metadata.promise);case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"wc",value:function(){var e=He(Ke().mark((function e(){return Ke().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getMetadata();case 2:return e.abrupt("return",this.vc());case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"vc",value:function(){var e=He(Ke().mark((function e(){var t,n,r,i;return Ke().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.Vc();case 2:if(null!==(t=e.sent)){e.next=5;break}return e.abrupt("return",null);case 5:return n=this.Pc.decode(t),r=Number(n),isNaN(r)&&this.Sc("length string (".concat(n,") is not valid number")),e.next=9,this.Dc(r);case 9:return i=e.sent,e.abrupt("return",new TI(JSON.parse(i),t.length+r));case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Cc",value:function(){return this.buffer.findIndex((function(e){return e==="{".charCodeAt(0)}))}},{key:"Vc",value:function(){var e=He(Ke().mark((function e(){var t,n;return Ke().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(this.Cc()<0)){e.next=7;break}return e.next=3,this.xc();case 3:if(!e.sent){e.next=5;break}return e.abrupt("break",7);case 5:e.next=0;break;case 7:if(0!==this.buffer.length){e.next=9;break}return e.abrupt("return",null);case 9:return(t=this.Cc())<0&&this.Sc("Reached the end of bundle when a length string is expected."),n=this.buffer.slice(0,t),e.abrupt("return",(this.buffer=this.buffer.slice(t),n));case 13:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Dc",value:function(){var e=He(Ke().mark((function e(t){var n;return Ke().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(this.buffer.length<t)){e.next=8;break}return e.next=3,this.xc();case 3:if(e.t0=e.sent,!e.t0){e.next=6;break}this.Sc("Reached the end of bundle when more is expected.");case 6:e.next=0;break;case 8:return n=this.Pc.decode(this.buffer.slice(0,t)),e.abrupt("return",(this.buffer=this.buffer.slice(t),n));case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"Sc",value:function(e){throw this.bc.cancel(),new Error("Invalid bundle format: ".concat(e))}},{key:"xc",value:function(){var e=He(Ke().mark((function e(){var t,n;return Ke().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.bc.read();case 2:return(t=e.sent).done||((n=new Uint8Array(this.buffer.length+t.value.length)).set(this.buffer),n.set(t.value,this.buffer.length),this.buffer=n),e.abrupt("return",t.done);case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}(),VT=function(){function e(t){d(this,e),this.datastore=t,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}return v(e,[{key:"lookup",value:function(){var e=He(Ke().mark((function e(t){var n,r=this;return Ke().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.ensureCommitNotCalled(),!(this.mutations.length>0)){e.next=2;break}throw new fg(lg.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");case 2:return e.next=4,function(){var e=He(Ke().mark((function e(t,n){var r,i,a,o,u,s;return Ke().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=cg(t),i=n_(r.It)+"/documents",a={documents:n.map((function(e){return Xw(r.It,e)}))},e.next=5,r.fo("BatchGetDocuments",i,a,n.length);case 5:return o=e.sent,u=new Map,o.forEach((function(e){var t=o_(r.It,e);u.set(t.key.toString(),t)})),s=[],e.abrupt("return",(n.forEach((function(e){var t=u.get(e.toString());sg(!!t),s.push(t)})),s));case 10:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()(this.datastore,t);case 4:return n=e.sent,e.abrupt("return",(n.forEach((function(e){return r.recordVersion(e)})),n));case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"set",value:function(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}},{key:"update",value:function(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(e){this.lastWriteError=e}this.writtenDocs.add(e.toString())}},{key:"delete",value:function(e){this.write(new vw(e,this.precondition(e))),this.writtenDocs.add(e.toString())}},{key:"commit",value:function(){var e=He(Ke().mark((function e(){var t,n=this;return Ke().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.ensureCommitNotCalled(),!this.lastWriteError){e.next=2;break}throw this.lastWriteError;case 2:return t=this.readVersions,this.mutations.forEach((function(e){t.delete(e.key.toString())})),t.forEach((function(e,t){var r=Pg.fromPath(t);n.mutations.push(new yw(r,n.precondition(r)))})),e.next=7,function(){var e=He(Ke().mark((function e(t,n){var r,i,a;return Ke().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=cg(t),i=n_(r.It)+"/documents",a={writes:n.map((function(e){return u_(r.It,e)}))},e.next=3,r.co("Commit",i,a);case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()(this.datastore,this.mutations);case 7:this.committed=!0;case 8:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"recordVersion",value:function(e){var t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw ug();t=Tg.min()}var n=this.readVersions.get(e.key.toString());if(n){if(!t.isEqual(n))throw new fg(lg.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}},{key:"precondition",value:function(e){var t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?t.isEqual(Tg.min())?ew.exists(!1):ew.updateTime(t):ew.none()}},{key:"preconditionForUpdate",value:function(e){var t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(Tg.min()))throw new fg(lg.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return ew.updateTime(t)}return ew.exists(!0)}},{key:"write",value:function(e){this.ensureCommitNotCalled(),this.mutations.push(e)}},{key:"ensureCommitNotCalled",value:function(){}}]),e}(),qT=function(){function e(t,n,r,i,a){d(this,e),this.asyncQueue=t,this.datastore=n,this.options=r,this.updateFunction=i,this.deferred=a,this.Nc=r.maxAttempts,this.xo=new gS(this.asyncQueue,"transaction_retry")}return v(e,[{key:"run",value:function(){this.Nc-=1,this.kc()}},{key:"kc",value:function(){var e=this;this.xo.Ao(He(Ke().mark((function t(){var n,r;return Ke().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n=new VT(e.datastore),(r=e.Mc(n))&&r.then((function(t){e.asyncQueue.enqueueAndForget((function(){return n.commit().then((function(){e.deferred.resolve(t)})).catch((function(t){e.Oc(t)}))}))})).catch((function(t){e.Oc(t)}));case 2:case"end":return t.stop()}}),t)}))))}},{key:"Mc",value:function(e){try{var t=this.updateFunction(e);return!Sk(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(e){return this.deferred.reject(e),null}}},{key:"Oc",value:function(e){var t=this;this.Nc>0&&this.Fc(e)?(this.Nc-=1,this.asyncQueue.enqueueAndForget((function(){return t.kc(),Promise.resolve()}))):this.deferred.reject(e)}},{key:"Fc",value:function(e){if("FirebaseError"===e.name){var t=e.code;return"aborted"===t||"failed-precondition"===t||!gw(t)}return!1}}]),e}(),BT=function(){function e(t,n,r,i){var a=this;d(this,e),this.authCredentials=t,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=Zm.UNAUTHENTICATED,this.clientId=_g.R(),this.authCredentialListener=function(){return Promise.resolve()},this.appCheckCredentialListener=function(){return Promise.resolve()},this.authCredentials.start(r,function(){var e=He(Ke().mark((function e(t){return Ke().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return rg("FirestoreClient","Received user=",t.uid),e.next=3,a.authCredentialListener(t);case 3:a.user=t;case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),this.appCheckCredentials.start(r,(function(e){return rg("FirestoreClient","Received new app check token=",e),a.appCheckCredentialListener(e,a.user)}))}return v(e,[{key:"getConfiguration",value:function(){var e=He(Ke().mark((function e(){return Ke().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100});case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"setCredentialChangeListener",value:function(e){this.authCredentialListener=e}},{key:"setAppCheckTokenChangeListener",value:function(e){this.appCheckCredentialListener=e}},{key:"verifyNotTerminated",value:function(){if(this.asyncQueue.isShuttingDown)throw new fg(lg.FAILED_PRECONDITION,"The client has already been terminated.")}},{key:"terminate",value:function(){var e=this;this.asyncQueue.enterRestrictedMode();var t=new hg;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(He(Ke().mark((function n(){var r;return Ke().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(n.prev=0,n.t0=e.onlineComponents,!n.t0){n.next=5;break}return n.next=5,e.onlineComponents.terminate();case 5:if(n.t1=e.offlineComponents,!n.t1){n.next=9;break}return n.next=9,e.offlineComponents.terminate();case 9:e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve(),n.next=18;break;case 14:n.prev=14,n.t2=n.catch(0),r=dI(n.t2,"Failed to shutdown persistence"),t.reject(r);case 18:case"end":return n.stop()}}),n,null,[[0,14]])})))),t.promise}}]),e}();function zT(e,t){return WT.apply(this,arguments)}function WT(){return WT=He(Ke().mark((function e(t,n){var r,i;return Ke().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.asyncQueue.verifyOperationInProgress(),rg("FirestoreClient","Initializing OfflineComponentProvider"),e.next=3,t.getConfiguration();case 3:return r=e.sent,e.next=6,n.initialize(r);case 6:i=r.initialUser,t.setCredentialChangeListener(function(){var e=He(Ke().mark((function e(t){return Ke().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=i.isEqual(t),e.t0){e.next=5;break}return e.next=4,LE(n.localStore,t);case 4:i=t;case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),n.persistence.setDatabaseDeletedListener((function(){return t.terminate()})),t.offlineComponents=n;case 8:case"end":return e.stop()}}),e)}))),WT.apply(this,arguments)}function KT(e,t){return GT.apply(this,arguments)}function GT(){return GT=He(Ke().mark((function e(t,n){var r,i;return Ke().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.asyncQueue.verifyOperationInProgress(),e.next=3,HT(t);case 3:return r=e.sent,rg("FirestoreClient","Initializing OnlineComponentProvider"),e.next=7,t.getConfiguration();case 7:return i=e.sent,e.next=10,n.initialize(r,i);case 10:t.setCredentialChangeListener((function(e){return oI(n.remoteStore,e)})),t.setAppCheckTokenChangeListener((function(e,t){return oI(n.remoteStore,t)})),t.onlineComponents=n;case 13:case"end":return e.stop()}}),e)}))),GT.apply(this,arguments)}function HT(e){return QT.apply(this,arguments)}function QT(){return QT=He(Ke().mark((function e(t){return Ke().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=t.offlineComponents,e.t0){e.next=5;break}return rg("FirestoreClient","Using default OfflineComponentProvider"),e.next=5,zT(t,new RT);case 5:return e.abrupt("return",t.offlineComponents);case 6:case"end":return e.stop()}}),e)}))),QT.apply(this,arguments)}function YT(e){return $T.apply(this,arguments)}function $T(){return $T=He(Ke().mark((function e(t){return Ke().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=t.onlineComponents,e.t0){e.next=5;break}return rg("FirestoreClient","Using default OnlineComponentProvider"),e.next=5,KT(t,new LT);case 5:return e.abrupt("return",t.onlineComponents);case 6:case"end":return e.stop()}}),e)}))),$T.apply(this,arguments)}function JT(e){return HT(e).then((function(e){return e.persistence}))}function XT(e){return HT(e).then((function(e){return e.localStore}))}function ZT(e){return YT(e).then((function(e){return e.remoteStore}))}function eC(e){return YT(e).then((function(e){return e.syncEngine}))}function tC(e){return nC.apply(this,arguments)}function nC(){return nC=He(Ke().mark((function e(t){var n,r;return Ke().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,YT(t);case 2:return n=e.sent,r=n.eventManager,e.abrupt("return",(r.onListen=jI.bind(null,n.syncEngine),r.onUnlisten=qI.bind(null,n.syncEngine),r));case 5:case"end":return e.stop()}}),e)}))),nC.apply(this,arguments)}function rC(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=new hg;return e.asyncQueue.enqueueAndForget(He(Ke().mark((function i(){return Ke().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.t0=function(e,t,n,r,i){var a=new MT({next:function(a){t.enqueueAndForget((function(){return wI(e,o)}));var u=a.docs.has(n);!u&&a.fromCache?i.reject(new fg(lg.UNAVAILABLE,"Failed to get document because the client is offline.")):u&&a.fromCache&&r&&"server"===r.source?i.reject(new fg(lg.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):i.resolve(a)},error:function(e){return i.reject(e)}}),o=new II(_b(n.path),a,{includeMetadataChanges:!0,Nu:!0});return kI(e,o)},i.next=3,tC(e);case 3:return i.t1=i.sent,i.t2=e.asyncQueue,i.t3=t,i.t4=n,i.t5=r,i.abrupt("return",(0,i.t0)(i.t1,i.t2,i.t3,i.t4,i.t5));case 9:case"end":return i.stop()}}),i)})))),r.promise}function iC(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=new hg;return e.asyncQueue.enqueueAndForget(He(Ke().mark((function i(){return Ke().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.t0=function(e,t,n,r,i){var a=new MT({next:function(n){t.enqueueAndForget((function(){return wI(e,o)})),n.fromCache&&"server"===r.source?i.reject(new fg(lg.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:function(e){return i.reject(e)}}),o=new II(n,a,{includeMetadataChanges:!0,Nu:!0});return kI(e,o)},i.next=3,tC(e);case 3:return i.t1=i.sent,i.t2=e.asyncQueue,i.t3=t,i.t4=n,i.t5=r,i.abrupt("return",(0,i.t0)(i.t1,i.t2,i.t3,i.t4,i.t5));case 9:case"end":return i.stop()}}),i)})))),r.promise}var aC=new Map;function oC(e,t,n){if(!n)throw new fg(lg.INVALID_ARGUMENT,"Function ".concat(e,"() cannot be called with an empty ").concat(t,"."))}function uC(e,t,n,r){if(!0===t&&!0===r)throw new fg(lg.INVALID_ARGUMENT,"".concat(e," and ").concat(n," cannot be used together."))}function sC(e){if(!Pg.isDocumentKey(e))throw new fg(lg.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but ".concat(e," has ").concat(e.length,"."))}function cC(e){if(Pg.isDocumentKey(e))throw new fg(lg.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but ".concat(e," has ").concat(e.length,"."))}function lC(e){if(void 0===e)return"undefined";if(null===e)return"null";if("string"==typeof e)return e.length>20&&(e="".concat(e.substring(0,20),"...")),JSON.stringify(e);if("number"==typeof e||"boolean"==typeof e)return""+e;if("object"==typeof e){if(e instanceof Array)return"an array";var t=function(e){return e.constructor?e.constructor.name:null}(e);return t?"a custom ".concat(t," object"):"an object"}return"function"==typeof e?"a function":ug()}function fC(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new fg(lg.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");var n=lC(e);throw new fg(lg.INVALID_ARGUMENT,"Expected type '".concat(t.name,"', but it was: ").concat(n))}return e}function hC(e,t){if(t<=0)throw new fg(lg.INVALID_ARGUMENT,"Function ".concat(e,"() requires a positive number, but it was: ").concat(t,"."))}var dC=function(){function e(t){var n;if(d(this,e),void 0===t.host){if(void 0!==t.ssl)throw new fg(lg.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=null===(n=t.ssl)||void 0===n||n;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,void 0===t.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==t.cacheSizeBytes&&t.cacheSizeBytes<1048576)throw new fg(lg.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.useFetchStreams=!!t.useFetchStreams,uC("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling)}return v(e,[{key:"isEqual",value:function(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}]),e}(),pC=function(){function e(t,n,r,i){d(this,e),this._authCredentials=t,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new dC({}),this._settingsFrozen=!1}return v(e,[{key:"app",get:function(){if(!this._app)throw new fg(lg.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}},{key:"_initialized",get:function(){return this._settingsFrozen}},{key:"_terminated",get:function(){return void 0!==this._terminateTask}},{key:"_setSettings",value:function(e){if(this._settingsFrozen)throw new fg(lg.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new dC(e),void 0!==e.credentials&&(this._authCredentials=function(e){if(!e)return new pg;switch(e.type){case"gapi":var t=e.client;return new gg(t,e.sessionIndex||"0",e.iamToken||null,e.authTokenFactory||null);case"provider":return e.client;default:throw new fg(lg.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}},{key:"_getSettings",value:function(){return this._settings}},{key:"_freezeSettings",value:function(){return this._settingsFrozen=!0,this._settings}},{key:"_delete",value:function(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}},{key:"toJSON",value:function(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}},{key:"_terminate",value:function(){return function(e){var t=aC.get(e);t&&(rg("ComponentProvider","Removing Datastore"),aC.delete(e),t.terminate())}(this),Promise.resolve()}}]),e}();function vC(e,t,n){var r,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},a=(e=fC(e,pC))._getSettings();if("firestore.googleapis.com"!==a.host&&a.host!==t&&ag("Host has been set in both settings() and useEmulator(), emulator host will be used"),e._setSettings(Object.assign(Object.assign({},a),{host:"".concat(t,":").concat(n),ssl:!1})),i.mockUserToken){var o,u;if("string"==typeof i.mockUserToken)o=i.mockUserToken,u=Zm.MOCK_USER;else{o=Ra(i.mockUserToken,null===(r=e._app)||void 0===r?void 0:r.options.projectId);var s=i.mockUserToken.sub||i.mockUserToken.user_id;if(!s)throw new fg(lg.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");u=new Zm(s)}e._authCredentials=new vg(new dg(o,u))}}var yC=function(){function e(t,n,r){d(this,e),this.converter=n,this._key=r,this.type="document",this.firestore=t}return v(e,[{key:"_path",get:function(){return this._key.path}},{key:"id",get:function(){return this._key.path.lastSegment()}},{key:"path",get:function(){return this._key.path.canonicalString()}},{key:"parent",get:function(){return new gC(this.firestore,this.converter,this._key.path.popLast())}},{key:"withConverter",value:function(t){return new e(this.firestore,t,this._key)}}]),e}(),mC=function(){function e(t,n,r){d(this,e),this.converter=n,this._query=r,this.type="query",this.firestore=t}return v(e,[{key:"withConverter",value:function(t){return new e(this.firestore,t,this._query)}}]),e}(),gC=function(e){m(n,e);var t=x(n);function n(e,r,i){var a;return d(this,n),(a=t.call(this,e,r,_b(i)))._path=i,a.type="collection",a}return v(n,[{key:"id",get:function(){return this._query.path.lastSegment()}},{key:"path",get:function(){return this._query.path.canonicalString()}},{key:"parent",get:function(){var e=this._path.popLast();return e.isEmpty()?null:new yC(this.firestore,null,new Pg(e))}},{key:"withConverter",value:function(e){return new n(this.firestore,e,this._path)}}]),n}(mC);function kC(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=po(e),oC("collection","path",t),e instanceof pC){var a=Ng.fromString.apply(Ng,[t].concat(r));return cC(a),new gC(e,null,a)}if(!(e instanceof yC||e instanceof gC))throw new fg(lg.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");var o=e._path.child(Ng.fromString.apply(Ng,[t].concat(r)));return cC(o),new gC(e.firestore,null,o)}function bC(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=po(e),1===arguments.length&&(t=_g.R()),oC("doc","path",t),e instanceof pC){var a=Ng.fromString.apply(Ng,[t].concat(r));return sC(a),new yC(e,null,new Pg(a))}if(!(e instanceof yC||e instanceof gC))throw new fg(lg.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");var o=e._path.child(Ng.fromString.apply(Ng,[t].concat(r)));return sC(o),new yC(e.firestore,e instanceof gC?e.converter:null,new Pg(o))}function wC(e,t){return e=po(e),t=po(t),(e instanceof yC||e instanceof gC)&&(t instanceof yC||t instanceof gC)&&e.firestore===t.firestore&&e.path===t.path&&e.converter===t.converter}function _C(e,t){return e=po(e),t=po(t),e instanceof mC&&t instanceof mC&&e.firestore===t.firestore&&Ab(e._query,t._query)&&e.converter===t.converter}var xC=function(){function e(){var t=this;d(this,e),this.$c=Promise.resolve(),this.Bc=[],this.Lc=!1,this.Uc=[],this.qc=null,this.Kc=!1,this.Gc=!1,this.Qc=[],this.xo=new gS(this,"async_queue_retry"),this.jc=function(){var e=yS();e&&rg("AsyncQueue","Visibility state changed to "+e.visibilityState),t.xo.bo()};var n=yS();n&&"function"==typeof n.addEventListener&&n.addEventListener("visibilitychange",this.jc)}return v(e,[{key:"isShuttingDown",get:function(){return this.Lc}},{key:"enqueueAndForget",value:function(e){this.enqueue(e)}},{key:"enqueueAndForgetEvenWhileRestricted",value:function(e){this.Wc(),this.zc(e)}},{key:"enterRestrictedMode",value:function(e){if(!this.Lc){this.Lc=!0,this.Gc=e||!1;var t=yS();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.jc)}}},{key:"enqueue",value:function(e){var t=this;if(this.Wc(),this.Lc)return new Promise((function(){}));var n=new hg;return this.zc((function(){return t.Lc&&t.Gc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)})).then((function(){return n.promise}))}},{key:"enqueueRetryable",value:function(e){var t=this;this.enqueueAndForget((function(){return t.Bc.push(e),t.Hc()}))}},{key:"Hc",value:function(){var e=He(Ke().mark((function e(){var t=this;return Ke().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(0===this.Bc.length){e.next=14;break}return e.prev=1,e.next=4,this.Bc[0]();case 4:this.Bc.shift(),this.xo.reset(),e.next=13;break;case 8:if(e.prev=8,e.t0=e.catch(1),Jg(e.t0)){e.next=12;break}throw e.t0;case 12:rg("AsyncQueue","Operation failed with retryable error: "+e.t0);case 13:this.Bc.length>0&&this.xo.Ao((function(){return t.Hc()}));case 14:case"end":return e.stop()}}),e,this,[[1,8]])})));return function(){return e.apply(this,arguments)}}()},{key:"zc",value:function(e){var t=this,n=this.$c.then((function(){return t.Kc=!0,e().catch((function(e){t.qc=e,t.Kc=!1;var n=function(e){var t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+"\n"+e.stack),t}(e);throw ig("INTERNAL UNHANDLED ERROR: ",n),e})).then((function(e){return t.Kc=!1,e}))}));return this.$c=n,n}},{key:"enqueueAfterDelay",value:function(e,t,n){var r=this;this.Wc(),this.Qc.indexOf(e)>-1&&(t=0);var i=hI.createAndSchedule(this,e,t,n,(function(e){return r.Jc(e)}));return this.Uc.push(i),i}},{key:"Wc",value:function(){this.qc&&ug()}},{key:"verifyOperationInProgress",value:function(){}},{key:"Yc",value:function(){var e=He(Ke().mark((function e(){var t;return Ke().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.$c,e.next=3,t;case 3:if(t!==this.$c){e.next=0;break}case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Xc",value:function(e){var t,n=ka(this.Uc);try{for(n.s();!(t=n.n()).done;){if(t.value.timerId===e)return!0}}catch(r){n.e(r)}finally{n.f()}return!1}},{key:"Zc",value:function(e){var t=this;return this.Yc().then((function(){t.Uc.sort((function(e,t){return e.targetTimeMs-t.targetTimeMs}));var n,r=ka(t.Uc);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(i.skipDelay(),"all"!==e&&i.timerId===e)break}}catch(a){r.e(a)}finally{r.f()}return t.Yc()}))}},{key:"ta",value:function(e){this.Qc.push(e)}},{key:"Jc",value:function(e){var t=this.Uc.indexOf(e);this.Uc.splice(t,1)}}]),e}();function EC(e){return function(e,t){if("object"!=typeof e||null===e)return!1;var n,r=e,i=ka(["next","error","complete"]);try{for(i.s();!(n=i.n()).done;){var a=n.value;if(a in r&&"function"==typeof r[a])return!0}}catch(o){i.e(o)}finally{i.f()}return!1}(e)}var SC=function(){function e(){d(this,e),this._progressObserver={},this._taskCompletionResolver=new hg,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}return v(e,[{key:"onProgress",value:function(e,t,n){this._progressObserver={next:e,error:t,complete:n}}},{key:"catch",value:function(e){return this._taskCompletionResolver.promise.catch(e)}},{key:"then",value:function(e,t){return this._taskCompletionResolver.promise.then(e,t)}},{key:"_completeWith",value:function(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}},{key:"_failWith",value:function(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}},{key:"_updateProgress",value:function(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}]),e}(),IC=function(e){m(n,e);var t=x(n);function n(e,r,i,a){var o;return d(this,n),(o=t.call(this,e,r,i,a)).type="firestore",o._queue=new xC,o._persistenceKey=(null==a?void 0:a.name)||"[DEFAULT]",o}return v(n,[{key:"_terminate",value:function(){return this._firestoreClient||CC(this),this._firestoreClient.terminate()}}]),n}(pC);function TC(e){return e._firestoreClient||CC(e),e._firestoreClient.verifyNotTerminated(),e._firestoreClient}function CC(e){var t,n=e._freezeSettings(),r=function(e,t,n,r){return new xk(e,t,n,r.host,r.ssl,r.experimentalForceLongPolling,r.experimentalAutoDetectLongPolling,r.useFetchStreams)}(e._databaseId,(null===(t=e._app)||void 0===t?void 0:t.options.appId)||"",e._persistenceKey,n);e._firestoreClient=new BT(e._authCredentials,e._appCheckCredentials,e._queue,r)}function NC(e,t,n){var r=new hg;return e.asyncQueue.enqueue(He(Ke().mark((function i(){var a;return Ke().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.prev=0,i.next=3,zT(e,n);case 3:return i.next=5,KT(e,t);case 5:r.resolve(),i.next=14;break;case 8:if(i.prev=8,i.t0=i.catch(0),function(e){return"FirebaseError"===e.name?e.code===lg.FAILED_PRECONDITION||e.code===lg.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&e instanceof DOMException)||(22===e.code||20===e.code||11===e.code)}(a=i.t0)){i.next=13;break}throw a;case 13:ag("Error enabling offline persistence. Falling back to persistence disabled: "+a),r.reject(a);case 14:case"end":return i.stop()}}),i,null,[[0,8]])})))).then((function(){return r.promise}))}function AC(e){return function(e){return e.asyncQueue.enqueue(He(Ke().mark((function t(){var n,r;return Ke().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,JT(e);case 2:return n=t.sent,t.next=5,ZT(e);case 5:return r=t.sent,t.abrupt("return",(n.setNetworkEnabled(!0),function(e){var t=cg(e);return t._u.delete(0),SS(t)}(r)));case 7:case"end":return t.stop()}}),t)}))))}(TC(e=fC(e,IC)))}function OC(e){return function(e){return e.asyncQueue.enqueue(He(Ke().mark((function t(){var n,r;return Ke().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,JT(e);case 2:return n=t.sent,t.next=5,ZT(e);case 5:return r=t.sent,t.abrupt("return",(n.setNetworkEnabled(!1),function(){var e=He(Ke().mark((function e(t){var n;return Ke().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=cg(t))._u.add(0),e.next=4,TS(n);case 4:n.gu.set("Offline");case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(r)));case 7:case"end":return t.stop()}}),t)}))))}(TC(e=fC(e,IC)))}function PC(e,t){var n=TC(e=fC(e,IC)),r=new SC;return function(e,t,n,r){var i=function(e,t){return function(e,t){return new UT(e,t)}(function(e,t){if(e instanceof Uint8Array)return jT(e,t);if(e instanceof ArrayBuffer)return jT(new Uint8Array(e),t);if(e instanceof ReadableStream)return e.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}("string"==typeof e?(new TextEncoder).encode(e):e),t)}(n,mS(t));e.asyncQueue.enqueueAndForget(He(Ke().mark((function t(){return Ke().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=PT,t.next=3,eC(e);case 3:t.t1=t.sent,t.t2=i,t.t3=r,(0,t.t0)(t.t1,t.t2,t.t3);case 7:case"end":return t.stop()}}),t)}))))}(n,e._databaseId,t,r),r}function RC(e,t){return function(e,t){return e.asyncQueue.enqueue(He(Ke().mark((function n(){return Ke().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.t0=function(e,t){var n=cg(e);return n.persistence.runTransaction("Get named query","readonly",(function(e){return n.Ns.getNamedQuery(e,t)}))},n.next=3,XT(e);case 3:return n.t1=n.sent,n.t2=t,n.abrupt("return",(0,n.t0)(n.t1,n.t2));case 6:case"end":return n.stop()}}),n)}))))}(TC(e=fC(e,IC)),t).then((function(t){return t?new mC(e,null,t.query):null}))}function DC(e){if(e._initialized||e._terminated)throw new fg(lg.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}var FC=function(){function e(){d(this,e);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var i=0;i<n.length;++i)if(0===n[i].length)throw new fg(lg.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Og(n)}return v(e,[{key:"isEqual",value:function(e){return this._internalPath.isEqual(e._internalPath)}}]),e}();var LC=function(){function e(t){d(this,e),this._byteString=t}return v(e,[{key:"toBase64",value:function(){return this._byteString.toBase64()}},{key:"toUint8Array",value:function(){return this._byteString.toUint8Array()}},{key:"toString",value:function(){return"Bytes(base64: "+this.toBase64()+")"}},{key:"isEqual",value:function(e){return this._byteString.isEqual(e._byteString)}}],[{key:"fromBase64String",value:function(t){try{return new e(vk.fromBase64String(t))}catch(t){throw new fg(lg.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}},{key:"fromUint8Array",value:function(t){return new e(vk.fromUint8Array(t))}}]),e}(),jC=v((function e(t){d(this,e),this._methodName=t})),MC=function(){function e(t,n){if(d(this,e),!isFinite(t)||t<-90||t>90)throw new fg(lg.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(n)||n<-180||n>180)throw new fg(lg.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=t,this._long=n}return v(e,[{key:"latitude",get:function(){return this._lat}},{key:"longitude",get:function(){return this._long}},{key:"isEqual",value:function(e){return this._lat===e._lat&&this._long===e._long}},{key:"toJSON",value:function(){return{latitude:this._lat,longitude:this._long}}},{key:"_compareTo",value:function(e){return xg(this._lat,e._lat)||xg(this._long,e._long)}}]),e}(),UC=/^__.*__$/,VC=function(){function e(t,n,r){d(this,e),this.data=t,this.fieldMask=n,this.fieldTransforms=r}return v(e,[{key:"toMutation",value:function(e,t){return null!==this.fieldMask?new cw(e,this.data,this.fieldMask,t,this.fieldTransforms):new sw(e,this.data,t,this.fieldTransforms)}}]),e}(),qC=function(){function e(t,n,r){d(this,e),this.data=t,this.fieldMask=n,this.fieldTransforms=r}return v(e,[{key:"toMutation",value:function(e,t){return new cw(e,this.data,this.fieldMask,t,this.fieldTransforms)}}]),e}();function BC(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ug()}}var zC=function(){function e(t,n,r,i,a,o){d(this,e),this.settings=t,this.databaseId=n,this.It=r,this.ignoreUndefinedProperties=i,void 0===a&&this.ea(),this.fieldTransforms=a||[],this.fieldMask=o||[]}return v(e,[{key:"path",get:function(){return this.settings.path}},{key:"na",get:function(){return this.settings.na}},{key:"sa",value:function(t){return new e(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.It,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}},{key:"ia",value:function(e){var t,n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.sa({path:n,ra:!1});return r.oa(e),r}},{key:"ua",value:function(e){var t,n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.sa({path:n,ra:!1});return r.ea(),r}},{key:"ca",value:function(e){return this.sa({path:void 0,ra:!0})}},{key:"aa",value:function(e){return cN(e,this.settings.methodName,this.settings.ha||!1,this.path,this.settings.la)}},{key:"contains",value:function(e){return void 0!==this.fieldMask.find((function(t){return e.isPrefixOf(t)}))||void 0!==this.fieldTransforms.find((function(t){return e.isPrefixOf(t.field)}))}},{key:"ea",value:function(){if(this.path)for(var e=0;e<this.path.length;e++)this.oa(this.path.get(e))}},{key:"oa",value:function(e){if(0===e.length)throw this.aa("Document fields must not be empty");if(BC(this.na)&&UC.test(e))throw this.aa('Document fields cannot begin and end with "__"')}}]),e}(),WC=function(){function e(t,n,r){d(this,e),this.databaseId=t,this.ignoreUndefinedProperties=n,this.It=r||mS(t)}return v(e,[{key:"fa",value:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return new zC({na:e,methodName:t,la:n,path:Og.emptyPath(),ra:!1,ha:r},this.databaseId,this.It,this.ignoreUndefinedProperties)}}]),e}();function KC(e){var t=e._freezeSettings(),n=mS(e._databaseId);return new WC(e._databaseId,!!t.ignoreUndefinedProperties,n)}function GC(e,t,n,r,i){var a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{},o=e.fa(a.merge||a.mergeFields?2:0,t,n,i);aN("Data must be an object, but it was:",o,r);var u,s,c=rN(r,o);if(a.merge)u=new pk(o.fieldMask),s=o.fieldTransforms;else if(a.mergeFields){var l,f=[],h=ka(a.mergeFields);try{for(h.s();!(l=h.n()).done;){var d=l.value,p=oN(t,d,n);if(!o.contains(p))throw new fg(lg.INVALID_ARGUMENT,"Field '".concat(p,"' is specified in your field mask but missing from your input data."));lN(f,p)||f.push(p)}}catch(v){h.e(v)}finally{h.f()}u=new pk(f),s=o.fieldTransforms.filter((function(e){return u.covers(e.field)}))}else u=null,s=o.fieldTransforms;return new VC(new Yk(c),u,s)}var HC=function(e){m(n,e);var t=x(n);function n(){return d(this,n),t.apply(this,arguments)}return v(n,[{key:"_toFieldTransform",value:function(e){if(2!==e.na)throw 1===e.na?e.aa("".concat(this._methodName,"() can only appear at the top level of your update data")):e.aa("".concat(this._methodName,"() cannot be used with set() unless you pass {merge:true}"));return e.fieldMask.push(e.path),null}},{key:"isEqual",value:function(e){return e instanceof n}}]),n}(jC);function QC(e,t,n){return new zC({na:3,la:t.settings.la,methodName:e._methodName,ra:n},t.databaseId,t.It,t.ignoreUndefinedProperties)}var YC=function(e){m(n,e);var t=x(n);function n(){return d(this,n),t.apply(this,arguments)}return v(n,[{key:"_toFieldTransform",value:function(e){return new Xb(e.path,new Wb)}},{key:"isEqual",value:function(e){return e instanceof n}}]),n}(jC),$C=function(e){m(n,e);var t=x(n);function n(e,r){var i;return d(this,n),(i=t.call(this,e)).da=r,i}return v(n,[{key:"_toFieldTransform",value:function(e){var t=QC(this,e,!0),n=this.da.map((function(e){return nN(e,t)})),r=new Kb(n);return new Xb(e.path,r)}},{key:"isEqual",value:function(e){return this===e}}]),n}(jC),JC=function(e){m(n,e);var t=x(n);function n(e,r){var i;return d(this,n),(i=t.call(this,e)).da=r,i}return v(n,[{key:"_toFieldTransform",value:function(e){var t=QC(this,e,!0),n=this.da.map((function(e){return nN(e,t)})),r=new Hb(n);return new Xb(e.path,r)}},{key:"isEqual",value:function(e){return this===e}}]),n}(jC),XC=function(e){m(n,e);var t=x(n);function n(e,r){var i;return d(this,n),(i=t.call(this,e))._a=r,i}return v(n,[{key:"_toFieldTransform",value:function(e){var t=new Yb(e.It,Ub(e.It,this._a));return new Xb(e.path,t)}},{key:"isEqual",value:function(e){return this===e}}]),n}(jC);function ZC(e,t,n,r){var i=e.fa(1,t,n);aN("Data must be an object, but it was:",i,r);var a=[],o=Yk.empty();ok(r,(function(e,r){var u=sN(t,e,n);r=po(r);var s=i.ua(u);if(r instanceof HC)a.push(u);else{var c=nN(r,s);null!=c&&(a.push(u),o.set(u,c))}}));var u=new pk(a);return new qC(o,u,i.fieldTransforms)}function eN(e,t,n,r,i,a){var o=e.fa(1,t,n),u=[oN(t,r,n)],s=[i];if(a.length%2!=0)throw new fg(lg.INVALID_ARGUMENT,"Function ".concat(t,"() needs to be called with an even number of arguments that alternate between field names and values."));for(var c=0;c<a.length;c+=2)u.push(oN(t,a[c])),s.push(a[c+1]);for(var l=[],f=Yk.empty(),h=u.length-1;h>=0;--h)if(!lN(l,u[h])){var d=u[h],p=s[h];p=po(p);var v=o.ua(d);if(p instanceof HC)l.push(d);else{var y=nN(p,v);null!=y&&(l.push(d),f.set(d,y))}}var m=new pk(l);return new qC(f,m,o.fieldTransforms)}function tN(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return nN(n,e.fa(r?4:3,t))}function nN(e,t){if(iN(e=po(e)))return aN("Unsupported field value:",t,e),rN(e,t);if(e instanceof jC)return function(e,t){if(!BC(t.na))throw t.aa("".concat(e._methodName,"() can only be used with update() and set()"));if(!t.path)throw t.aa("".concat(e._methodName,"() is not currently supported inside arrays"));var n=e._toFieldTransform(t);n&&t.fieldTransforms.push(n)}(e,t),null;if(void 0===e&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.ra&&4!==t.na)throw t.aa("Nested arrays are not supported");return function(e,t){var n,r=[],i=0,a=ka(e);try{for(a.s();!(n=a.n()).done;){var o=nN(n.value,t.ca(i));null==o&&(o={nullValue:"NULL_VALUE"}),r.push(o),i++}}catch(u){a.e(u)}finally{a.f()}return{arrayValue:{values:r}}}(e,t)}return function(e,t){if(null===(e=po(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return Ub(t.It,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){var n=Ig.fromDate(e);return{timestampValue:Gw(t.It,n)}}if(e instanceof Ig){var r=new Ig(e.seconds,1e3*Math.floor(e.nanoseconds/1e3));return{timestampValue:Gw(t.It,r)}}if(e instanceof MC)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof LC)return{bytesValue:Hw(t.It,e._byteString)};if(e instanceof yC){var i=t.databaseId,a=e.firestore._databaseId;if(!a.isEqual(i))throw t.aa("Document reference is for database ".concat(a.projectId,"/").concat(a.database," but should be for database ").concat(i.projectId,"/").concat(i.database));return{referenceValue:$w(e.firestore._databaseId||t.databaseId,e._key.path)}}throw t.aa("Unsupported field value: ".concat(lC(e)))}(e,t)}function rN(e,t){var n={};return uk(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):ok(e,(function(e,r){var i=nN(r,t.ia(e));null!=i&&(n[e]=i)})),{mapValue:{fields:n}}}function iN(e){return!("object"!=typeof e||null===e||e instanceof Array||e instanceof Date||e instanceof Ig||e instanceof MC||e instanceof LC||e instanceof yC||e instanceof jC)}function aN(e,t,n){if(!iN(n)||!function(e){return"object"==typeof e&&null!==e&&(Object.getPrototypeOf(e)===Object.prototype||null===Object.getPrototypeOf(e))}(n)){var r=lC(n);throw"an object"===r?t.aa(e+" a custom object"):t.aa(e+" "+r)}}function oN(e,t,n){if((t=po(t))instanceof FC)return t._internalPath;if("string"==typeof t)return sN(e,t);throw cN("Field path arguments must be of type string or ",e,!1,void 0,n)}var uN=new RegExp("[~\\*/\\[\\]]");function sN(e,t,n){if(t.search(uN)>=0)throw cN("Invalid field path (".concat(t,"). Paths must not contain '~', '*', '/', '[', or ']'"),e,!1,void 0,n);try{return E(FC,h(t.split(".")))._internalPath}catch(YV){throw cN("Invalid field path (".concat(t,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"),e,!1,void 0,n)}}function cN(e,t,n,r,i){var a=r&&!r.isEmpty(),o=void 0!==i,u="Function ".concat(t,"() called with invalid data");n&&(u+=" (via `toFirestore()`)"),u+=". ";var s="";return(a||o)&&(s+=" (found",a&&(s+=" in field ".concat(r)),o&&(s+=" in document ".concat(i)),s+=")"),new fg(lg.INVALID_ARGUMENT,u+e+s)}function lN(e,t){return e.some((function(e){return e.isEqual(t)}))}var fN=function(){function e(t,n,r,i,a){d(this,e),this._firestore=t,this._userDataWriter=n,this._key=r,this._document=i,this._converter=a}return v(e,[{key:"id",get:function(){return this._key.path.lastSegment()}},{key:"ref",get:function(){return new yC(this._firestore,this._converter,this._key)}},{key:"exists",value:function(){return null!==this._document}},{key:"data",value:function(){if(this._document){if(this._converter){var e=new hN(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}},{key:"get",value:function(e){if(this._document){var t=this._document.data.field(dN("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}]),e}(),hN=function(e){m(n,e);var t=x(n);function n(){return d(this,n),t.apply(this,arguments)}return v(n,[{key:"data",value:function(){return Du(g(n.prototype),"data",this).call(this)}}]),n}(fN);function dN(e,t){return"string"==typeof t?sN(e,t):t instanceof FC?t._internalPath:t._delegate._internalPath}var pN=function(){function e(t,n){d(this,e),this.hasPendingWrites=t,this.fromCache=n}return v(e,[{key:"isEqual",value:function(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}]),e}(),vN=function(e){m(n,e);var t=x(n);function n(e,r,i,a,o,u){var s;return d(this,n),(s=t.call(this,e,r,i,a,u))._firestore=e,s._firestoreImpl=e,s.metadata=o,s}return v(n,[{key:"exists",value:function(){return Du(g(n.prototype),"exists",this).call(this)}},{key:"data",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this._document){if(this._converter){var t=new yN(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}},{key:"get",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this._document){var n=this._document.data.field(dN("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n,t.serverTimestamps)}}}]),n}(fN),yN=function(e){m(n,e);var t=x(n);function n(){return d(this,n),t.apply(this,arguments)}return v(n,[{key:"data",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Du(g(n.prototype),"data",this).call(this,e)}}]),n}(vN),mN=function(){function e(t,n,r,i){d(this,e),this._firestore=t,this._userDataWriter=n,this._snapshot=i,this.metadata=new pN(i.hasPendingWrites,i.fromCache),this.query=r}return v(e,[{key:"docs",get:function(){var e=[];return this.forEach((function(t){return e.push(t)})),e}},{key:"size",get:function(){return this._snapshot.docs.size}},{key:"empty",get:function(){return 0===this.size}},{key:"forEach",value:function(e,t){var n=this;this._snapshot.docs.forEach((function(r){e.call(t,new yN(n._firestore,n._userDataWriter,r.key,r,new pN(n._snapshot.mutatedKeys.has(r.key),n._snapshot.fromCache),n.query.converter))}))}},{key:"docChanges",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new fg(lg.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(e,t){if(e._snapshot.oldDocs.isEmpty()){var n=0;return e._snapshot.docChanges.map((function(t){return{type:"added",doc:new yN(e._firestore,e._userDataWriter,t.doc.key,t.doc,new pN(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter),oldIndex:-1,newIndex:n++}}))}var r=e._snapshot.oldDocs;return e._snapshot.docChanges.filter((function(e){return t||3!==e.type})).map((function(t){var n=new yN(e._firestore,e._userDataWriter,t.doc.key,t.doc,new pN(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter),i=-1,a=-1;return 0!==t.type&&(i=r.indexOf(t.doc.key),r=r.delete(t.doc.key)),1!==t.type&&(a=(r=r.add(t.doc)).indexOf(t.doc.key)),{type:gN(t.type),doc:n,oldIndex:i,newIndex:a}}))}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}]),e}();function gN(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ug()}}function kN(e,t){return e instanceof vN&&t instanceof vN?e._firestore===t._firestore&&e._key.isEqual(t._key)&&(null===e._document?null===t._document:e._document.isEqual(t._document))&&e._converter===t._converter:e instanceof mN&&t instanceof mN&&e._firestore===t._firestore&&_C(e.query,t.query)&&e.metadata.isEqual(t.metadata)&&e._snapshot.isEqual(t._snapshot)}function bN(e){if("L"===e.limitType&&0===e.explicitOrderBy.length)throw new fg(lg.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var wN=v((function e(){d(this,e)}));function _N(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];for(var i=0,a=n;i<a.length;i++){var o=a[i];e=o._apply(e)}return e}var xN=function(e){m(n,e);var t=x(n);function n(e,r,i){var a;return d(this,n),(a=t.call(this)).wa=e,a.ma=r,a.ga=i,a.type="where",a}return v(n,[{key:"_apply",value:function(e){var t=KC(e.firestore),n=function(e,t,n,r,i,a,o){var u;if(i.isKeyField()){if("array-contains"===a||"array-contains-any"===a)throw new fg(lg.INVALID_ARGUMENT,"Invalid Query. You can't perform '".concat(a,"' queries on documentId()."));if("in"===a||"not-in"===a){DN(o,a);var s,c=[],l=ka(o);try{for(l.s();!(s=l.n()).done;){var f=s.value;c.push(RN(r,e,f))}}catch(d){l.e(d)}finally{l.f()}u={arrayValue:{values:c}}}else u=RN(r,e,o)}else"in"!==a&&"not-in"!==a&&"array-contains-any"!==a||DN(o,a),u=tN(n,"where",o,"in"===a||"not-in"===a);var h=ob.create(i,a,u);return function(e,t){if(t.dt()){var n=Sb(e);if(null!==n&&!n.isEqual(t.field))throw new fg(lg.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '".concat(n.toString(),"' and '").concat(t.field.toString(),"'"));var r=Eb(e);null!==r&&FN(e,t.field,r)}var i=function(e,t){var n,r=ka(e.filters);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(t.indexOf(i.op)>=0)return i.op}}catch(d){r.e(d)}finally{r.f()}return null}(e,function(e){switch(e){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(null!==i)throw i===t.op?new fg(lg.INVALID_ARGUMENT,"Invalid query. You cannot use more than one '".concat(t.op.toString(),"' filter.")):new fg(lg.INVALID_ARGUMENT,"Invalid query. You cannot use '".concat(t.op.toString(),"' filters with '").concat(i.toString(),"' filters."))}(e,h),h}(e._query,0,t,e.firestore._databaseId,this.wa,this.ma,this.ga);return new mC(e.firestore,e.converter,function(e,t){var n=e.filters.concat([t]);return new bb(e.path,e.collectionGroup,e.explicitOrderBy.slice(),n,e.limit,e.limitType,e.startAt,e.endAt)}(e._query,n))}}]),n}(wN);var EN=function(e){m(n,e);var t=x(n);function n(e,r){var i;return d(this,n),(i=t.call(this)).wa=e,i.ya=r,i.type="orderBy",i}return v(n,[{key:"_apply",value:function(e){var t=function(e,t,n){if(null!==e.startAt)throw new fg(lg.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==e.endAt)throw new fg(lg.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");var r=new yb(t,n);return function(e,t){if(null===Eb(e)){var n=Sb(e);null!==n&&FN(e,n,t.field)}}(e,r),r}(e._query,this.wa,this.ya);return new mC(e.firestore,e.converter,function(e,t){var n=e.explicitOrderBy.concat([t]);return new bb(e.path,e.collectionGroup,n,e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(e._query,t))}}]),n}(wN);var SN=function(e){m(n,e);var t=x(n);function n(e,r,i){var a;return d(this,n),(a=t.call(this)).type=e,a.pa=r,a.Ia=i,a}return v(n,[{key:"_apply",value:function(e){return new mC(e.firestore,e.converter,Nb(e._query,this.pa,this.Ia))}}]),n}(wN);var IN=function(e){m(n,e);var t=x(n);function n(e,r,i){var a;return d(this,n),(a=t.call(this)).type=e,a.Ta=r,a.Ea=i,a}return v(n,[{key:"_apply",value:function(e){var t=PN(e,this.type,this.Ta,this.Ea);return new mC(e.firestore,e.converter,function(e,t){return new bb(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,t,e.endAt)}(e._query,t))}}]),n}(wN);function TN(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new IN("startAt",t,!0)}function CN(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new IN("startAfter",t,!1)}var NN=function(e){m(n,e);var t=x(n);function n(e,r,i){var a;return d(this,n),(a=t.call(this)).type=e,a.Ta=r,a.Ea=i,a}return v(n,[{key:"_apply",value:function(e){var t=PN(e,this.type,this.Ta,this.Ea);return new mC(e.firestore,e.converter,function(e,t){return new bb(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,t)}(e._query,t))}}]),n}(wN);function AN(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new NN("endBefore",t,!1)}function ON(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new NN("endAt",t,!0)}function PN(e,t,n,r){if(n[0]=po(n[0]),n[0]instanceof fN)return function(e,t,n,r,i){if(!r)throw new fg(lg.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for ".concat(n,"()."));var a,o=[],u=ka(Tb(e));try{for(u.s();!(a=u.n()).done;){var s=a.value;if(s.field.isKeyField())o.push(jk(t,r.key));else{var c=r.data.field(s.field);if(bk(c))throw new fg(lg.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+s.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===c){var l=s.field.canonicalString();throw new fg(lg.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '".concat(l,"' (used as the orderBy) does not exist."))}o.push(c)}}}catch(f){u.e(f)}finally{u.f()}return new vb(o,i)}(e._query,e.firestore._databaseId,t,n[0]._document,r);var i=KC(e.firestore);return function(e,t,n,r,i,a){var o=e.explicitOrderBy;if(i.length>o.length)throw new fg(lg.INVALID_ARGUMENT,"Too many arguments provided to ".concat(r,"(). The number of arguments must be less than or equal to the number of orderBy() clauses"));for(var u=[],s=0;s<i.length;s++){var c=i[s];if(o[s].field.isKeyField()){if("string"!=typeof c)throw new fg(lg.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in ".concat(r,"(), but got a ").concat(typeof c));if(!Ib(e)&&-1!==c.indexOf("/"))throw new fg(lg.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by documentId(), the value passed to ".concat(r,"() must be a plain document ID, but '").concat(c,"' contains a slash."));var l=e.path.child(Ng.fromString(c));if(!Pg.isDocumentKey(l))throw new fg(lg.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by documentId(), the value passed to ".concat(r,"() must result in a valid document path, but '").concat(l,"' is not because it contains an odd number of segments."));var f=new Pg(l);u.push(jk(t,f))}else{var h=tN(n,r,c);u.push(h)}}return new vb(u,a)}(e._query,e.firestore._databaseId,i,t,n,r)}function RN(e,t,n){if("string"==typeof(n=po(n))){if(""===n)throw new fg(lg.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Ib(t)&&-1!==n.indexOf("/"))throw new fg(lg.INVALID_ARGUMENT,"Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '".concat(n,"' contains a '/' character."));var r=t.path.child(Ng.fromString(n));if(!Pg.isDocumentKey(r))throw new fg(lg.INVALID_ARGUMENT,"Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '".concat(r,"' is not because it has an odd number of segments (").concat(r.length,")."));return jk(e,new Pg(r))}if(n instanceof yC)return jk(e,n._key);throw new fg(lg.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ".concat(lC(n),"."))}function DN(e,t){if(!Array.isArray(e)||0===e.length)throw new fg(lg.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '".concat(t.toString(),"' filters."));if(e.length>10)throw new fg(lg.INVALID_ARGUMENT,"Invalid Query. '".concat(t.toString(),"' filters support a maximum of 10 elements in the value array."))}function FN(e,t,n){if(!n.isEqual(t))throw new fg(lg.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '".concat(t.toString(),"' and so you must also use '").concat(t.toString(),"' as your first argument to orderBy(), but your first orderBy() is on field '").concat(n.toString(),"' instead."))}var LN={maxAttempts:5},jN=function(){function e(){d(this,e)}return v(e,[{key:"convertValue",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";switch(Ak(e)){case 0:return null;case 1:return e.booleanValue;case 2:return gk(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(kk(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw ug()}}},{key:"convertObject",value:function(e,t){var n=this,r={};return ok(e.fields,(function(e,i){r[e]=n.convertValue(i,t)})),r}},{key:"convertGeoPoint",value:function(e){return new MC(gk(e.latitude),gk(e.longitude))}},{key:"convertArray",value:function(e,t){var n=this;return(e.values||[]).map((function(e){return n.convertValue(e,t)}))}},{key:"convertServerTimestamp",value:function(e,t){switch(t){case"previous":var n=wk(e);return null==n?null:this.convertValue(n,t);case"estimate":return this.convertTimestamp(_k(e));default:return null}}},{key:"convertTimestamp",value:function(e){var t=mk(e);return new Ig(t.seconds,t.nanos)}},{key:"convertDocumentKey",value:function(e,t){var n=Ng.fromString(e);sg(b_(n));var r=new Ek(n.get(1),n.get(3)),i=new Pg(n.popFirst(5));return r.isEqual(t)||ig("Document ".concat(i," contains a document reference within a different database (").concat(r.projectId,"/").concat(r.database,") which is not supported. It will be treated as a reference in the current database (").concat(t.projectId,"/").concat(t.database,") instead.")),i}}]),e}();function MN(e,t,n){return e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t}var UN=function(e){m(n,e);var t=x(n);function n(e){var r;return d(this,n),(r=t.call(this)).firestore=e,r}return v(n,[{key:"convertBytes",value:function(e){return new LC(e)}},{key:"convertReference",value:function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return new yC(this.firestore,null,t)}}]),n}(jN),VN=function(){function e(t,n){d(this,e),this._firestore=t,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=KC(t)}return v(e,[{key:"set",value:function(e,t,n){this._verifyNotCommitted();var r=qN(e,this._firestore),i=MN(r.converter,t,n),a=GC(this._dataReader,"WriteBatch.set",r._key,i,null!==r.converter,n);return this._mutations.push(a.toMutation(r._key,ew.none())),this}},{key:"update",value:function(e,t,n){this._verifyNotCommitted();for(var r,i=qN(e,this._firestore),a=arguments.length,o=new Array(a>3?a-3:0),u=3;u<a;u++)o[u-3]=arguments[u];return r="string"==typeof(t=po(t))||t instanceof FC?eN(this._dataReader,"WriteBatch.update",i._key,t,n,o):ZC(this._dataReader,"WriteBatch.update",i._key,t),this._mutations.push(r.toMutation(i._key,ew.exists(!0))),this}},{key:"delete",value:function(e){this._verifyNotCommitted();var t=qN(e,this._firestore);return this._mutations=this._mutations.concat(new vw(t._key,ew.none())),this}},{key:"commit",value:function(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}},{key:"_verifyNotCommitted",value:function(){if(this._committed)throw new fg(lg.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}]),e}();function qN(e,t){if((e=po(e)).firestore!==t)throw new fg(lg.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return e}var BN=function(e){m(n,e);var t=x(n);function n(e){var r;return d(this,n),(r=t.call(this)).firestore=e,r}return v(n,[{key:"convertBytes",value:function(e){return new LC(e)}},{key:"convertReference",value:function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return new yC(this.firestore,null,t)}}]),n}(jN);function zN(e){e=fC(e,yC);var t=fC(e.firestore,IC),n=TC(t),r=new BN(t);return function(e,t){var n=new hg;return e.asyncQueue.enqueueAndForget(He(Ke().mark((function r(){return Ke().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.t0=function(){var e=He(Ke().mark((function e(t,n,r){var i,a;return Ke().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,function(e,t){var n=cg(e);return n.persistence.runTransaction("read document","readonly",(function(e){return n.localDocuments.getDocument(e,t)}))}(t,n);case 3:(i=e.sent).isFoundDocument()?r.resolve(i):i.isNoDocument()?r.resolve(null):r.reject(new fg(lg.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)")),e.next=11;break;case 7:e.prev=7,e.t0=e.catch(0),a=dI(e.t0,"Failed to get document '".concat(n," from cache")),r.reject(a);case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t,n,r){return e.apply(this,arguments)}}(),r.next=3,XT(e);case 3:return r.t1=r.sent,r.t2=t,r.t3=n,r.abrupt("return",(0,r.t0)(r.t1,r.t2,r.t3));case 7:case"end":return r.stop()}}),r)})))),n.promise}(n,e._key).then((function(n){return new vN(t,r,e._key,n,new pN(null!==n&&n.hasLocalMutations,!0),e.converter)}))}function WN(e){e=fC(e,mC);var t=fC(e.firestore,IC),n=TC(t),r=new BN(t);return function(e,t){var n=new hg;return e.asyncQueue.enqueueAndForget(He(Ke().mark((function r(){return Ke().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.t0=function(){var e=He(Ke().mark((function e(t,n,r){var i,a,o,u,s;return Ke().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,GE(t,n,!0);case 3:i=e.sent,a=new RI(n,i.Hi),o=a.ju(i.documents),u=a.applyChanges(o,!1),r.resolve(u.snapshot),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(0),s=dI(e.t0,"Failed to execute query '".concat(n," against cache")),r.reject(s);case 14:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t,n,r){return e.apply(this,arguments)}}(),r.next=3,XT(e);case 3:return r.t1=r.sent,r.t2=t,r.t3=n,r.abrupt("return",(0,r.t0)(r.t1,r.t2,r.t3));case 7:case"end":return r.stop()}}),r)})))),n.promise}(n,e._query).then((function(n){return new mN(t,r,e,n)}))}function KN(e,t,n){e=fC(e,yC);var r=fC(e.firestore,IC),i=MN(e.converter,t,n);return YN(r,[GC(KC(r),"setDoc",e._key,i,null!==e.converter,n).toMutation(e._key,ew.none())])}function GN(e,t,n){e=fC(e,yC);for(var r=fC(e.firestore,IC),i=KC(r),a=arguments.length,o=new Array(a>3?a-3:0),u=3;u<a;u++)o[u-3]=arguments[u];return YN(r,[("string"==typeof(t=po(t))||t instanceof FC?eN(i,"updateDoc",e._key,t,n,o):ZC(i,"updateDoc",e._key,t)).toMutation(e._key,ew.exists(!0))])}function HN(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i,a,o;e=po(e);var u={includeMetadataChanges:!1},s=0;"object"!=typeof n[s]||EC(n[s])||(u=n[s],s++);var c,l,f,h={includeMetadataChanges:u.includeMetadataChanges};if(EC(n[s])){var d=n[s];n[s]=null===(i=d.next)||void 0===i?void 0:i.bind(d),n[s+1]=null===(a=d.error)||void 0===a?void 0:a.bind(d),n[s+2]=null===(o=d.complete)||void 0===o?void 0:o.bind(d)}if(e instanceof yC)l=fC(e.firestore,IC),f=_b(e._key.path),c={next:function(t){n[s]&&n[s]($N(l,e,t))},error:n[s+1],complete:n[s+2]};else{var p=fC(e,mC);l=fC(p.firestore,IC),f=p._query;var v=new BN(l);c={next:function(e){n[s]&&n[s](new mN(l,v,p,e))},error:n[s+1],complete:n[s+2]},bN(e._query)}return function(e,t,n,r){var i=new MT(r),a=new II(t,i,n);return e.asyncQueue.enqueueAndForget(He(Ke().mark((function t(){return Ke().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=kI,t.next=3,tC(e);case 3:return t.t1=t.sent,t.t2=a,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)})))),function(){i.Rc(),e.asyncQueue.enqueueAndForget(He(Ke().mark((function t(){return Ke().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=wI,t.next=3,tC(e);case 3:return t.t1=t.sent,t.t2=a,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)}))))}}(TC(l),f,h,c)}function QN(e,t){return function(e,t){var n=new MT(t);return e.asyncQueue.enqueueAndForget(He(Ke().mark((function t(){return Ke().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=function(e,t){cg(e).Ru.add(t),t.next()},t.next=3,tC(e);case 3:return t.t1=t.sent,t.t2=n,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)})))),function(){n.Rc(),e.asyncQueue.enqueueAndForget(He(Ke().mark((function t(){return Ke().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=function(e,t){cg(e).Ru.delete(t)},t.next=3,tC(e);case 3:return t.t1=t.sent,t.t2=n,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)}))))}}(TC(e=fC(e,IC)),EC(t)?t:{next:t})}function YN(e,t){return function(e,t){var n=new hg;return e.asyncQueue.enqueueAndForget(He(Ke().mark((function r(){return Ke().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.t0=zI,r.next=3,eC(e);case 3:return r.t1=r.sent,r.t2=t,r.t3=n,r.abrupt("return",(0,r.t0)(r.t1,r.t2,r.t3));case 7:case"end":return r.stop()}}),r)})))),n.promise}(TC(e),t)}function $N(e,t,n){var r=n.docs.get(t._key),i=new BN(e);return new vN(e,i,t._key,r,new pN(n.hasPendingWrites,n.fromCache),t.converter)}var JN,XN=function(e){m(n,e);var t=x(n);function n(e,r){var i;return d(this,n),(i=t.call(this,e,r))._firestore=e,i}return v(n,[{key:"get",value:function(e){var t=this,r=qN(e,this._firestore),i=new BN(this._firestore);return Du(g(n.prototype),"get",this).call(this,e).then((function(e){return new vN(t._firestore,i,r._key,e._document,new pN(!1,!1),r.converter)}))}}]),n}(function(){function e(t,n){d(this,e),this._firestore=t,this._transaction=n,this._dataReader=KC(t)}return v(e,[{key:"get",value:function(e){var t=this,n=qN(e,this._firestore),r=new UN(this._firestore);return this._transaction.lookup([n._key]).then((function(e){if(!e||1!==e.length)return ug();var i=e[0];if(i.isFoundDocument())return new fN(t._firestore,r,i.key,i,n.converter);if(i.isNoDocument())return new fN(t._firestore,r,n._key,null,n.converter);throw ug()}))}},{key:"set",value:function(e,t,n){var r=qN(e,this._firestore),i=MN(r.converter,t,n),a=GC(this._dataReader,"Transaction.set",r._key,i,null!==r.converter,n);return this._transaction.set(r._key,a),this}},{key:"update",value:function(e,t,n){for(var r,i=qN(e,this._firestore),a=arguments.length,o=new Array(a>3?a-3:0),u=3;u<a;u++)o[u-3]=arguments[u];return r="string"==typeof(t=po(t))||t instanceof FC?eN(this._dataReader,"Transaction.update",i._key,t,n,o):ZC(this._dataReader,"Transaction.update",i._key,t),this._transaction.update(i._key,r),this}},{key:"delete",value:function(e){var t=qN(e,this._firestore);return this._transaction.delete(t._key),this}}]),e}());function ZN(e,t,n){e=fC(e,IC);var r=Object.assign(Object.assign({},LN),n);return function(e){if(e.maxAttempts<1)throw new fg(lg.INVALID_ARGUMENT,"Max attempts must be at least 1")}(r),function(e,t,n){var r=new hg;return e.asyncQueue.enqueueAndForget(He(Ke().mark((function i(){var a;return Ke().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,function(e){return YT(e).then((function(e){return e.datastore}))}(e);case 2:a=i.sent,new qT(e.asyncQueue,a,n,t,r).run();case 4:case"end":return i.stop()}}),i)})))),r.promise}(TC(e),(function(n){return t(new XN(e,n))}),r)}function eA(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new $C("arrayUnion",t)}function tA(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new JC("arrayRemove",t)}!function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];!function(e){eg=e}(lu),ru(new vo("firestore",(function(e,n){var r=n.instanceIdentifier,i=n.options,a=e.getProvider("app").getImmediate(),o=new IC(new yg(e.getProvider("auth-internal")),new bg(e.getProvider("app-check-internal")),function(e,t){if(!Object.prototype.hasOwnProperty.apply(e.options,["projectId"]))throw new fg(lg.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Ek(e.options.projectId,t)}(a,r),a);return i=Object.assign({useFetchStreams:t},i),o._setSettings(i),o}),"PUBLIC").setMultipleInstances(!0)),yu(Xm,"3.5.0",e),yu(Xm,"3.5.0","esm2017")}();var nA=function(){function e(t,n){var r=this;d(this,e),this._delegate=t,this.firebase=n,tu(t,new vo("app-compat",(function(){return r}),"PUBLIC")),this.container=t.container}return v(e,[{key:"automaticDataCollectionEnabled",get:function(){return this._delegate.automaticDataCollectionEnabled},set:function(e){this._delegate.automaticDataCollectionEnabled=e}},{key:"name",get:function(){return this._delegate.name}},{key:"options",get:function(){return this._delegate.options}},{key:"delete",value:function(){var e=this;return new Promise((function(t){e._delegate.checkDestroyed(),t()})).then((function(){return e.firebase.INTERNAL.removeApp(e.name),pu(e._delegate)}))}},{key:"_getService",value:function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Jo;this._delegate.checkDestroyed();var r=this._delegate.container.getProvider(e);return r.isInitialized()||"EXPLICIT"!==(null===(t=r.getComponent())||void 0===t?void 0:t.instantiationMode)||r.initialize(),r.getImmediate({identifier:n})}},{key:"_removeServiceInstance",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Jo;this._delegate.container.getProvider(e).clearInstance(t)}},{key:"_addComponent",value:function(e){tu(this._delegate,e)}},{key:"_addOrOverwriteComponent",value:function(e){nu(this._delegate,e)}},{key:"toJSON",value:function(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}]),e}(),rA=(ba(JN={},"no-app","No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()"),ba(JN,"invalid-app-argument","firebase.{$appName}() takes either no argument or a Firebase App instance."),JN),iA=new za("app-compat","Firebase",rA);var aA=function t(){var n=function(t){var n={},r={__esModule:!0,initializeApp:function(e){var i=fu(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{});if(Ya(n,i.name))return n[i.name];var a=new t(i,r);return n[i.name]=a,a},app:i,registerVersion:yu,setLogLevel:gu,onLog:mu,apps:null,SDK_VERSION:lu,INTERNAL:{registerComponent:function(e){var n=e.name,a=n.replace("-compat","");if(ru(e)&&"PUBLIC"===e.type){var o=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i();if("function"!==typeof e[a])throw iA.create("invalid-app-argument",{appName:n});return e[a]()};void 0!==e.serviceProps&&Oa(o,e.serviceProps),r[a]=o,t.prototype[a]=function(){for(var t=this._getService.bind(this,n),r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return t.apply(this,e.multipleInstances?i:[])}}return"PUBLIC"===e.type?r[a]:null},removeApp:function(e){delete n[e]},useAsService:function(e,t){return"serverAuth"===t?null:t},modularAPIs:e}};function i(e){if(!Ya(n,e=e||Jo))throw iA.create("no-app",{appName:e});return n[e]}return r.default=r,Object.defineProperty(r,"apps",{get:function(){return Object.keys(n).map((function(e){return n[e]}))}}),i.App=t,r}(nA);return n.INTERNAL=Object.assign(Object.assign({},n.INTERNAL),{createFirebaseNamespace:t,extendNamespace:function(e){Oa(n,e)},createSubscribe:ao,ErrorFactory:za,deepExtend:Oa}),n}(),oA=new Io("@firebase/app-compat");if("object"===typeof self&&self.self===self&&void 0!==self.firebase){oA.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");var uA=self.firebase.SDK_VERSION;uA&&uA.indexOf("LITE")>=0&&oA.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}var sA=aA;function cA(){return window}!function(e){yu("@firebase/app-compat","0.1.34",e)}();function lA(e,t,n){return fA.apply(this,arguments)}function fA(){return fA=He(Ke().mark((function e(t,n,r){var i,a,o,u,s;return Ke().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=cA(),o=a.BuildInfo,us(n.sessionId,"AuthEvent did not contain a session ID"),e.next=4,mA(n.sessionId);case 4:return u=e.sent,s={},hc()?s.ibi=o.packageName:cc()?s.apn=o.packageName:es(t,"operation-not-supported-in-this-environment"),o.displayName&&(s.appDisplayName=o.displayName),s.sessionId=u,e.abrupt("return",jd(t,r,n.type,void 0,null!==(i=n.eventId)&&void 0!==i?i:void 0,s));case 10:case"end":return e.stop()}}),e)}))),fA.apply(this,arguments)}function hA(){return hA=He(Ke().mark((function e(t){var n,r,i;return Ke().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=cA(),r=n.BuildInfo,i={},hc()?i.iosBundleId=r.packageName:cc()?i.androidPackageName=r.packageName:es(t,"operation-not-supported-in-this-environment"),e.next=5,dd(t,i);case 5:case"end":return e.stop()}}),e)}))),hA.apply(this,arguments)}function dA(e){var t=cA().cordova;return new Promise((function(n){t.plugins.browsertab.isAvailable((function(r){var i=null;r?t.plugins.browsertab.openUrl(e):i=t.InAppBrowser.open(e,function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Da();return/(iPad|iPhone|iPod).*OS 7_\d/i.test(e)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(e)}()?"_blank":"_system","location=yes"),n(i)}))}))}function pA(e,t,n){return vA.apply(this,arguments)}function vA(){return vA=He(Ke().mark((function e(t,n,r){var i,a,o;return Ke().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=cA(),a=i.cordova,o=function(){},e.prev=2,e.next=5,new Promise((function(e,i){var u=null;function s(){var t;e();var n=null===(t=a.plugins.browsertab)||void 0===t?void 0:t.close;"function"===typeof n&&n(),"function"===typeof(null===r||void 0===r?void 0:r.close)&&r.close()}function c(){u||(u=window.setTimeout((function(){i(ts(t,"redirect-cancelled-by-user"))}),2e3))}function l(){"visible"===(null===document||void 0===document?void 0:document.visibilityState)&&c()}n.addPassiveListener(s),document.addEventListener("resume",c,!1),cc()&&document.addEventListener("visibilitychange",l,!1),o=function(){n.removePassiveListener(s),document.removeEventListener("resume",c,!1),document.removeEventListener("visibilitychange",l,!1),u&&window.clearTimeout(u)}}));case 5:return e.prev=5,o(),e.finish(5);case 8:case"end":return e.stop()}}),e,null,[[2,,5,8]])}))),vA.apply(this,arguments)}function yA(e){var t,n,r,i,a,o,u,s,c,l,f=cA();as("function"===typeof(null===(t=null===f||void 0===f?void 0:f.universalLinks)||void 0===t?void 0:t.subscribe),e,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),as("undefined"!==typeof(null===(n=null===f||void 0===f?void 0:f.BuildInfo)||void 0===n?void 0:n.packageName),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),as("function"===typeof(null===(a=null===(i=null===(r=null===f||void 0===f?void 0:f.cordova)||void 0===r?void 0:r.plugins)||void 0===i?void 0:i.browsertab)||void 0===a?void 0:a.openUrl),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),as("function"===typeof(null===(s=null===(u=null===(o=null===f||void 0===f?void 0:f.cordova)||void 0===o?void 0:o.plugins)||void 0===u?void 0:u.browsertab)||void 0===s?void 0:s.isAvailable),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),as("function"===typeof(null===(l=null===(c=null===f||void 0===f?void 0:f.cordova)||void 0===c?void 0:c.InAppBrowser)||void 0===l?void 0:l.open),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}function mA(e){return gA.apply(this,arguments)}function gA(){return(gA=He(Ke().mark((function e(t){var n,r,i;return Ke().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=kA(t),e.next=3,crypto.subtle.digest("SHA-256",n);case 3:return r=e.sent,i=Array.from(new Uint8Array(r)),e.abrupt("return",i.map((function(e){return e.toString(16).padStart(2,"0")})).join(""));case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function kA(e){if(us(/[0-9a-zA-Z]+/.test(e),"Can only convert alpha-numeric strings"),"undefined"!==typeof TextEncoder)return(new TextEncoder).encode(e);for(var t=new ArrayBuffer(e.length),n=new Uint8Array(t),r=0;r<e.length;r++)n[r]=e.charCodeAt(r);return n}var bA=function(e){m(n,e);var t=x(n);function n(){var e;return d(this,n),(e=t.apply(this,arguments)).passiveListeners=new Set,e.initPromise=new Promise((function(t){e.resolveInialized=t})),e}return v(n,[{key:"addPassiveListener",value:function(e){this.passiveListeners.add(e)}},{key:"removePassiveListener",value:function(e){this.passiveListeners.delete(e)}},{key:"resetRedirect",value:function(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}},{key:"onEvent",value:function(e){return this.resolveInialized(),this.passiveListeners.forEach((function(t){return t(e)})),Du(g(n.prototype),"onEvent",this).call(this,e)}},{key:"initialized",value:function(){var e=He(Ke().mark((function e(){return Ke().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.initPromise;case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),n}(ld);function wA(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return{type:t,eventId:n,urlResponse:null,sessionId:IA(),postBody:null,tenantId:e.tenantId,error:ts(e,"no-auth-event")}}function _A(e,t){return TA()._set(CA(e),t)}function xA(e){return EA.apply(this,arguments)}function EA(){return EA=He(Ke().mark((function e(t){var n;return Ke().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,TA()._get(CA(t));case 2:if(!(n=e.sent)){e.next=6;break}return e.next=6,TA()._remove(CA(t));case 6:return e.abrupt("return",n);case 7:case"end":return e.stop()}}),e)}))),EA.apply(this,arguments)}function SA(e,t){var n,r,i=function(e){var t=NA(e),n=t.link?decodeURIComponent(t.link):void 0,r=NA(n).link,i=t.deep_link_id?decodeURIComponent(t.deep_link_id):void 0;return NA(i).link||i||r||n||e}(t);if(i.includes("/__/auth/callback")){var a=NA(i),o=a.firebaseError?function(e){try{return JSON.parse(e)}catch(t){return null}}(decodeURIComponent(a.firebaseError)):null,u=null===(r=null===(n=null===o||void 0===o?void 0:o.code)||void 0===n?void 0:n.split("auth/"))||void 0===r?void 0:r[1],s=u?ts(u):null;return s?{type:e.type,eventId:e.eventId,tenantId:e.tenantId,error:s,urlResponse:null,sessionId:null,postBody:null}:{type:e.type,eventId:e.eventId,tenantId:e.tenantId,sessionId:e.sessionId,urlResponse:i,postBody:null}}return null}function IA(){for(var e=[],t="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ",n=0;n<20;n++){var r=Math.floor(Math.random()*t.length);e.push(t.charAt(r))}return e.join("")}function TA(){return cs(Af)}function CA(e){return nc("authEvent",e.config.apiKey,e.name)}function NA(e){if(!(null===e||void 0===e?void 0:e.includes("?")))return{};var t,n=e.split("?"),r=o(t=n)||f(t)||s(t)||c();r[0];return no(r.slice(1).join("?"))}var AA=function(){function e(){d(this,e),this._redirectPersistence=Pf,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=od,this._overrideRedirectResult=Yh}return v(e,[{key:"_initialize",value:function(){var e=He(Ke().mark((function e(t){var n,r;return Ke().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t._key(),(r=this.eventManagers.get(n))||(r=new bA(t),this.eventManagers.set(n,r),this.attachCallbackListeners(t,r)),e.abrupt("return",r);case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_openPopup",value:function(e){es(e,"operation-not-supported-in-this-environment")}},{key:"_openRedirect",value:function(){var e=He(Ke().mark((function e(t,n,r,i){var a,o,u,s;return Ke().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return yA(t),e.next=3,this._initialize(t);case 3:return a=e.sent,e.next=6,a.initialized();case 6:return a.resetRedirect(),zh.clear(),e.next=10,this._originValidation(t);case 10:return o=wA(t,r,i),e.next=13,_A(t,o);case 13:return e.next=15,lA(t,o,n);case 15:return u=e.sent,e.next=18,dA(u);case 18:return s=e.sent,e.abrupt("return",pA(t,a,s));case 20:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_isIframeWebStorageSupported",value:function(e,t){throw new Error("Method not implemented.")}},{key:"_originValidation",value:function(e){var t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=function(e){return hA.apply(this,arguments)}(e)),this.originValidationPromises[t]}},{key:"attachCallbackListeners",value:function(e,t){var n=cA(),r=n.universalLinks,i=n.handleOpenURL,a=n.BuildInfo,o=setTimeout(He(Ke().mark((function n(){return Ke().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,xA(e);case 2:t.onEvent(PA());case 3:case"end":return n.stop()}}),n)}))),500),u=function(){var n=He(Ke().mark((function n(r){var i,a;return Ke().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return clearTimeout(o),n.next=3,xA(e);case 3:i=n.sent,a=null,i&&(null===r||void 0===r?void 0:r.url)&&(a=SA(i,r.url)),t.onEvent(a||PA());case 7:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}();"undefined"!==typeof r&&"function"===typeof r.subscribe&&r.subscribe(null,u);var s=i,c="".concat(a.packageName.toLowerCase(),"://");cA().handleOpenURL=function(){var e=He(Ke().mark((function e(t){return Ke().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.toLowerCase().startsWith(c)&&u({url:t}),"function"===typeof s)try{s(t)}catch(n){console.error(n)}case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}}]),e}(),OA=AA;function PA(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:ts("no-auth-event")}}function RA(){var e;return(null===(e=null===self||void 0===self?void 0:self.location)||void 0===e?void 0:e.protocol)||null}function DA(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Da();return!("file:"!==RA()&&"ionic:"!==RA()&&"capacitor:"!==RA()||!e.toLowerCase().match(/iphone|ipad|ipod|android/))}function FA(){return Ua()&&11===(null===document||void 0===document?void 0:document.documentMode)}function LA(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Da();return/Edge\/\d+/.test(e)}function jA(){try{var e=self.localStorage,t=Ff();if(e)return e.setItem(t,"1"),e.removeItem(t),!function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Da();return FA()||LA(e)}()||qa()}catch(n){return MA()&&qa()}return!1}function MA(){return"undefined"!==typeof n.g&&"WorkerGlobalScope"in n.g&&"importScripts"in n.g}function UA(){return("http:"===RA()||"https:"===RA()||ja()||DA())&&!(Ma()||La())&&jA()&&!MA()}function VA(){return DA()&&"undefined"!==typeof document}function qA(){return BA.apply(this,arguments)}function BA(){return(BA=He(Ke().mark((function e(){return Ke().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(VA()){e.next=2;break}return e.abrupt("return",!1);case 2:return e.abrupt("return",new Promise((function(e){var t=setTimeout((function(){e(!1)}),1e3);document.addEventListener("deviceready",(function(){clearTimeout(t),e(!0)}))})));case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var zA={LOCAL:"local",NONE:"none",SESSION:"session"},WA=as,KA="persistence";function GA(e,t){WA(Object.values(zA).includes(t),e,"invalid-persistence-type"),Ma()?WA(t!==zA.SESSION,e,"unsupported-persistence-type"):La()?WA(t===zA.NONE,e,"unsupported-persistence-type"):MA()?WA(t===zA.NONE||t===zA.LOCAL&&qa(),e,"unsupported-persistence-type"):WA(t===zA.NONE||jA(),e,"unsupported-persistence-type")}function HA(e){return QA.apply(this,arguments)}function QA(){return QA=He(Ke().mark((function e(t){var n,r;return Ke().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._initializationPromise;case 2:n=YA(),r=nc(KA,t.config.apiKey,t.name),n&&n.setItem(r,t._getPersistence());case 5:case"end":return e.stop()}}),e)}))),QA.apply(this,arguments)}function YA(){var e;try{return(null===(e="undefined"!==typeof window?window:null)||void 0===e?void 0:e.sessionStorage)||null}catch(t){return null}}var $A=as,JA=function(){function e(){d(this,e),this.browserResolver=cs(Vd),this.cordovaResolver=cs(OA),this.underlyingResolver=null,this._redirectPersistence=Pf,this._completeRedirectFn=od,this._overrideRedirectResult=Yh}return v(e,[{key:"_initialize",value:function(){var e=He(Ke().mark((function e(t){return Ke().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.selectUnderlyingResolver();case 2:return e.abrupt("return",this.assertedUnderlyingResolver._initialize(t));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_openPopup",value:function(){var e=He(Ke().mark((function e(t,n,r,i){return Ke().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.selectUnderlyingResolver();case 2:return e.abrupt("return",this.assertedUnderlyingResolver._openPopup(t,n,r,i));case 3:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_openRedirect",value:function(){var e=He(Ke().mark((function e(t,n,r,i){return Ke().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.selectUnderlyingResolver();case 2:return e.abrupt("return",this.assertedUnderlyingResolver._openRedirect(t,n,r,i));case 3:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_isIframeWebStorageSupported",value:function(e,t){this.assertedUnderlyingResolver._isIframeWebStorageSupported(e,t)}},{key:"_originValidation",value:function(e){return this.assertedUnderlyingResolver._originValidation(e)}},{key:"_shouldInitProactively",get:function(){return VA()||this.browserResolver._shouldInitProactively}},{key:"assertedUnderlyingResolver",get:function(){return $A(this.underlyingResolver,"internal-error"),this.underlyingResolver}},{key:"selectUnderlyingResolver",value:function(){var e=He(Ke().mark((function e(){var t;return Ke().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.underlyingResolver){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,qA();case 4:t=e.sent,this.underlyingResolver=t?this.cordovaResolver:this.browserResolver;case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}();function XA(e){return e.unwrap()}function ZA(e,t){var n,r,i=null===(n=t.customData)||void 0===n?void 0:n._tokenResponse;if("auth/multi-factor-auth-required"===(null===(r=t)||void 0===r?void 0:r.code))t.resolver=new iO(e,function(e,t){var n,r=po(e),i=t;return as(t.customData.operationType,r,"argument-error"),as(null===(n=i.customData._serverResponse)||void 0===n?void 0:n.mfaPendingCredential,r,"argument-error"),_f._fromError(r,i)}(e,t));else if(i){var a=eO(t),o=t;a&&(o.credential=a,o.tenantId=i.tenantId||void 0,o.email=i.email||void 0,o.phoneNumber=i.phoneNumber||void 0)}}function eO(e){var t=(e instanceof Ba?e.customData:e)._tokenResponse;if(!t)return null;if(!(e instanceof Ba)&&"temporaryProof"in t&&"phoneNumber"in t)return Ch.credentialFromResult(e);var n,r=t.providerId;if(!r||r===Vu)return null;switch(r){case Uu:n=ll;break;case ju:n=cl;break;case Mu:n=fl;break;case qu:n=pl;break;default:var i=t.oauthIdToken,a=t.oauthAccessToken,o=t.oauthTokenSecret,u=t.pendingToken,s=t.nonce;return a||o||i||u?u?r.startsWith("saml.")?hl._create(r,u):$c._fromParams({providerId:r,signInMethod:r,pendingToken:u,idToken:i,accessToken:a}):new sl(r).credential({idToken:i,accessToken:a,rawNonce:s}):null}return e instanceof Ba?n.credentialFromError(e):n.credentialFromResult(e)}function tO(e,t){return t.catch((function(t){throw t instanceof Ba&&ZA(e,t),t})).then((function(e){var t,n=e.operationType,r=e.user;return{operationType:n,credential:(t=e,eO(t)),additionalUserInfo:kf(e),user:aO.getOrCreate(r)}}))}function nO(e,t){return rO.apply(this,arguments)}function rO(){return rO=He(Ke().mark((function e(t,n){var r;return Ke().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n;case 2:return r=e.sent,e.abrupt("return",{verificationId:r.verificationId,confirm:function(e){return tO(t,r.confirm(e))}});case 4:case"end":return e.stop()}}),e)}))),rO.apply(this,arguments)}var iO=function(){function e(t,n){d(this,e),this.resolver=n,this.auth=function(e){return e.wrapped()}(t)}return v(e,[{key:"session",get:function(){return this.resolver.session}},{key:"hints",get:function(){return this.resolver.hints}},{key:"resolveSignIn",value:function(e){return tO(XA(this.auth),this.resolver.resolveSignIn(e))}}]),e}(),aO=function(){function e(t){d(this,e),this._delegate=t,this.multiFactor=function(e){var t=po(e);return If.has(t)||If.set(t,Sf._fromUser(t)),If.get(t)}(t)}return v(e,[{key:"delete",value:function(){return this._delegate.delete()}},{key:"reload",value:function(){return this._delegate.reload()}},{key:"toJSON",value:function(){return this._delegate.toJSON()}},{key:"getIdTokenResult",value:function(e){return this._delegate.getIdTokenResult(e)}},{key:"getIdToken",value:function(e){return this._delegate.getIdToken(e)}},{key:"linkAndRetrieveDataWithCredential",value:function(e){return this.linkWithCredential(e)}},{key:"linkWithCredential",value:function(){var e=He(Ke().mark((function e(t){return Ke().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",tO(this.auth,Fl(this._delegate,t)));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"linkWithPhoneNumber",value:function(){var e=He(Ke().mark((function e(t,n){return Ke().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",nO(this.auth,_h(this._delegate,t,n)));case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"linkWithPopup",value:function(){var e=He(Ke().mark((function e(t){return Ke().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",tO(this.auth,Vh(this._delegate,t,JA)));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"linkWithRedirect",value:function(){var e=He(Ke().mark((function e(t){return Ke().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,HA(kc(this.auth));case 2:return e.abrupt("return",nd(this._delegate,t,JA));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"reauthenticateAndRetrieveDataWithCredential",value:function(e){return this.reauthenticateWithCredential(e)}},{key:"reauthenticateWithCredential",value:function(){var e=He(Ke().mark((function e(t){return Ke().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",tO(this.auth,jl(this._delegate,t)));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"reauthenticateWithPhoneNumber",value:function(e,t){return nO(this.auth,function(e,t,n){return Eh.apply(this,arguments)}(this._delegate,e,t))}},{key:"reauthenticateWithPopup",value:function(e){return tO(this.auth,function(e,t,n){return Uh.apply(this,arguments)}(this._delegate,e,JA))}},{key:"reauthenticateWithRedirect",value:function(){var e=He(Ke().mark((function e(t){return Ke().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,HA(kc(this.auth));case 2:return e.abrupt("return",ed(this._delegate,t,JA));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"sendEmailVerification",value:function(e){return function(e,t){return of.apply(this,arguments)}(this._delegate,e)}},{key:"unlink",value:function(){var e=He(Ke().mark((function e(t){return Ke().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,xl(this._delegate,t);case 2:return e.abrupt("return",this);case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"updateEmail",value:function(e){return function(e,t){return ff(po(e),t,null)}(this._delegate,e)}},{key:"updatePassword",value:function(e){return function(e,t){return ff(po(e),null,t)}(this._delegate,e)}},{key:"updatePhoneNumber",value:function(e){return function(e,t){return Th.apply(this,arguments)}(this._delegate,e)}},{key:"updateProfile",value:function(e){return function(e,t){return lf.apply(this,arguments)}(this._delegate,e)}},{key:"verifyBeforeUpdateEmail",value:function(e,t){return function(e,t,n){return uf.apply(this,arguments)}(this._delegate,e,t)}},{key:"emailVerified",get:function(){return this._delegate.emailVerified}},{key:"isAnonymous",get:function(){return this._delegate.isAnonymous}},{key:"metadata",get:function(){return this._delegate.metadata}},{key:"phoneNumber",get:function(){return this._delegate.phoneNumber}},{key:"providerData",get:function(){return this._delegate.providerData}},{key:"refreshToken",get:function(){return this._delegate.refreshToken}},{key:"tenantId",get:function(){return this._delegate.tenantId}},{key:"displayName",get:function(){return this._delegate.displayName}},{key:"email",get:function(){return this._delegate.email}},{key:"photoURL",get:function(){return this._delegate.photoURL}},{key:"providerId",get:function(){return this._delegate.providerId}},{key:"uid",get:function(){return this._delegate.uid}},{key:"auth",get:function(){return this._delegate.auth}}],[{key:"getOrCreate",value:function(t){return e.USER_MAP.has(t)||e.USER_MAP.set(t,new e(t)),e.USER_MAP.get(t)}}]),e}();aO.USER_MAP=new WeakMap;var oO=as,uO=function(){function e(t,n){if(d(this,e),this.app=t,n.isInitialized())return this._delegate=n.getImmediate(),void this.linkUnderlyingAuth();var r=t.options.apiKey;oO(r,"invalid-api-key",{appName:t.name}),oO(r,"invalid-api-key",{appName:t.name});var i="undefined"!==typeof window?JA:void 0;this._delegate=n.initialize({options:{persistence:cO(r,t.name),popupRedirectResolver:i}}),this._delegate._updateErrorMap(Yu),this.linkUnderlyingAuth()}return v(e,[{key:"emulatorConfig",get:function(){return this._delegate.emulatorConfig}},{key:"currentUser",get:function(){return this._delegate.currentUser?aO.getOrCreate(this._delegate.currentUser):null}},{key:"languageCode",get:function(){return this._delegate.languageCode},set:function(e){this._delegate.languageCode=e}},{key:"settings",get:function(){return this._delegate.settings}},{key:"tenantId",get:function(){return this._delegate.tenantId},set:function(e){this._delegate.tenantId=e}},{key:"useDeviceLanguage",value:function(){this._delegate.useDeviceLanguage()}},{key:"signOut",value:function(){return this._delegate.signOut()}},{key:"useEmulator",value:function(e,t){wc(this._delegate,e,t)}},{key:"applyActionCode",value:function(e){return function(e,t){return Hl.apply(this,arguments)}(this._delegate,e)}},{key:"checkActionCode",value:function(e){return Ql(this._delegate,e)}},{key:"confirmPasswordReset",value:function(e,t){return function(e,t,n){return Gl.apply(this,arguments)}(this._delegate,e,t)}},{key:"createUserWithEmailAndPassword",value:function(){var e=He(Ke().mark((function e(t,n){return Ke().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",tO(this._delegate,Jl(this._delegate,t,n)));case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"fetchProvidersForEmail",value:function(e){return this.fetchSignInMethodsForEmail(e)}},{key:"fetchSignInMethodsForEmail",value:function(e){return function(e,t){return af.apply(this,arguments)}(this._delegate,e)}},{key:"isSignInWithEmailLink",value:function(e){return function(e,t){var n=il.parseLink(t);return"EMAIL_SIGNIN"===(null===n||void 0===n?void 0:n.operation)}(this._delegate,e)}},{key:"getRedirectResult",value:function(){var e=He(Ke().mark((function e(){var t;return Ke().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return oO(UA(),this._delegate,"operation-not-supported-in-this-environment"),e.next=3,id(this._delegate,JA);case 3:if(t=e.sent){e.next=6;break}return e.abrupt("return",{credential:null,user:null});case 6:return e.abrupt("return",tO(this._delegate,Promise.resolve(t)));case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"addFrameworkForLogging",value:function(e){!function(e,t){kc(e)._logFramework(t)}(this._delegate,e)}},{key:"onAuthStateChanged",value:function(e,t,n){var r=sO(e,t,n),i=r.next,a=r.error,o=r.complete;return this._delegate.onAuthStateChanged(i,a,o)}},{key:"onIdTokenChanged",value:function(e,t,n){var r=sO(e,t,n),i=r.next,a=r.error,o=r.complete;return this._delegate.onIdTokenChanged(i,a,o)}},{key:"sendSignInLinkToEmail",value:function(e,t){return function(e,t,n){return ef.apply(this,arguments)}(this._delegate,e,t)}},{key:"sendPasswordResetEmail",value:function(e,t){return function(e,t,n){return Kl.apply(this,arguments)}(this._delegate,e,t||void 0)}},{key:"setPersistence",value:function(){var e=He(Ke().mark((function e(t){var n,r;return Ke().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:GA(this._delegate,t),e.t0=t,e.next=e.t0===zA.SESSION?4:e.t0===zA.LOCAL?6:e.t0===zA.NONE?11:13;break;case 4:return n=Pf,e.abrupt("break",14);case 6:return e.next=8,cs(th)._isAvailable();case 8:return r=e.sent,n=r?th:Af,e.abrupt("break",14);case 11:return n=tc,e.abrupt("break",14);case 13:return e.abrupt("return",es("argument-error",{appName:this._delegate.name}));case 14:return e.abrupt("return",this._delegate.setPersistence(n));case 15:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"signInAndRetrieveDataWithCredential",value:function(e){return this.signInWithCredential(e)}},{key:"signInAnonymously",value:function(){return tO(this._delegate,function(e){return kl.apply(this,arguments)}(this._delegate))}},{key:"signInWithCredential",value:function(e){return tO(this._delegate,Rl(this._delegate,e))}},{key:"signInWithCustomToken",value:function(e){return tO(this._delegate,function(e,t){return ql.apply(this,arguments)}(this._delegate,e))}},{key:"signInWithEmailAndPassword",value:function(e,t){return tO(this._delegate,Zl(this._delegate,e,t))}},{key:"signInWithEmailLink",value:function(e,t){return tO(this._delegate,function(e,t,n){return tf.apply(this,arguments)}(this._delegate,e,t))}},{key:"signInWithPhoneNumber",value:function(e,t){return nO(this._delegate,function(e,t,n){return wh.apply(this,arguments)}(this._delegate,e,t))}},{key:"signInWithPopup",value:function(){var e=He(Ke().mark((function e(t){return Ke().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return oO(UA(),this._delegate,"operation-not-supported-in-this-environment"),e.abrupt("return",tO(this._delegate,jh(this._delegate,t,JA)));case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"signInWithRedirect",value:function(){var e=He(Ke().mark((function e(t){return Ke().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return oO(UA(),this._delegate,"operation-not-supported-in-this-environment"),e.next=3,HA(this._delegate);case 3:return e.abrupt("return",Xh(this._delegate,t,JA));case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"updateCurrentUser",value:function(e){return this._delegate.updateCurrentUser(e)}},{key:"verifyPasswordResetCode",value:function(e){return function(e,t){return $l.apply(this,arguments)}(this._delegate,e)}},{key:"unwrap",value:function(){return this._delegate}},{key:"_delete",value:function(){return this._delegate._delete()}},{key:"linkUnderlyingAuth",value:function(){var e=this;this._delegate.wrapped=function(){return e}}}]),e}();function sO(e,t,n){var r=e;"function"!==typeof e&&(r=e.next,t=e.error,n=e.complete);var i=r;return{next:function(e){return i(e&&aO.getOrCreate(e))},error:t,complete:n}}function cO(e,t){var n=function(e,t){var n=YA();if(!n)return[];var r=nc(KA,e,t);switch(n.getItem(r)){case zA.NONE:return[tc];case zA.LOCAL:return[th,Pf];case zA.SESSION:return[Pf];default:return[]}}(e,t);if("undefined"===typeof self||n.includes(th)||n.push(th),"undefined"!==typeof window)for(var r=0,i=[Af,Pf];r<i.length;r++){var a=i[r];n.includes(a)||n.push(a)}return n.includes(tc)||n.push(tc),n}uO.Persistence=zA;var lO=function(){function e(){d(this,e),this.providerId="phone",this._delegate=new Ch(XA(sA.auth()))}return v(e,[{key:"verifyPhoneNumber",value:function(e,t){return this._delegate.verifyPhoneNumber(e,t)}},{key:"unwrap",value:function(){return this._delegate}}],[{key:"credential",value:function(e,t){return Ch.credential(e,t)}}]),e}();lO.PHONE_SIGN_IN_METHOD=Ch.PHONE_SIGN_IN_METHOD,lO.PROVIDER_ID=Ch.PROVIDER_ID;var fO,hO=as,dO=function(){function e(t,n){var r,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:sA.app();d(this,e),hO(null===(r=i.options)||void 0===r?void 0:r.apiKey,"invalid-api-key",{appName:i.name}),this._delegate=new gh(t,n,i.auth()),this.type=this._delegate.type}return v(e,[{key:"clear",value:function(){this._delegate.clear()}},{key:"render",value:function(){return this._delegate.render()}},{key:"verify",value:function(){return this._delegate.verify()}}]),e}();(fO=sA).INTERNAL.registerComponent(new vo("auth-compat",(function(e){var t=e.getProvider("app-compat").getImmediate(),n=e.getProvider("auth");return new uO(t,n)}),"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:Bu,PASSWORD_RESET:zu,RECOVER_EMAIL:Wu,REVERT_SECOND_FACTOR_ADDITION:Ku,VERIFY_AND_CHANGE_EMAIL:Gu,VERIFY_EMAIL:Hu}},EmailAuthProvider:al,FacebookAuthProvider:cl,GithubAuthProvider:fl,GoogleAuthProvider:ll,OAuthProvider:sl,SAMLAuthProvider:dl,PhoneAuthProvider:lO,PhoneMultiFactorGenerator:zd,RecaptchaVerifier:dO,TwitterAuthProvider:pl,Auth:uO,AuthCredential:Ec,Error:Ba}).setInstantiationMode("LAZY").setMultipleInstances(!1)),fO.registerVersion("@firebase/auth-compat","0.2.20");var pO="@firebase/database",vO="0.13.6",yO="";function mO(e){yO=e}var gO=function(){function e(t){d(this,e),this.domStorage_=t,this.prefix_="firebase:"}return v(e,[{key:"set",value:function(e,t){null==t?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),Ha(t))}},{key:"get",value:function(e){var t=this.domStorage_.getItem(this.prefixedName_(e));return null==t?null:Ga(t)}},{key:"remove",value:function(e){this.domStorage_.removeItem(this.prefixedName_(e))}},{key:"prefixedName_",value:function(e){return this.prefix_+e}},{key:"toString",value:function(){return this.domStorage_.toString()}}]),e}(),kO=function(){function e(){d(this,e),this.cache_={},this.isInMemoryStorage=!0}return v(e,[{key:"set",value:function(e,t){null==t?delete this.cache_[e]:this.cache_[e]=t}},{key:"get",value:function(e){return Ya(this.cache_,e)?this.cache_[e]:null}},{key:"remove",value:function(e){delete this.cache_[e]}}]),e}(),bO=function(e){try{if("undefined"!==typeof window&&"undefined"!==typeof window[e]){var t=window[e];return t.setItem("firebase:sentinel","cache"),t.removeItem("firebase:sentinel"),new gO(t)}}catch(n){}return new kO},wO=bO("localStorage"),_O=bO("sessionStorage"),xO=new Io("@firebase/database"),EO=function(){var e=1;return function(){return e++}}(),SO=function(e){var t=function(e){for(var t=[],n=0,r=0;r<e.length;r++){var i=e.charCodeAt(r);if(i>=55296&&i<=56319){var a=i-55296;r++,Ea(r<e.length,"Surrogate pair missing trail surrogate."),i=65536+(a<<10)+(e.charCodeAt(r)-56320)}i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):i<65536?(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t}(e),n=new io;n.update(t);var r=n.digest();return Ta.encodeByteArray(r)},IO=function e(){for(var t="",n=0;n<arguments.length;n++){var r=n<0||arguments.length<=n?void 0:arguments[n];Array.isArray(r)||r&&"object"===typeof r&&"number"===typeof r.length?t+=e.apply(null,r):t+="object"===typeof r?Ha(r):r,t+=" "}return t},TO=null,CO=!0,NO=function(e,t){Ea(!t||!0===e||!1===e,"Can't turn on custom loggers persistently."),!0===e?(xO.logLevel=ko.VERBOSE,TO=xO.log.bind(xO),t&&_O.set("logging_enabled",!0)):"function"===typeof e?TO=e:(TO=null,_O.remove("logging_enabled"))},AO=function(){if(!0===CO&&(CO=!1,null===TO&&!0===_O.get("logging_enabled")&&NO(!0)),TO){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=IO.apply(null,t);TO(r)}},OO=function(e){return function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];AO.apply(void 0,[e].concat(n))}},PO=function(){var e="FIREBASE INTERNAL ERROR: "+IO.apply(void 0,arguments);xO.error(e)},RO=function(){var e="FIREBASE FATAL ERROR: ".concat(IO.apply(void 0,arguments));throw xO.error(e),new Error(e)},DO=function(){var e="FIREBASE WARNING: "+IO.apply(void 0,arguments);xO.warn(e)},FO=function(e){return"number"===typeof e&&(e!==e||e===Number.POSITIVE_INFINITY||e===Number.NEGATIVE_INFINITY)},LO="[MIN_NAME]",jO="[MAX_NAME]",MO=function(e,t){if(e===t)return 0;if(e===LO||t===jO)return-1;if(t===LO||e===jO)return 1;var n=QO(e),r=QO(t);return null!==n?null!==r?n-r===0?e.length-t.length:n-r:-1:null!==r?1:e<t?-1:1},UO=function(e,t){return e===t?0:e<t?-1:1},VO=function(e,t){if(t&&e in t)return t[e];throw new Error("Missing required key ("+e+") in object: "+Ha(t))},qO=function e(t){if("object"!==typeof t||null===t)return Ha(t);var n=[];for(var r in t)n.push(r);n.sort();for(var i="{",a=0;a<n.length;a++)0!==a&&(i+=","),i+=Ha(n[a]),i+=":",i+=e(t[n[a]]);return i+="}"},BO=function(e,t){var n=e.length;if(n<=t)return[e];for(var r=[],i=0;i<n;i+=t)i+t>n?r.push(e.substring(i,n)):r.push(e.substring(i,i+t));return r};function zO(e,t){for(var n in e)e.hasOwnProperty(n)&&t(n,e[n])}var WO=function(e){Ea(!FO(e),"Invalid JSON number");var t,n,r,i,a,o=1023;0===e?(n=0,r=0,t=1/e===-1/0?1:0):(t=e<0,(e=Math.abs(e))>=Math.pow(2,-1022)?(n=(i=Math.min(Math.floor(Math.log(e)/Math.LN2),o))+o,r=Math.round(e*Math.pow(2,52-i)-Math.pow(2,52))):(n=0,r=Math.round(e/Math.pow(2,-1074))));var u=[];for(a=52;a;a-=1)u.push(r%2?1:0),r=Math.floor(r/2);for(a=11;a;a-=1)u.push(n%2?1:0),n=Math.floor(n/2);u.push(t?1:0),u.reverse();var s=u.join(""),c="";for(a=0;a<64;a+=8){var l=parseInt(s.substr(a,8),2).toString(16);1===l.length&&(l="0"+l),c+=l}return c.toLowerCase()};var KO=new RegExp("^-?(0*)\\d{1,10}$"),GO=-2147483648,HO=2147483647,QO=function(e){if(KO.test(e)){var t=Number(e);if(t>=GO&&t<=HO)return t}return null},YO=function(e){try{e()}catch(t){setTimeout((function(){var e=t.stack||"";throw DO("Exception was thrown by user callback.",e),t}),Math.floor(0))}},$O=function(e,t){var n=setTimeout(e,t);return"number"===typeof n&&"undefined"!==typeof Deno&&Deno.unrefTimer?Deno.unrefTimer(n):"object"===typeof n&&n.unref&&n.unref(),n},JO=function(){function e(t,n){var r=this;d(this,e),this.appName_=t,this.appCheckProvider=n,this.appCheck=null===n||void 0===n?void 0:n.getImmediate({optional:!0}),this.appCheck||null===n||void 0===n||n.get().then((function(e){return r.appCheck=e}))}return v(e,[{key:"getToken",value:function(e){var t=this;return this.appCheck?this.appCheck.getToken(e):new Promise((function(n,r){setTimeout((function(){t.appCheck?t.getToken(e).then(n,r):n(null)}),0)}))}},{key:"addTokenChangeListener",value:function(e){var t;null===(t=this.appCheckProvider)||void 0===t||t.get().then((function(t){return t.addTokenListener(e)}))}},{key:"notifyForInvalidToken",value:function(){DO('Provided AppCheck credentials for the app named "'.concat(this.appName_,'" ')+"are invalid. This usually indicates your app was not initialized correctly.")}}]),e}(),XO=function(){function e(t,n,r){var i=this;d(this,e),this.appName_=t,this.firebaseOptions_=n,this.authProvider_=r,this.auth_=null,this.auth_=r.getImmediate({optional:!0}),this.auth_||r.onInit((function(e){return i.auth_=e}))}return v(e,[{key:"getToken",value:function(e){var t=this;return this.auth_?this.auth_.getToken(e).catch((function(e){return e&&"auth/token-not-initialized"===e.code?(AO("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(e)})):new Promise((function(n,r){setTimeout((function(){t.auth_?t.getToken(e).then(n,r):n(null)}),0)}))}},{key:"addTokenChangeListener",value:function(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then((function(t){return t.addAuthTokenListener(e)}))}},{key:"removeTokenChangeListener",value:function(e){this.authProvider_.get().then((function(t){return t.removeAuthTokenListener(e)}))}},{key:"notifyForInvalidToken",value:function(){var e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?e+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?e+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':e+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',DO(e)}}]),e}(),ZO=function(){function e(t){d(this,e),this.accessToken=t}return v(e,[{key:"getToken",value:function(e){return Promise.resolve({accessToken:this.accessToken})}},{key:"addTokenChangeListener",value:function(e){e(this.accessToken)}},{key:"removeTokenChangeListener",value:function(e){}},{key:"notifyForInvalidToken",value:function(){}}]),e}();ZO.OWNER="owner";var eP="5",tP=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,nP="websocket",rP="long_polling",iP=function(){function e(t,n,r,i){var a=arguments.length>4&&void 0!==arguments[4]&&arguments[4],o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"",u=arguments.length>6&&void 0!==arguments[6]&&arguments[6];d(this,e),this.secure=n,this.namespace=r,this.webSocketOnly=i,this.nodeAdmin=a,this.persistenceKey=o,this.includeNamespaceInQueryParams=u,this._host=t.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=wO.get("host:"+t)||this._host}return v(e,[{key:"isCacheableHost",value:function(){return"s-"===this.internalHost.substr(0,2)}},{key:"isCustomHost",value:function(){return"firebaseio.com"!==this._domain&&"firebaseio-demo.com"!==this._domain}},{key:"host",get:function(){return this._host},set:function(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&wO.set("host:"+this._host,this.internalHost))}},{key:"toString",value:function(){var e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}},{key:"toURLString",value:function(){var e=this.secure?"https://":"http://",t=this.includeNamespaceInQueryParams?"?ns=".concat(this.namespace):"";return"".concat(e).concat(this.host,"/").concat(t)}}]),e}();function aP(e,t,n){var r;if(Ea("string"===typeof t,"typeof type must == string"),Ea("object"===typeof n,"typeof params must == object"),t===nP)r=(e.secure?"wss://":"ws://")+e.internalHost+"/.ws?";else{if(t!==rP)throw new Error("Unknown connection type: "+t);r=(e.secure?"https://":"http://")+e.internalHost+"/.lp?"}(function(e){return e.host!==e.internalHost||e.isCustomHost()||e.includeNamespaceInQueryParams})(e)&&(n.ns=e.namespace);var i=[];return zO(n,(function(e,t){i.push(e+"="+t)})),r+i.join("&")}var oP=function(){function e(){d(this,e),this.counters_={}}return v(e,[{key:"incrementCounter",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;Ya(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=t}},{key:"get",value:function(){return Oa(void 0,this.counters_)}}]),e}(),uP={},sP={};function cP(e){var t=e.toString();return uP[t]||(uP[t]=new oP),uP[t]}var lP=function(){function e(t){d(this,e),this.onMessage_=t,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}return v(e,[{key:"closeAfter",value:function(e,t){this.closeAfterResponse=e,this.onClose=t,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}},{key:"handleResponse",value:function(e,t){var n=this;this.pendingResponses[e]=t;for(var r=function(){var e=n.pendingResponses[n.currentResponseNum];delete n.pendingResponses[n.currentResponseNum];for(var t=function(t){e[t]&&YO((function(){n.onMessage_(e[t])}))},r=0;r<e.length;++r)t(r);if(n.currentResponseNum===n.closeAfterResponse)return n.onClose&&(n.onClose(),n.onClose=null),"break";n.currentResponseNum++};this.pendingResponses[this.currentResponseNum];){if("break"===r())break}}}]),e}(),fP="start",hP="close",dP=function(){function e(t,n,r,i,a,o,u){var s=this;d(this,e),this.connId=t,this.repoInfo=n,this.applicationId=r,this.appCheckToken=i,this.authToken=a,this.transportSessionId=o,this.lastSessionId=u,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=OO(t),this.stats_=cP(n),this.urlFn=function(e){return s.appCheckToken&&(e.ac=s.appCheckToken),aP(n,rP,e)}}return v(e,[{key:"open",value:function(e,t){var n=this;this.curSegmentNum=0,this.onDisconnect_=t,this.myPacketOrderer=new lP(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout((function(){n.log_("Timed out trying to connect."),n.onClosed_(),n.connectTimeoutTimer_=null}),Math.floor(3e4)),function(e){if(Va()||"complete"===document.readyState)e();else{var t=!1,n=function n(){document.body?t||(t=!0,e()):setTimeout(n,Math.floor(10))};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",(function(){"complete"===document.readyState&&n()})),window.attachEvent("onload",n))}}((function(){if(!n.isClosed_){n.scriptTagHolder=new pP((function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];var i=t[0],a=t[1],o=t[2];t[3],t[4];if(n.incrementIncomingBytes_(t),n.scriptTagHolder)if(n.connectTimeoutTimer_&&(clearTimeout(n.connectTimeoutTimer_),n.connectTimeoutTimer_=null),n.everConnected_=!0,i===fP)n.id=a,n.password=o;else{if(i!==hP)throw new Error("Unrecognized command received: "+i);a?(n.scriptTagHolder.sendNewPolls=!1,n.myPacketOrderer.closeAfter(a,(function(){n.onClosed_()}))):n.onClosed_()}}),(function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];var i=t[0],a=t[1];n.incrementIncomingBytes_(t),n.myPacketOrderer.handleResponse(i,a)}),(function(){n.onClosed_()}),n.urlFn);var e={start:"t"};e.ser=Math.floor(1e8*Math.random()),n.scriptTagHolder.uniqueCallbackIdentifier&&(e.cb=n.scriptTagHolder.uniqueCallbackIdentifier),e.v=eP,n.transportSessionId&&(e.s=n.transportSessionId),n.lastSessionId&&(e.ls=n.lastSessionId),n.applicationId&&(e.p=n.applicationId),n.appCheckToken&&(e.ac=n.appCheckToken),"undefined"!==typeof location&&location.hostname&&tP.test(location.hostname)&&(e.r="f");var t=n.urlFn(e);n.log_("Connecting via long-poll to "+t),n.scriptTagHolder.addTag(t,(function(){}))}}))}},{key:"start",value:function(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}},{key:"markConnectionHealthy",value:function(){}},{key:"shutdown_",value:function(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}},{key:"onClosed_",value:function(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}},{key:"close",value:function(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}},{key:"send",value:function(e){var t=Ha(e);this.bytesSent+=t.length,this.stats_.incrementCounter("bytes_sent",t.length);for(var n=Ca(t),r=BO(n,1840),i=0;i<r.length;i++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,r.length,r[i]),this.curSegmentNum++}},{key:"addDisconnectPingFrame",value:function(e,t){if(!Va()){this.myDisconnFrame=document.createElement("iframe");var n={dframe:"t"};n.id=e,n.pw=t,this.myDisconnFrame.src=this.urlFn(n),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}}},{key:"incrementIncomingBytes_",value:function(e){var t=Ha(e).length;this.bytesReceived+=t,this.stats_.incrementCounter("bytes_received",t)}}],[{key:"forceAllow",value:function(){e.forceAllow_=!0}},{key:"forceDisallow",value:function(){e.forceDisallow_=!0}},{key:"isAvailable",value:function(){return!Va()&&(!!e.forceAllow_||!e.forceDisallow_&&"undefined"!==typeof document&&null!=document.createElement&&!("object"===typeof window&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))&&!("object"===typeof Windows&&"object"===typeof Windows.UI))}}]),e}(),pP=function(){function e(t,n,r,i){if(d(this,e),this.onDisconnect=r,this.urlFn=i,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(1e8*Math.random()),this.sendNewPolls=!0,Va())this.commandCB=t,this.onMessageCB=n;else{this.uniqueCallbackIdentifier=EO(),window["pLPCommand"+this.uniqueCallbackIdentifier]=t,window["pRTLPCB"+this.uniqueCallbackIdentifier]=n,this.myIFrame=e.createIFrame_();var a="";if(this.myIFrame.src&&"javascript:"===this.myIFrame.src.substr(0,"javascript:".length))a='<script>document.domain="'+document.domain+'";<\/script>';var o="<html><body>"+a+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(o),this.myIFrame.doc.close()}catch(u){AO("frame writing exception"),u.stack&&AO(u.stack),AO(u)}}}return v(e,[{key:"close",value:function(){var e=this;this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.innerHTML="",setTimeout((function(){null!==e.myIFrame&&(document.body.removeChild(e.myIFrame),e.myIFrame=null)}),Math.floor(0)));var t=this.onDisconnect;t&&(this.onDisconnect=null,t())}},{key:"startLongPoll",value:function(e,t){for(this.myID=e,this.myPW=t,this.alive=!0;this.newRequest_(););}},{key:"newRequest_",value:function(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;var e={};e.id=this.myID,e.pw=this.myPW,e.ser=this.currentSerial;for(var t=this.urlFn(e),n="",r=0;this.pendingSegs.length>0;){if(!(this.pendingSegs[0].d.length+30+n.length<=1870))break;var i=this.pendingSegs.shift();n=n+"&seg"+r+"="+i.seg+"&ts"+r+"="+i.ts+"&d"+r+"="+i.d,r++}return t+=n,this.addLongPollTag_(t,this.currentSerial),!0}return!1}},{key:"enqueueSegment",value:function(e,t,n){this.pendingSegs.push({seg:e,ts:t,d:n}),this.alive&&this.newRequest_()}},{key:"addLongPollTag_",value:function(e,t){var n=this;this.outstandingRequests.add(t);var r=function(){n.outstandingRequests.delete(t),n.newRequest_()},i=setTimeout(r,Math.floor(25e3));this.addTag(e,(function(){clearTimeout(i),r()}))}},{key:"addTag",value:function(e,t){var n=this;Va()?this.doNodeLongPoll(e,t):setTimeout((function(){try{if(!n.sendNewPolls)return;var r=n.myIFrame.doc.createElement("script");r.type="text/javascript",r.async=!0,r.src=e,r.onload=r.onreadystatechange=function(){var e=r.readyState;e&&"loaded"!==e&&"complete"!==e||(r.onload=r.onreadystatechange=null,r.parentNode&&r.parentNode.removeChild(r),t())},r.onerror=function(){AO("Long-poll script failed to load: "+e),n.sendNewPolls=!1,n.close()},n.myIFrame.doc.body.appendChild(r)}catch(i){}}),Math.floor(1))}}],[{key:"createIFrame_",value:function(){var e=document.createElement("iframe");if(e.style.display="none",!document.body)throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";document.body.appendChild(e);try{e.contentWindow.document||AO("No IE domain setting required")}catch(n){var t=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+t+"';document.close();})())"}return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}}]),e}(),vP=null;"undefined"!==typeof MozWebSocket?vP=MozWebSocket:"undefined"!==typeof WebSocket&&(vP=WebSocket);var yP=function(){function e(t,n,r,i,a,o,u){d(this,e),this.connId=t,this.applicationId=r,this.appCheckToken=i,this.authToken=a,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=OO(this.connId),this.stats_=cP(n),this.connURL=e.connectionURL_(n,o,u,i,r),this.nodeAdmin=n.nodeAdmin}return v(e,[{key:"open",value:function(e,t){var n=this;this.onDisconnect=t,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,wO.set("previous_websocket_failure",!0);try{var r;if(Va()){var i=this.nodeAdmin?"AdminNode":"Node";r={headers:{"User-Agent":"Firebase/".concat(eP,"/").concat(yO,"/").concat(process.platform,"/").concat(i),"X-Firebase-GMPID":this.applicationId||""}},this.authToken&&(r.headers.Authorization="Bearer ".concat(this.authToken)),this.appCheckToken&&(r.headers["X-Firebase-AppCheck"]=this.appCheckToken);var a={NODE_ENV:"production",PUBLIC_URL:"/hotSkins",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0},o=0===this.connURL.indexOf("wss://")?a.HTTPS_PROXY||a.https_proxy:a.HTTP_PROXY||a.http_proxy;o&&(r.proxy={origin:o})}this.mySock=new vP(this.connURL,[],r)}catch(s){this.log_("Error instantiating WebSocket.");var u=s.message||s.data;return u&&this.log_(u),void this.onClosed_()}this.mySock.onopen=function(){n.log_("Websocket connected."),n.everConnected_=!0},this.mySock.onclose=function(){n.log_("Websocket connection was disconnected."),n.mySock=null,n.onClosed_()},this.mySock.onmessage=function(e){n.handleIncomingFrame(e)},this.mySock.onerror=function(e){n.log_("WebSocket error.  Closing connection.");var t=e.message||e.data;t&&n.log_(t),n.onClosed_()}}},{key:"start",value:function(){}},{key:"markConnectionHealthy",value:function(){wO.remove("previous_websocket_failure")}},{key:"appendFrame_",value:function(e){if(this.frames.push(e),this.frames.length===this.totalFrames){var t=this.frames.join("");this.frames=null;var n=Ga(t);this.onMessage(n)}}},{key:"handleNewFrameCount_",value:function(e){this.totalFrames=e,this.frames=[]}},{key:"extractFrameCount_",value:function(e){if(Ea(null===this.frames,"We already have a frame buffer"),e.length<=6){var t=Number(e);if(!isNaN(t))return this.handleNewFrameCount_(t),null}return this.handleNewFrameCount_(1),e}},{key:"handleIncomingFrame",value:function(e){if(null!==this.mySock){var t=e.data;if(this.bytesReceived+=t.length,this.stats_.incrementCounter("bytes_received",t.length),this.resetKeepAlive(),null!==this.frames)this.appendFrame_(t);else{var n=this.extractFrameCount_(t);null!==n&&this.appendFrame_(n)}}}},{key:"send",value:function(e){this.resetKeepAlive();var t=Ha(e);this.bytesSent+=t.length,this.stats_.incrementCounter("bytes_sent",t.length);var n=BO(t,16384);n.length>1&&this.sendString_(String(n.length));for(var r=0;r<n.length;r++)this.sendString_(n[r])}},{key:"shutdown_",value:function(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}},{key:"onClosed_",value:function(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}},{key:"close",value:function(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}},{key:"resetKeepAlive",value:function(){var e=this;clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval((function(){e.mySock&&e.sendString_("0"),e.resetKeepAlive()}),Math.floor(45e3))}},{key:"sendString_",value:function(e){try{this.mySock.send(e)}catch(t){this.log_("Exception thrown from WebSocket.send():",t.message||t.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}],[{key:"connectionURL_",value:function(e,t,n,r,i){var a={};return a.v=eP,!Va()&&"undefined"!==typeof location&&location.hostname&&tP.test(location.hostname)&&(a.r="f"),t&&(a.s=t),n&&(a.ls=n),r&&(a.ac=r),i&&(a.p=i),aP(e,nP,a)}},{key:"forceDisallow",value:function(){e.forceDisallow_=!0}},{key:"isAvailable",value:function(){var t=!1;if("undefined"!==typeof navigator&&navigator.userAgent){var n=navigator.userAgent.match(/Android ([0-9]{0,}\.[0-9]{0,})/);n&&n.length>1&&parseFloat(n[1])<4.4&&(t=!0)}return!t&&null!==vP&&!e.forceDisallow_}},{key:"previouslyFailed",value:function(){return wO.isInMemoryStorage||!0===wO.get("previous_websocket_failure")}}]),e}();yP.responsesRequiredToBeHealthy=2,yP.healthyTimeout=3e4;var mP=function(){function e(t){d(this,e),this.initTransports_(t)}return v(e,[{key:"initTransports_",value:function(t){var n=yP&&yP.isAvailable(),r=n&&!yP.previouslyFailed();if(t.webSocketOnly&&(n||DO("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),r=!0),r)this.transports_=[yP];else{var i,a=this.transports_=[],o=ka(e.ALL_TRANSPORTS);try{for(o.s();!(i=o.n()).done;){var u=i.value;u&&u.isAvailable()&&a.push(u)}}catch(s){o.e(s)}finally{o.f()}e.globalTransportInitialized_=!0}}},{key:"initialTransport",value:function(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}},{key:"upgradeTransport",value:function(){return this.transports_.length>1?this.transports_[1]:null}}],[{key:"ALL_TRANSPORTS",get:function(){return[dP,yP]}},{key:"IS_TRANSPORT_INITIALIZED",get:function(){return this.globalTransportInitialized_}}]),e}();mP.globalTransportInitialized_=!1;var gP=function(){function e(t,n,r,i,a,o,u,s,c,l){d(this,e),this.id=t,this.repoInfo_=n,this.applicationId_=r,this.appCheckToken_=i,this.authToken_=a,this.onMessage_=o,this.onReady_=u,this.onDisconnect_=s,this.onKill_=c,this.lastSessionId=l,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=OO("c:"+this.id+":"),this.transportManager_=new mP(n),this.log_("Connection created"),this.start_()}return v(e,[{key:"start_",value:function(){var e=this,t=this.transportManager_.initialTransport();this.conn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;var n=this.connReceiver_(this.conn_),r=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout((function(){e.conn_&&e.conn_.open(n,r)}),Math.floor(0));var i=t.healthyTimeout||0;i>0&&(this.healthyTimeout_=$O((function(){e.healthyTimeout_=null,e.isHealthy_||(e.conn_&&e.conn_.bytesReceived>102400?(e.log_("Connection exceeded healthy timeout but has received "+e.conn_.bytesReceived+" bytes.  Marking connection healthy."),e.isHealthy_=!0,e.conn_.markConnectionHealthy()):e.conn_&&e.conn_.bytesSent>10240?e.log_("Connection exceeded healthy timeout but has sent "+e.conn_.bytesSent+" bytes.  Leaving connection alive."):(e.log_("Closing unhealthy connection after timeout."),e.close()))}),Math.floor(i)))}},{key:"nextTransportId_",value:function(){return"c:"+this.id+":"+this.connectionCount++}},{key:"disconnReceiver_",value:function(e){var t=this;return function(n){e===t.conn_?t.onConnectionLost_(n):e===t.secondaryConn_?(t.log_("Secondary connection lost."),t.onSecondaryConnectionLost_()):t.log_("closing an old connection")}}},{key:"connReceiver_",value:function(e){var t=this;return function(n){2!==t.state_&&(e===t.rx_?t.onPrimaryMessageReceived_(n):e===t.secondaryConn_?t.onSecondaryMessageReceived_(n):t.log_("message on old connection"))}}},{key:"sendRequest",value:function(e){var t={t:"d",d:e};this.sendData_(t)}},{key:"tryCleanupConnection",value:function(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}},{key:"onSecondaryControl_",value:function(e){if("t"in e){var t=e.t;"a"===t?this.upgradeIfSecondaryHealthy_():"r"===t?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),this.tx_!==this.secondaryConn_&&this.rx_!==this.secondaryConn_||this.close()):"o"===t&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}},{key:"onSecondaryMessageReceived_",value:function(e){var t=VO("t",e),n=VO("d",e);if("c"===t)this.onSecondaryControl_(n);else{if("d"!==t)throw new Error("Unknown protocol layer: "+t);this.pendingDataMessages.push(n)}}},{key:"upgradeIfSecondaryHealthy_",value:function(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:"p",d:{}}}))}},{key:"proceedWithUpgrade_",value:function(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:"a",d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:"n",d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}},{key:"onPrimaryMessageReceived_",value:function(e){var t=VO("t",e),n=VO("d",e);"c"===t?this.onControl_(n):"d"===t&&this.onDataMessage_(n)}},{key:"onDataMessage_",value:function(e){this.onPrimaryResponse_(),this.onMessage_(e)}},{key:"onPrimaryResponse_",value:function(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}},{key:"onControl_",value:function(e){var t=VO("t",e);if("d"in e){var n=e.d;if("h"===t)this.onHandshake_(n);else if("n"===t){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(var r=0;r<this.pendingDataMessages.length;++r)this.onDataMessage_(this.pendingDataMessages[r]);this.pendingDataMessages=[],this.tryCleanupConnection()}else"s"===t?this.onConnectionShutdown_(n):"r"===t?this.onReset_(n):"e"===t?PO("Server Error: "+n):"o"===t?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):PO("Unknown control packet command: "+t)}}},{key:"onHandshake_",value:function(e){var t=e.ts,n=e.v,r=e.h;this.sessionId=e.s,this.repoInfo_.host=r,0===this.state_&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,t),eP!==n&&DO("Protocol version mismatch detected"),this.tryStartUpgrade_())}},{key:"tryStartUpgrade_",value:function(){var e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}},{key:"startUpgrade_",value:function(e){var t=this;this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;var n=this.connReceiver_(this.secondaryConn_),r=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(n,r),$O((function(){t.secondaryConn_&&(t.log_("Timed out trying to upgrade."),t.secondaryConn_.close())}),Math.floor(6e4))}},{key:"onReset_",value:function(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,1===this.state_?this.close():(this.closeConnections_(),this.start_())}},{key:"onConnectionEstablished_",value:function(e,t){var n=this;this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(t,this.sessionId),this.onReady_=null),0===this.primaryResponsesRequired_?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):$O((function(){n.sendPingOnPrimaryIfNecessary_()}),Math.floor(5e3))}},{key:"sendPingOnPrimaryIfNecessary_",value:function(){this.isHealthy_||1!==this.state_||(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:"p",d:{}}}))}},{key:"onSecondaryConnectionLost_",value:function(){var e=this.secondaryConn_;this.secondaryConn_=null,this.tx_!==e&&this.rx_!==e||this.close()}},{key:"onConnectionLost_",value:function(e){this.conn_=null,e||0!==this.state_?1===this.state_&&this.log_("Realtime connection lost."):(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(wO.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)),this.close()}},{key:"onConnectionShutdown_",value:function(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}},{key:"sendData_",value:function(e){if(1!==this.state_)throw"Connection is not connected";this.tx_.send(e)}},{key:"close",value:function(){2!==this.state_&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}},{key:"closeConnections_",value:function(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}]),e}(),kP=function(){function e(){d(this,e)}return v(e,[{key:"put",value:function(e,t,n,r){}},{key:"merge",value:function(e,t,n,r){}},{key:"refreshAuthToken",value:function(e){}},{key:"refreshAppCheckToken",value:function(e){}},{key:"onDisconnectPut",value:function(e,t,n){}},{key:"onDisconnectMerge",value:function(e,t,n){}},{key:"onDisconnectCancel",value:function(e,t){}},{key:"reportStats",value:function(e){}}]),e}(),bP=function(){function e(t){d(this,e),this.allowedEvents_=t,this.listeners_={},Ea(Array.isArray(t)&&t.length>0,"Requires a non-empty array")}return v(e,[{key:"trigger",value:function(e){if(Array.isArray(this.listeners_[e])){for(var t=h(this.listeners_[e]),n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];for(var a=0;a<t.length;a++)t[a].callback.apply(t[a].context,r)}}},{key:"on",value:function(e,t,n){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:t,context:n});var r=this.getInitialEvent(e);r&&t.apply(n,r)}},{key:"off",value:function(e,t,n){this.validateEventType_(e);for(var r=this.listeners_[e]||[],i=0;i<r.length;i++)if(r[i].callback===t&&(!n||n===r[i].context))return void r.splice(i,1)}},{key:"validateEventType_",value:function(e){Ea(this.allowedEvents_.find((function(t){return t===e})),"Unknown event: "+e)}}]),e}(),wP=function(e){m(n,e);var t=x(n);function n(){var e;return d(this,n),(e=t.call(this,["online"])).online_=!0,"undefined"===typeof window||"undefined"===typeof window.addEventListener||Fa()||(window.addEventListener("online",(function(){e.online_||(e.online_=!0,e.trigger("online",!0))}),!1),window.addEventListener("offline",(function(){e.online_&&(e.online_=!1,e.trigger("online",!1))}),!1)),e}return v(n,[{key:"getInitialEvent",value:function(e){return Ea("online"===e,"Unknown event type: "+e),[this.online_]}},{key:"currentlyOnline",value:function(){return this.online_}}],[{key:"getInstance",value:function(){return new n}}]),n}(bP),_P=function(){function e(t,n){if(d(this,e),void 0===n){this.pieces_=t.split("/");for(var r=0,i=0;i<this.pieces_.length;i++)this.pieces_[i].length>0&&(this.pieces_[r]=this.pieces_[i],r++);this.pieces_.length=r,this.pieceNum_=0}else this.pieces_=t,this.pieceNum_=n}return v(e,[{key:"toString",value:function(){for(var e="",t=this.pieceNum_;t<this.pieces_.length;t++)""!==this.pieces_[t]&&(e+="/"+this.pieces_[t]);return e||"/"}}]),e}();function xP(){return new _P("")}function EP(e){return e.pieceNum_>=e.pieces_.length?null:e.pieces_[e.pieceNum_]}function SP(e){return e.pieces_.length-e.pieceNum_}function IP(e){var t=e.pieceNum_;return t<e.pieces_.length&&t++,new _P(e.pieces_,t)}function TP(e){return e.pieceNum_<e.pieces_.length?e.pieces_[e.pieces_.length-1]:null}function CP(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return e.pieces_.slice(e.pieceNum_+t)}function NP(e){if(e.pieceNum_>=e.pieces_.length)return null;for(var t=[],n=e.pieceNum_;n<e.pieces_.length-1;n++)t.push(e.pieces_[n]);return new _P(t,0)}function AP(e,t){for(var n=[],r=e.pieceNum_;r<e.pieces_.length;r++)n.push(e.pieces_[r]);if(t instanceof _P)for(var i=t.pieceNum_;i<t.pieces_.length;i++)n.push(t.pieces_[i]);else for(var a=t.split("/"),o=0;o<a.length;o++)a[o].length>0&&n.push(a[o]);return new _P(n,0)}function OP(e){return e.pieceNum_>=e.pieces_.length}function PP(e,t){var n=EP(e),r=EP(t);if(null===n)return t;if(n===r)return PP(IP(e),IP(t));throw new Error("INTERNAL ERROR: innerPath ("+t+") is not within outerPath ("+e+")")}function RP(e,t){for(var n=CP(e,0),r=CP(t,0),i=0;i<n.length&&i<r.length;i++){var a=MO(n[i],r[i]);if(0!==a)return a}return n.length===r.length?0:n.length<r.length?-1:1}function DP(e,t){if(SP(e)!==SP(t))return!1;for(var n=e.pieceNum_,r=t.pieceNum_;n<=e.pieces_.length;n++,r++)if(e.pieces_[n]!==t.pieces_[r])return!1;return!0}function FP(e,t){var n=e.pieceNum_,r=t.pieceNum_;if(SP(e)>SP(t))return!1;for(;n<e.pieces_.length;){if(e.pieces_[n]!==t.pieces_[r])return!1;++n,++r}return!0}var LP=v((function e(t,n){d(this,e),this.errorPrefix_=n,this.parts_=CP(t,0),this.byteLength_=Math.max(1,this.parts_.length);for(var r=0;r<this.parts_.length;r++)this.byteLength_+=ho(this.parts_[r]);jP(this)}));function jP(e){if(e.byteLength_>768)throw new Error(e.errorPrefix_+"has a key path longer than 768 bytes ("+e.byteLength_+").");if(e.parts_.length>32)throw new Error(e.errorPrefix_+"path specified exceeds the maximum depth that can be written (32) or object contains a cycle "+MP(e))}function MP(e){return 0===e.parts_.length?"":"in property '"+e.parts_.join(".")+"'"}var UP=function(e){m(n,e);var t=x(n);function n(){var e,r,i;return d(this,n),e=t.call(this,["visible"]),"undefined"!==typeof document&&"undefined"!==typeof document.addEventListener&&("undefined"!==typeof document.hidden?(i="visibilitychange",r="hidden"):"undefined"!==typeof document.mozHidden?(i="mozvisibilitychange",r="mozHidden"):"undefined"!==typeof document.msHidden?(i="msvisibilitychange",r="msHidden"):"undefined"!==typeof document.webkitHidden&&(i="webkitvisibilitychange",r="webkitHidden")),e.visible_=!0,i&&document.addEventListener(i,(function(){var t=!document[r];t!==e.visible_&&(e.visible_=t,e.trigger("visible",t))}),!1),e}return v(n,[{key:"getInitialEvent",value:function(e){return Ea("visible"===e,"Unknown event type: "+e),[this.visible_]}}],[{key:"getInstance",value:function(){return new n}}]),n}(bP),VP=1e3,qP=function(e){m(n,e);var t=x(n);function n(e,r,i,a,o,u,s,c){var l;if(d(this,n),(l=t.call(this)).repoInfo_=e,l.applicationId_=r,l.onDataUpdate_=i,l.onConnectStatus_=a,l.onServerInfoUpdate_=o,l.authTokenProvider_=u,l.appCheckTokenProvider_=s,l.authOverride_=c,l.id=n.nextPersistentConnectionId_++,l.log_=OO("p:"+l.id+":"),l.interruptReasons_={},l.listens=new Map,l.outstandingPuts_=[],l.outstandingGets_=[],l.outstandingPutCount_=0,l.outstandingGetCount_=0,l.onDisconnectRequestQueue_=[],l.connected_=!1,l.reconnectDelay_=VP,l.maxReconnectDelay_=3e5,l.securityDebugCallback_=null,l.lastSessionId=null,l.establishConnectionTimer_=null,l.visible_=!1,l.requestCBHash_={},l.requestNumber_=0,l.realtime_=null,l.authToken_=null,l.appCheckToken_=null,l.forceTokenRefresh_=!1,l.invalidAuthTokenCount_=0,l.invalidAppCheckTokenCount_=0,l.firstConnection_=!0,l.lastConnectionAttemptTime_=null,l.lastConnectionEstablishedTime_=null,c&&!Va())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");return UP.getInstance().on("visible",l.onVisible_,w(l)),-1===e.host.indexOf("fblocal")&&wP.getInstance().on("online",l.onOnline_,w(l)),l}return v(n,[{key:"sendRequest",value:function(e,t,n){var r=++this.requestNumber_,i={r:r,a:e,b:t};this.log_(Ha(i)),Ea(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(i),n&&(this.requestCBHash_[r]=n)}},{key:"get",value:function(e){this.initConnection_();var t=new Pa,n={action:"g",request:{p:e._path.toString(),q:e._queryObject},onComplete:function(e){var n=e.d;"ok"===e.s?t.resolve(n):t.reject(n)}};this.outstandingGets_.push(n),this.outstandingGetCount_++;var r=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(r),t.promise}},{key:"listen",value:function(e,t,n,r){this.initConnection_();var i=e._queryIdentifier,a=e._path.toString();this.log_("Listen called for "+a+" "+i),this.listens.has(a)||this.listens.set(a,new Map),Ea(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),Ea(!this.listens.get(a).has(i),"listen() called twice for same path/queryId.");var o={onComplete:r,hashFn:t,query:e,tag:n};this.listens.get(a).set(i,o),this.connected_&&this.sendListen_(o)}},{key:"sendGet_",value:function(e){var t=this,n=this.outstandingGets_[e];this.sendRequest("g",n.request,(function(r){delete t.outstandingGets_[e],t.outstandingGetCount_--,0===t.outstandingGetCount_&&(t.outstandingGets_=[]),n.onComplete&&n.onComplete(r)}))}},{key:"sendListen_",value:function(e){var t=this,r=e.query,i=r._path.toString(),a=r._queryIdentifier;this.log_("Listen on "+i+" for "+a);var o={p:i};e.tag&&(o.q=r._queryObject,o.t=e.tag),o.h=e.hashFn(),this.sendRequest("q",o,(function(o){var u=o.d,s=o.s;n.warnOnListenWarnings_(u,r),(t.listens.get(i)&&t.listens.get(i).get(a))===e&&(t.log_("listen response",o),"ok"!==s&&t.removeListen_(i,a),e.onComplete&&e.onComplete(s,u))}))}},{key:"refreshAuthToken",value:function(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},(function(){})),this.reduceReconnectDelayIfAdminCredential_(e)}},{key:"reduceReconnectDelayIfAdminCredential_",value:function(e){(e&&40===e.length||function(e){var t=Qa(e).claims;return"object"===typeof t&&!0===t.admin}(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=3e4)}},{key:"refreshAppCheckToken",value:function(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},(function(){}))}},{key:"tryAuth",value:function(){var e=this;if(this.connected_&&this.authToken_){var t=this.authToken_,n=function(e){var t=Qa(e).claims;return!!t&&"object"===typeof t&&t.hasOwnProperty("iat")}(t)?"auth":"gauth",r={cred:t};null===this.authOverride_?r.noauth=!0:"object"===typeof this.authOverride_&&(r.authvar=this.authOverride_),this.sendRequest(n,r,(function(n){var r=n.s,i=n.d||"error";e.authToken_===t&&("ok"===r?e.invalidAuthTokenCount_=0:e.onAuthRevoked_(r,i))}))}}},{key:"tryAppCheck",value:function(){var e=this;this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},(function(t){var n=t.s,r=t.d||"error";"ok"===n?e.invalidAppCheckTokenCount_=0:e.onAppCheckRevoked_(n,r)}))}},{key:"unlisten",value:function(e,t){var n=e._path.toString(),r=e._queryIdentifier;this.log_("Unlisten called for "+n+" "+r),Ea(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(n,r)&&this.connected_&&this.sendUnlisten_(n,r,e._queryObject,t)}},{key:"sendUnlisten_",value:function(e,t,n,r){this.log_("Unlisten on "+e+" for "+t);var i={p:e};r&&(i.q=n,i.t=r),this.sendRequest("n",i)}},{key:"onDisconnectPut",value:function(e,t,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,t,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:t,onComplete:n})}},{key:"onDisconnectMerge",value:function(e,t,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,t,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:t,onComplete:n})}},{key:"onDisconnectCancel",value:function(e,t){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,t):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:t})}},{key:"sendOnDisconnect_",value:function(e,t,n,r){var i={p:t,d:n};this.log_("onDisconnect "+e,i),this.sendRequest(e,i,(function(e){r&&setTimeout((function(){r(e.s,e.d)}),Math.floor(0))}))}},{key:"put",value:function(e,t,n,r){this.putInternal("p",e,t,n,r)}},{key:"merge",value:function(e,t,n,r){this.putInternal("m",e,t,n,r)}},{key:"putInternal",value:function(e,t,n,r,i){this.initConnection_();var a={p:t,d:n};void 0!==i&&(a.h=i),this.outstandingPuts_.push({action:e,request:a,onComplete:r}),this.outstandingPutCount_++;var o=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(o):this.log_("Buffering put: "+t)}},{key:"sendPut_",value:function(e){var t=this,n=this.outstandingPuts_[e].action,r=this.outstandingPuts_[e].request,i=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(n,r,(function(r){t.log_(n+" response",r),delete t.outstandingPuts_[e],t.outstandingPutCount_--,0===t.outstandingPutCount_&&(t.outstandingPuts_=[]),i&&i(r.s,r.d)}))}},{key:"reportStats",value:function(e){var t=this;if(this.connected_){var n={c:e};this.log_("reportStats",n),this.sendRequest("s",n,(function(e){if("ok"!==e.s){var n=e.d;t.log_("reportStats","Error sending stats: "+n)}}))}}},{key:"onDataMessage_",value:function(e){if("r"in e){this.log_("from server: "+Ha(e));var t=e.r,n=this.requestCBHash_[t];n&&(delete this.requestCBHash_[t],n(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}}},{key:"onDataPush_",value:function(e,t){this.log_("handleServerMessage",e,t),"d"===e?this.onDataUpdate_(t.p,t.d,!1,t.t):"m"===e?this.onDataUpdate_(t.p,t.d,!0,t.t):"c"===e?this.onListenRevoked_(t.p,t.q):"ac"===e?this.onAuthRevoked_(t.s,t.d):"apc"===e?this.onAppCheckRevoked_(t.s,t.d):"sd"===e?this.onSecurityDebugPacket_(t):PO("Unrecognized action received from server: "+Ha(e)+"\nAre you using the latest client?")}},{key:"onReady_",value:function(e,t){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=(new Date).getTime(),this.handleTimestamp_(e),this.lastSessionId=t,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}},{key:"scheduleConnect_",value:function(e){var t=this;Ea(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout((function(){t.establishConnectionTimer_=null,t.establishConnection_()}),Math.floor(e))}},{key:"initConnection_",value:function(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}},{key:"onVisible_",value:function(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=VP,this.realtime_||this.scheduleConnect_(0)),this.visible_=e}},{key:"onOnline_",value:function(e){e?(this.log_("Browser went online."),this.reconnectDelay_=VP,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}},{key:"onRealtimeDisconnect_",value:function(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){if(this.visible_){if(this.lastConnectionEstablishedTime_){(new Date).getTime()-this.lastConnectionEstablishedTime_>3e4&&(this.reconnectDelay_=VP),this.lastConnectionEstablishedTime_=null}}else this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=(new Date).getTime();var e=(new Date).getTime()-this.lastConnectionAttemptTime_,t=Math.max(0,this.reconnectDelay_-e);t=Math.random()*t,this.log_("Trying to reconnect in "+t+"ms"),this.scheduleConnect_(t),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,1.3*this.reconnectDelay_)}this.onConnectStatus_(!1)}},{key:"establishConnection_",value:function(){var e=He(Ke().mark((function e(){var t,r,i,a,o,u,s,c,f,h,d,p,v,y,m=this;return Ke().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.shouldReconnect_()){e.next=30;break}return this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=(new Date).getTime(),this.lastConnectionEstablishedTime_=null,t=this.onDataMessage_.bind(this),r=this.onReady_.bind(this),i=this.onRealtimeDisconnect_.bind(this),a=this.id+":"+n.nextConnectionId_++,o=this.lastSessionId,u=!1,s=null,c=function(){s?s.close():(u=!0,i())},f=function(e){Ea(s,"sendRequest call when we're not connected not allowed."),s.sendRequest(e)},this.realtime_={close:c,sendRequest:f},h=this.forceTokenRefresh_,this.forceTokenRefresh_=!1,e.prev=16,e.next=19,Promise.all([this.authTokenProvider_.getToken(h),this.appCheckTokenProvider_.getToken(h)]);case 19:d=e.sent,p=l(d,2),v=p[0],y=p[1],u?AO("getToken() completed but was canceled"):(AO("getToken() completed. Creating connection."),this.authToken_=v&&v.accessToken,this.appCheckToken_=y&&y.token,s=new gP(a,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,t,r,i,(function(e){DO(e+" ("+m.repoInfo_.toString()+")"),m.interrupt("server_kill")}),o)),e.next=30;break;case 26:e.prev=26,e.t0=e.catch(16),this.log_("Failed to get token: "+e.t0),u||(this.repoInfo_.nodeAdmin&&DO(e.t0),c());case 30:case"end":return e.stop()}}),e,this,[[16,26]])})));return function(){return e.apply(this,arguments)}}()},{key:"interrupt",value:function(e){AO("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}},{key:"resume",value:function(e){AO("Resuming connection for reason: "+e),delete this.interruptReasons_[e],Ja(this.interruptReasons_)&&(this.reconnectDelay_=VP,this.realtime_||this.scheduleConnect_(0))}},{key:"handleTimestamp_",value:function(e){var t=e-(new Date).getTime();this.onServerInfoUpdate_({serverTimeOffset:t})}},{key:"cancelSentTransactions_",value:function(){for(var e=0;e<this.outstandingPuts_.length;e++){var t=this.outstandingPuts_[e];t&&"h"in t.request&&t.queued&&(t.onComplete&&t.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}0===this.outstandingPutCount_&&(this.outstandingPuts_=[])}},{key:"onListenRevoked_",value:function(e,t){var n;n=t?t.map((function(e){return qO(e)})).join("$"):"default";var r=this.removeListen_(e,n);r&&r.onComplete&&r.onComplete("permission_denied")}},{key:"removeListen_",value:function(e,t){var n,r=new _P(e).toString();if(this.listens.has(r)){var i=this.listens.get(r);n=i.get(t),i.delete(t),0===i.size&&this.listens.delete(r)}else n=void 0;return n}},{key:"onAuthRevoked_",value:function(e,t){AO("Auth token revoked: "+e+"/"+t),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),"invalid_token"!==e&&"permission_denied"!==e||(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=3&&(this.reconnectDelay_=3e4,this.authTokenProvider_.notifyForInvalidToken()))}},{key:"onAppCheckRevoked_",value:function(e,t){AO("App check token revoked: "+e+"/"+t),this.appCheckToken_=null,this.forceTokenRefresh_=!0,"invalid_token"!==e&&"permission_denied"!==e||(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=3&&this.appCheckTokenProvider_.notifyForInvalidToken())}},{key:"onSecurityDebugPacket_",value:function(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace("\n","\nFIREBASE: "))}},{key:"restoreState_",value:function(){this.tryAuth(),this.tryAppCheck();var e,t=ka(this.listens.values());try{for(t.s();!(e=t.n()).done;){var n,r=ka(e.value.values());try{for(r.s();!(n=r.n()).done;){var i=n.value;this.sendListen_(i)}}catch(s){r.e(s)}finally{r.f()}}}catch(s){t.e(s)}finally{t.f()}for(var a=0;a<this.outstandingPuts_.length;a++)this.outstandingPuts_[a]&&this.sendPut_(a);for(;this.onDisconnectRequestQueue_.length;){var o=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(o.action,o.pathString,o.data,o.onComplete)}for(var u=0;u<this.outstandingGets_.length;u++)this.outstandingGets_[u]&&this.sendGet_(u)}},{key:"sendConnectStats_",value:function(){var e={},t="js";Va()&&(t=this.repoInfo_.nodeAdmin?"admin_node":"node"),e["sdk."+t+"."+yO.replace(/\./g,"-")]=1,Fa()?e["framework.cordova"]=1:Ma()&&(e["framework.reactnative"]=1),this.reportStats(e)}},{key:"shouldReconnect_",value:function(){var e=wP.getInstance().currentlyOnline();return Ja(this.interruptReasons_)&&e}}],[{key:"warnOnListenWarnings_",value:function(e,t){if(e&&"object"===typeof e&&Ya(e,"w")){var n=$a(e,"w");if(Array.isArray(n)&&~n.indexOf("no_index")){var r='".indexOn": "'+t._queryParams.getIndex().toString()+'"',i=t._path.toString();DO("Using an unspecified index. Your data will be downloaded and "+"filtered on the client. Consider adding ".concat(r," at ")+"".concat(i," to your security rules for better performance."))}}}}]),n}(kP);qP.nextPersistentConnectionId_=0,qP.nextConnectionId_=0;var BP,zP=function(){function e(t,n){d(this,e),this.name=t,this.node=n}return v(e,null,[{key:"Wrap",value:function(t,n){return new e(t,n)}}]),e}(),WP=function(){function e(){d(this,e)}return v(e,[{key:"getCompare",value:function(){return this.compare.bind(this)}},{key:"indexedValueChanged",value:function(e,t){var n=new zP(LO,e),r=new zP(LO,t);return 0!==this.compare(n,r)}},{key:"minPost",value:function(){return zP.MIN}}]),e}(),KP=function(e){m(n,e);var t=x(n);function n(){return d(this,n),t.apply(this,arguments)}return v(n,[{key:"compare",value:function(e,t){return MO(e.name,t.name)}},{key:"isDefinedOn",value:function(e){throw Sa("KeyIndex.isDefinedOn not expected to be called.")}},{key:"indexedValueChanged",value:function(e,t){return!1}},{key:"minPost",value:function(){return zP.MIN}},{key:"maxPost",value:function(){return new zP(jO,BP)}},{key:"makePost",value:function(e,t){return Ea("string"===typeof e,"KeyIndex indexValue must always be a string."),new zP(e,BP)}},{key:"toString",value:function(){return".key"}}],[{key:"__EMPTY_NODE",get:function(){return BP},set:function(e){BP=e}}]),n}(WP),GP=new KP,HP=function(){function e(t,n,r,i){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null;d(this,e),this.isReverse_=i,this.resultGenerator_=a,this.nodeStack_=[];for(var o=1;!t.isEmpty();)if(o=n?r(t.key,n):1,i&&(o*=-1),o<0)t=this.isReverse_?t.left:t.right;else{if(0===o){this.nodeStack_.push(t);break}this.nodeStack_.push(t),t=this.isReverse_?t.right:t.left}}return v(e,[{key:"getNext",value:function(){if(0===this.nodeStack_.length)return null;var e,t=this.nodeStack_.pop();if(e=this.resultGenerator_?this.resultGenerator_(t.key,t.value):{key:t.key,value:t.value},this.isReverse_)for(t=t.left;!t.isEmpty();)this.nodeStack_.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack_.push(t),t=t.left;return e}},{key:"hasNext",value:function(){return this.nodeStack_.length>0}},{key:"peek",value:function(){if(0===this.nodeStack_.length)return null;var e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}}]),e}(),QP=function(){function e(t,n,r,i,a){d(this,e),this.key=t,this.value=n,this.color=null!=r?r:e.RED,this.left=null!=i?i:JP.EMPTY_NODE,this.right=null!=a?a:JP.EMPTY_NODE}return v(e,[{key:"copy",value:function(t,n,r,i,a){return new e(null!=t?t:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=a?a:this.right)}},{key:"count",value:function(){return this.left.count()+1+this.right.count()}},{key:"isEmpty",value:function(){return!1}},{key:"inorderTraversal",value:function(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)}},{key:"reverseTraversal",value:function(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}},{key:"min_",value:function(){return this.left.isEmpty()?this:this.left.min_()}},{key:"minKey",value:function(){return this.min_().key}},{key:"maxKey",value:function(){return this.right.isEmpty()?this.key:this.right.maxKey()}},{key:"insert",value:function(e,t,n){var r=this,i=n(e,r.key);return(r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n))).fixUp_()}},{key:"removeMin_",value:function(){if(this.left.isEmpty())return JP.EMPTY_NODE;var e=this;return e.left.isRed_()||e.left.left.isRed_()||(e=e.moveRedLeft_()),(e=e.copy(null,null,null,e.left.removeMin_(),null)).fixUp_()}},{key:"remove",value:function(e,t){var n,r;if(t(e,(n=this).key)<0)n.left.isEmpty()||n.left.isRed_()||n.left.left.isRed_()||(n=n.moveRedLeft_()),n=n.copy(null,null,null,n.left.remove(e,t),null);else{if(n.left.isRed_()&&(n=n.rotateRight_()),n.right.isEmpty()||n.right.isRed_()||n.right.left.isRed_()||(n=n.moveRedRight_()),0===t(e,n.key)){if(n.right.isEmpty())return JP.EMPTY_NODE;r=n.right.min_(),n=n.copy(r.key,r.value,null,null,n.right.removeMin_())}n=n.copy(null,null,null,null,n.right.remove(e,t))}return n.fixUp_()}},{key:"isRed_",value:function(){return this.color}},{key:"fixUp_",value:function(){var e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e}},{key:"moveRedLeft_",value:function(){var e=this.colorFlip_();return e.right.left.isRed_()&&(e=(e=(e=e.copy(null,null,null,null,e.right.rotateRight_())).rotateLeft_()).colorFlip_()),e}},{key:"moveRedRight_",value:function(){var e=this.colorFlip_();return e.left.left.isRed_()&&(e=(e=e.rotateRight_()).colorFlip_()),e}},{key:"rotateLeft_",value:function(){var t=this.copy(null,null,e.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}},{key:"rotateRight_",value:function(){var t=this.copy(null,null,e.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}},{key:"colorFlip_",value:function(){var e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}},{key:"checkMaxDepth_",value:function(){var e=this.check_();return Math.pow(2,e)<=this.count()+1}},{key:"check_",value:function(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");var e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)}}]),e}();QP.RED=!0,QP.BLACK=!1;var YP,$P=function(){function e(){d(this,e)}return v(e,[{key:"copy",value:function(e,t,n,r,i){return this}},{key:"insert",value:function(e,t,n){return new QP(e,t,null)}},{key:"remove",value:function(e,t){return this}},{key:"count",value:function(){return 0}},{key:"isEmpty",value:function(){return!0}},{key:"inorderTraversal",value:function(e){return!1}},{key:"reverseTraversal",value:function(e){return!1}},{key:"minKey",value:function(){return null}},{key:"maxKey",value:function(){return null}},{key:"check_",value:function(){return 0}},{key:"isRed_",value:function(){return!1}}]),e}(),JP=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.EMPTY_NODE;d(this,e),this.comparator_=t,this.root_=n}return v(e,[{key:"insert",value:function(t,n){return new e(this.comparator_,this.root_.insert(t,n,this.comparator_).copy(null,null,QP.BLACK,null,null))}},{key:"remove",value:function(t){return new e(this.comparator_,this.root_.remove(t,this.comparator_).copy(null,null,QP.BLACK,null,null))}},{key:"get",value:function(e){for(var t,n=this.root_;!n.isEmpty();){if(0===(t=this.comparator_(e,n.key)))return n.value;t<0?n=n.left:t>0&&(n=n.right)}return null}},{key:"getPredecessorKey",value:function(e){for(var t,n=this.root_,r=null;!n.isEmpty();){if(0===(t=this.comparator_(e,n.key))){if(n.left.isEmpty())return r?r.key:null;for(n=n.left;!n.right.isEmpty();)n=n.right;return n.key}t<0?n=n.left:t>0&&(r=n,n=n.right)}throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}},{key:"isEmpty",value:function(){return this.root_.isEmpty()}},{key:"count",value:function(){return this.root_.count()}},{key:"minKey",value:function(){return this.root_.minKey()}},{key:"maxKey",value:function(){return this.root_.maxKey()}},{key:"inorderTraversal",value:function(e){return this.root_.inorderTraversal(e)}},{key:"reverseTraversal",value:function(e){return this.root_.reverseTraversal(e)}},{key:"getIterator",value:function(e){return new HP(this.root_,null,this.comparator_,!1,e)}},{key:"getIteratorFrom",value:function(e,t){return new HP(this.root_,e,this.comparator_,!1,t)}},{key:"getReverseIteratorFrom",value:function(e,t){return new HP(this.root_,e,this.comparator_,!0,t)}},{key:"getReverseIterator",value:function(e){return new HP(this.root_,null,this.comparator_,!0,e)}}]),e}();function XP(e,t){return MO(e.name,t.name)}function ZP(e,t){return MO(e,t)}JP.EMPTY_NODE=new $P;var eR,tR,nR,rR=function(e){return"number"===typeof e?"number:"+WO(e):"string:"+e},iR=function(e){if(e.isLeafNode()){var t=e.val();Ea("string"===typeof t||"number"===typeof t||"object"===typeof t&&Ya(t,".sv"),"Priority must be a string or number.")}else Ea(e===YP||e.isEmpty(),"priority of unexpected type.");Ea(e===YP||e.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")},aR=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.__childrenNodeConstructor.EMPTY_NODE;d(this,e),this.value_=t,this.priorityNode_=n,this.lazyHash_=null,Ea(void 0!==this.value_&&null!==this.value_,"LeafNode shouldn't be created with null/undefined value."),iR(this.priorityNode_)}return v(e,[{key:"isLeafNode",value:function(){return!0}},{key:"getPriority",value:function(){return this.priorityNode_}},{key:"updatePriority",value:function(t){return new e(this.value_,t)}},{key:"getImmediateChild",value:function(t){return".priority"===t?this.priorityNode_:e.__childrenNodeConstructor.EMPTY_NODE}},{key:"getChild",value:function(t){return OP(t)?this:".priority"===EP(t)?this.priorityNode_:e.__childrenNodeConstructor.EMPTY_NODE}},{key:"hasChild",value:function(){return!1}},{key:"getPredecessorChildName",value:function(e,t){return null}},{key:"updateImmediateChild",value:function(t,n){return".priority"===t?this.updatePriority(n):n.isEmpty()&&".priority"!==t?this:e.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(t,n).updatePriority(this.priorityNode_)}},{key:"updateChild",value:function(t,n){var r=EP(t);return null===r?n:n.isEmpty()&&".priority"!==r?this:(Ea(".priority"!==r||1===SP(t),".priority must be the last token in a path"),this.updateImmediateChild(r,e.__childrenNodeConstructor.EMPTY_NODE.updateChild(IP(t),n)))}},{key:"isEmpty",value:function(){return!1}},{key:"numChildren",value:function(){return 0}},{key:"forEachChild",value:function(e,t){return!1}},{key:"val",value:function(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}},{key:"hash",value:function(){if(null===this.lazyHash_){var e="";this.priorityNode_.isEmpty()||(e+="priority:"+rR(this.priorityNode_.val())+":");var t=typeof this.value_;e+=t+":",e+="number"===t?WO(this.value_):this.value_,this.lazyHash_=SO(e)}return this.lazyHash_}},{key:"getValue",value:function(){return this.value_}},{key:"compareTo",value:function(t){return t===e.__childrenNodeConstructor.EMPTY_NODE?1:t instanceof e.__childrenNodeConstructor?-1:(Ea(t.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(t))}},{key:"compareToLeafNode_",value:function(t){var n=typeof t.value_,r=typeof this.value_,i=e.VALUE_TYPE_ORDER.indexOf(n),a=e.VALUE_TYPE_ORDER.indexOf(r);return Ea(i>=0,"Unknown leaf type: "+n),Ea(a>=0,"Unknown leaf type: "+r),i===a?"object"===r?0:this.value_<t.value_?-1:this.value_===t.value_?0:1:a-i}},{key:"withIndex",value:function(){return this}},{key:"isIndexed",value:function(){return!0}},{key:"equals",value:function(e){if(e===this)return!0;if(e.isLeafNode()){var t=e;return this.value_===t.value_&&this.priorityNode_.equals(t.priorityNode_)}return!1}}],[{key:"__childrenNodeConstructor",get:function(){return eR},set:function(e){eR=e}}]),e}();aR.VALUE_TYPE_ORDER=["object","boolean","number","string"];var oR,uR,sR=function(e){m(n,e);var t=x(n);function n(){return d(this,n),t.apply(this,arguments)}return v(n,[{key:"compare",value:function(e,t){var n=e.node.getPriority(),r=t.node.getPriority(),i=n.compareTo(r);return 0===i?MO(e.name,t.name):i}},{key:"isDefinedOn",value:function(e){return!e.getPriority().isEmpty()}},{key:"indexedValueChanged",value:function(e,t){return!e.getPriority().equals(t.getPriority())}},{key:"minPost",value:function(){return zP.MIN}},{key:"maxPost",value:function(){return new zP(jO,new aR("[PRIORITY-POST]",nR))}},{key:"makePost",value:function(e,t){var n=tR(e);return new zP(t,new aR("[PRIORITY-POST]",n))}},{key:"toString",value:function(){return".priority"}}]),n}(WP),cR=new sR,lR=Math.log(2),fR=function(){function e(t){d(this,e);var n;this.count=(n=t+1,parseInt(Math.log(n)/lR,10)),this.current_=this.count-1;var r,i=(r=this.count,parseInt(Array(r+1).join("1"),2));this.bits_=t+1&i}return v(e,[{key:"nextBitIsOne",value:function(){var e=!(this.bits_&1<<this.current_);return this.current_--,e}}]),e}(),hR=function(e,t,n,r){e.sort(t);var i=function t(r,i){var a,o,u=i-r;if(0===u)return null;if(1===u)return a=e[r],o=n?n(a):a,new QP(o,a.node,QP.BLACK,null,null);var s=parseInt(u/2,10)+r,c=t(r,s),l=t(s+1,i);return a=e[s],o=n?n(a):a,new QP(o,a.node,QP.BLACK,c,l)},a=function(t){for(var r=null,a=null,o=e.length,u=function(t,r){var a=o-t,u=o;o-=t;var c=i(a+1,u),l=e[a],f=n?n(l):l;s(new QP(f,l.node,r,null,c))},s=function(e){r?(r.left=e,r=e):(a=e,r=e)},c=0;c<t.count;++c){var l=t.nextBitIsOne(),f=Math.pow(2,t.count-(c+1));l?u(f,QP.BLACK):(u(f,QP.BLACK),u(f,QP.RED))}return a}(new fR(e.length));return new JP(r||t,a)},dR={},pR=function(){function e(t,n){d(this,e),this.indexes_=t,this.indexSet_=n}return v(e,[{key:"get",value:function(e){var t=$a(this.indexes_,e);if(!t)throw new Error("No index defined for "+e);return t instanceof JP?t:null}},{key:"hasIndex",value:function(e){return Ya(this.indexSet_,e.toString())}},{key:"addIndex",value:function(t,n){Ea(t!==GP,"KeyIndex always exists and isn't meant to be added to the IndexMap.");for(var r,i=[],a=!1,o=n.getIterator(zP.Wrap),u=o.getNext();u;)a=a||t.isDefinedOn(u.node),i.push(u),u=o.getNext();r=a?hR(i,t.getCompare()):dR;var s=t.toString(),c=Object.assign({},this.indexSet_);c[s]=t;var l=Object.assign({},this.indexes_);return l[s]=r,new e(l,c)}},{key:"addToIndexes",value:function(t,n){var r=this;return new e(Xa(this.indexes_,(function(e,i){var a=$a(r.indexSet_,i);if(Ea(a,"Missing index implementation for "+i),e===dR){if(a.isDefinedOn(t.node)){for(var o=[],u=n.getIterator(zP.Wrap),s=u.getNext();s;)s.name!==t.name&&o.push(s),s=u.getNext();return o.push(t),hR(o,a.getCompare())}return dR}var c=n.get(t.name),l=e;return c&&(l=l.remove(new zP(t.name,c))),l.insert(t,t.node)})),this.indexSet_)}},{key:"removeFromIndexes",value:function(t,n){return new e(Xa(this.indexes_,(function(e){if(e===dR)return e;var r=n.get(t.name);return r?e.remove(new zP(t.name,r)):e})),this.indexSet_)}}],[{key:"Default",get:function(){return Ea(dR&&cR,"ChildrenNode.ts has not been loaded"),oR=oR||new e({".priority":dR},{".priority":cR})}}]),e}(),vR=function(){function e(t,n,r){d(this,e),this.children_=t,this.priorityNode_=n,this.indexMap_=r,this.lazyHash_=null,this.priorityNode_&&iR(this.priorityNode_),this.children_.isEmpty()&&Ea(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}return v(e,[{key:"isLeafNode",value:function(){return!1}},{key:"getPriority",value:function(){return this.priorityNode_||uR}},{key:"updatePriority",value:function(t){return this.children_.isEmpty()?this:new e(this.children_,t,this.indexMap_)}},{key:"getImmediateChild",value:function(e){if(".priority"===e)return this.getPriority();var t=this.children_.get(e);return null===t?uR:t}},{key:"getChild",value:function(e){var t=EP(e);return null===t?this:this.getImmediateChild(t).getChild(IP(e))}},{key:"hasChild",value:function(e){return null!==this.children_.get(e)}},{key:"updateImmediateChild",value:function(t,n){if(Ea(n,"We should always be passing snapshot nodes"),".priority"===t)return this.updatePriority(n);var r,i,a=new zP(t,n);n.isEmpty()?(r=this.children_.remove(t),i=this.indexMap_.removeFromIndexes(a,this.children_)):(r=this.children_.insert(t,n),i=this.indexMap_.addToIndexes(a,this.children_));var o=r.isEmpty()?uR:this.priorityNode_;return new e(r,o,i)}},{key:"updateChild",value:function(e,t){var n=EP(e);if(null===n)return t;Ea(".priority"!==EP(e)||1===SP(e),".priority must be the last token in a path");var r=this.getImmediateChild(n).updateChild(IP(e),t);return this.updateImmediateChild(n,r)}},{key:"isEmpty",value:function(){return this.children_.isEmpty()}},{key:"numChildren",value:function(){return this.children_.count()}},{key:"val",value:function(t){if(this.isEmpty())return null;var n={},r=0,i=0,a=!0;if(this.forEachChild(cR,(function(o,u){n[o]=u.val(t),r++,a&&e.INTEGER_REGEXP_.test(o)?i=Math.max(i,Number(o)):a=!1})),!t&&a&&i<2*r){var o=[];for(var u in n)o[u]=n[u];return o}return t&&!this.getPriority().isEmpty()&&(n[".priority"]=this.getPriority().val()),n}},{key:"hash",value:function(){if(null===this.lazyHash_){var e="";this.getPriority().isEmpty()||(e+="priority:"+rR(this.getPriority().val())+":"),this.forEachChild(cR,(function(t,n){var r=n.hash();""!==r&&(e+=":"+t+":"+r)})),this.lazyHash_=""===e?"":SO(e)}return this.lazyHash_}},{key:"getPredecessorChildName",value:function(e,t,n){var r=this.resolveIndex_(n);if(r){var i=r.getPredecessorKey(new zP(e,t));return i?i.name:null}return this.children_.getPredecessorKey(e)}},{key:"getFirstChildName",value:function(e){var t=this.resolveIndex_(e);if(t){var n=t.minKey();return n&&n.name}return this.children_.minKey()}},{key:"getFirstChild",value:function(e){var t=this.getFirstChildName(e);return t?new zP(t,this.children_.get(t)):null}},{key:"getLastChildName",value:function(e){var t=this.resolveIndex_(e);if(t){var n=t.maxKey();return n&&n.name}return this.children_.maxKey()}},{key:"getLastChild",value:function(e){var t=this.getLastChildName(e);return t?new zP(t,this.children_.get(t)):null}},{key:"forEachChild",value:function(e,t){var n=this.resolveIndex_(e);return n?n.inorderTraversal((function(e){return t(e.name,e.node)})):this.children_.inorderTraversal(t)}},{key:"getIterator",value:function(e){return this.getIteratorFrom(e.minPost(),e)}},{key:"getIteratorFrom",value:function(e,t){var n=this.resolveIndex_(t);if(n)return n.getIteratorFrom(e,(function(e){return e}));for(var r=this.children_.getIteratorFrom(e.name,zP.Wrap),i=r.peek();null!=i&&t.compare(i,e)<0;)r.getNext(),i=r.peek();return r}},{key:"getReverseIterator",value:function(e){return this.getReverseIteratorFrom(e.maxPost(),e)}},{key:"getReverseIteratorFrom",value:function(e,t){var n=this.resolveIndex_(t);if(n)return n.getReverseIteratorFrom(e,(function(e){return e}));for(var r=this.children_.getReverseIteratorFrom(e.name,zP.Wrap),i=r.peek();null!=i&&t.compare(i,e)>0;)r.getNext(),i=r.peek();return r}},{key:"compareTo",value:function(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===yR?-1:0}},{key:"withIndex",value:function(t){if(t===GP||this.indexMap_.hasIndex(t))return this;var n=this.indexMap_.addIndex(t,this.children_);return new e(this.children_,this.priorityNode_,n)}},{key:"isIndexed",value:function(e){return e===GP||this.indexMap_.hasIndex(e)}},{key:"equals",value:function(e){if(e===this)return!0;if(e.isLeafNode())return!1;var t=e;if(this.getPriority().equals(t.getPriority())){if(this.children_.count()===t.children_.count()){for(var n=this.getIterator(cR),r=t.getIterator(cR),i=n.getNext(),a=r.getNext();i&&a;){if(i.name!==a.name||!i.node.equals(a.node))return!1;i=n.getNext(),a=r.getNext()}return null===i&&null===a}return!1}return!1}},{key:"resolveIndex_",value:function(e){return e===GP?null:this.indexMap_.get(e.toString())}}],[{key:"EMPTY_NODE",get:function(){return uR||(uR=new e(new JP(ZP),null,pR.Default))}}]),e}();vR.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/;var yR=new(function(e){m(n,e);var t=x(n);function n(){return d(this,n),t.call(this,new JP(ZP),vR.EMPTY_NODE,pR.Default)}return v(n,[{key:"compareTo",value:function(e){return e===this?0:1}},{key:"equals",value:function(e){return e===this}},{key:"getPriority",value:function(){return this}},{key:"getImmediateChild",value:function(e){return vR.EMPTY_NODE}},{key:"isEmpty",value:function(){return!1}}]),n}(vR));Object.defineProperties(zP,{MIN:{value:new zP(LO,vR.EMPTY_NODE)},MAX:{value:new zP(jO,yR)}}),KP.__EMPTY_NODE=vR.EMPTY_NODE,aR.__childrenNodeConstructor=vR,YP=yR,function(e){nR=e}(yR);function mR(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(null===e)return vR.EMPTY_NODE;if("object"===typeof e&&".priority"in e&&(t=e[".priority"]),Ea(null===t||"string"===typeof t||"number"===typeof t||"object"===typeof t&&".sv"in t,"Invalid priority type found: "+typeof t),"object"===typeof e&&".value"in e&&null!==e[".value"]&&(e=e[".value"]),"object"!==typeof e||".sv"in e){var n=e;return new aR(n,mR(t))}if(e instanceof Array){var r=vR.EMPTY_NODE;return zO(e,(function(t,n){if(Ya(e,t)&&"."!==t.substring(0,1)){var i=mR(n);!i.isLeafNode()&&i.isEmpty()||(r=r.updateImmediateChild(t,i))}})),r.updatePriority(mR(t))}var i=[],a=!1,o=e;if(zO(o,(function(e,t){if("."!==e.substring(0,1)){var n=mR(t);n.isEmpty()||(a=a||!n.getPriority().isEmpty(),i.push(new zP(e,n)))}})),0===i.length)return vR.EMPTY_NODE;var u=hR(i,XP,(function(e){return e.name}),ZP);if(a){var s=hR(i,cR.getCompare());return new vR(u,mR(t),new pR({".priority":s},{".priority":cR}))}return new vR(u,mR(t),pR.Default)}!function(e){tR=e}(mR);var gR=function(e){m(n,e);var t=x(n);function n(e){var r;return d(this,n),(r=t.call(this)).indexPath_=e,Ea(!OP(e)&&".priority"!==EP(e),"Can't create PathIndex with empty path or .priority key"),r}return v(n,[{key:"extractChild",value:function(e){return e.getChild(this.indexPath_)}},{key:"isDefinedOn",value:function(e){return!e.getChild(this.indexPath_).isEmpty()}},{key:"compare",value:function(e,t){var n=this.extractChild(e.node),r=this.extractChild(t.node),i=n.compareTo(r);return 0===i?MO(e.name,t.name):i}},{key:"makePost",value:function(e,t){var n=mR(e),r=vR.EMPTY_NODE.updateChild(this.indexPath_,n);return new zP(t,r)}},{key:"maxPost",value:function(){var e=vR.EMPTY_NODE.updateChild(this.indexPath_,yR);return new zP(jO,e)}},{key:"toString",value:function(){return CP(this.indexPath_,0).join("/")}}]),n}(WP),kR=function(e){m(n,e);var t=x(n);function n(){return d(this,n),t.apply(this,arguments)}return v(n,[{key:"compare",value:function(e,t){var n=e.node.compareTo(t.node);return 0===n?MO(e.name,t.name):n}},{key:"isDefinedOn",value:function(e){return!0}},{key:"indexedValueChanged",value:function(e,t){return!e.equals(t)}},{key:"minPost",value:function(){return zP.MIN}},{key:"maxPost",value:function(){return zP.MAX}},{key:"makePost",value:function(e,t){var n=mR(e);return new zP(t,n)}},{key:"toString",value:function(){return".value"}}]),n}(WP),bR=new kR,wR="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",_R=function(){var e=0,t=[];return function(n){var r,i=n===e;e=n;var a=new Array(8);for(r=7;r>=0;r--)a[r]=wR.charAt(n%64),n=Math.floor(n/64);Ea(0===n,"Cannot push at time == 0");var o=a.join("");if(i){for(r=11;r>=0&&63===t[r];r--)t[r]=0;t[r]++}else for(r=0;r<12;r++)t[r]=Math.floor(64*Math.random());for(r=0;r<12;r++)o+=wR.charAt(t[r]);return Ea(20===o.length,"nextPushId: Length should be 20."),o}}(),xR=function(e){if("2147483647"===e)return"-";var t=QO(e);if(null!=t)return""+(t+1);for(var n=new Array(e.length),r=0;r<n.length;r++)n[r]=e.charAt(r);if(n.length<786)return n.push("-"),n.join("");for(var i=n.length-1;i>=0&&"z"===n[i];)i--;if(-1===i)return jO;var a=n[i],o=wR.charAt(wR.indexOf(a)+1);return n[i]=o,n.slice(0,i+1).join("")},ER=function(e){if("-2147483648"===e)return LO;var t=QO(e);if(null!=t)return""+(t-1);for(var n=new Array(e.length),r=0;r<n.length;r++)n[r]=e.charAt(r);return"-"===n[n.length-1]?1===n.length?"2147483647":(delete n[n.length-1],n.join("")):(n[n.length-1]=wR.charAt(wR.indexOf(n[n.length-1])-1),n.join("")+"z".repeat(786-n.length))};function SR(e){return{type:"value",snapshotNode:e}}function IR(e,t){return{type:"child_added",snapshotNode:t,childName:e}}function TR(e,t){return{type:"child_removed",snapshotNode:t,childName:e}}function CR(e,t,n){return{type:"child_changed",snapshotNode:t,childName:e,oldSnap:n}}var NR=function(){function e(t){d(this,e),this.index_=t}return v(e,[{key:"updateChild",value:function(e,t,n,r,i,a){Ea(e.isIndexed(this.index_),"A node must be indexed if only a child is updated");var o=e.getImmediateChild(t);return o.getChild(r).equals(n.getChild(r))&&o.isEmpty()===n.isEmpty()?e:(null!=a&&(n.isEmpty()?e.hasChild(t)?a.trackChildChange(TR(t,o)):Ea(e.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):o.isEmpty()?a.trackChildChange(IR(t,n)):a.trackChildChange(CR(t,n,o))),e.isLeafNode()&&n.isEmpty()?e:e.updateImmediateChild(t,n).withIndex(this.index_))}},{key:"updateFullNode",value:function(e,t,n){return null!=n&&(e.isLeafNode()||e.forEachChild(cR,(function(e,r){t.hasChild(e)||n.trackChildChange(TR(e,r))})),t.isLeafNode()||t.forEachChild(cR,(function(t,r){if(e.hasChild(t)){var i=e.getImmediateChild(t);i.equals(r)||n.trackChildChange(CR(t,r,i))}else n.trackChildChange(IR(t,r))}))),t.withIndex(this.index_)}},{key:"updatePriority",value:function(e,t){return e.isEmpty()?vR.EMPTY_NODE:e.updatePriority(t)}},{key:"filtersNodes",value:function(){return!1}},{key:"getIndexedFilter",value:function(){return this}},{key:"getIndex",value:function(){return this.index_}}]),e}(),AR=function(){function e(t){d(this,e),this.indexedFilter_=new NR(t.getIndex()),this.index_=t.getIndex(),this.startPost_=e.getStartPost_(t),this.endPost_=e.getEndPost_(t)}return v(e,[{key:"getStartPost",value:function(){return this.startPost_}},{key:"getEndPost",value:function(){return this.endPost_}},{key:"matches",value:function(e){return this.index_.compare(this.getStartPost(),e)<=0&&this.index_.compare(e,this.getEndPost())<=0}},{key:"updateChild",value:function(e,t,n,r,i,a){return this.matches(new zP(t,n))||(n=vR.EMPTY_NODE),this.indexedFilter_.updateChild(e,t,n,r,i,a)}},{key:"updateFullNode",value:function(e,t,n){t.isLeafNode()&&(t=vR.EMPTY_NODE);var r=t.withIndex(this.index_);r=r.updatePriority(vR.EMPTY_NODE);var i=this;return t.forEachChild(cR,(function(e,t){i.matches(new zP(e,t))||(r=r.updateImmediateChild(e,vR.EMPTY_NODE))})),this.indexedFilter_.updateFullNode(e,r,n)}},{key:"updatePriority",value:function(e,t){return e}},{key:"filtersNodes",value:function(){return!0}},{key:"getIndexedFilter",value:function(){return this.indexedFilter_}},{key:"getIndex",value:function(){return this.index_}}],[{key:"getStartPost_",value:function(e){if(e.hasStart()){var t=e.getIndexStartName();return e.getIndex().makePost(e.getIndexStartValue(),t)}return e.getIndex().minPost()}},{key:"getEndPost_",value:function(e){if(e.hasEnd()){var t=e.getIndexEndName();return e.getIndex().makePost(e.getIndexEndValue(),t)}return e.getIndex().maxPost()}}]),e}(),OR=function(){function e(t){d(this,e),this.rangedFilter_=new AR(t),this.index_=t.getIndex(),this.limit_=t.getLimit(),this.reverse_=!t.isViewFromLeft()}return v(e,[{key:"updateChild",value:function(e,t,n,r,i,a){return this.rangedFilter_.matches(new zP(t,n))||(n=vR.EMPTY_NODE),e.getImmediateChild(t).equals(n)?e:e.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(e,t,n,r,i,a):this.fullLimitUpdateChild_(e,t,n,i,a)}},{key:"updateFullNode",value:function(e,t,n){var r;if(t.isLeafNode()||t.isEmpty())r=vR.EMPTY_NODE.withIndex(this.index_);else if(2*this.limit_<t.numChildren()&&t.isIndexed(this.index_)){var i;r=vR.EMPTY_NODE.withIndex(this.index_),i=this.reverse_?t.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):t.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);for(var a=0;i.hasNext()&&a<this.limit_;){var o=i.getNext();if(!(this.reverse_?this.index_.compare(this.rangedFilter_.getStartPost(),o)<=0:this.index_.compare(o,this.rangedFilter_.getEndPost())<=0))break;r=r.updateImmediateChild(o.name,o.node),a++}}else{var u,s,c,l;if(r=(r=t.withIndex(this.index_)).updatePriority(vR.EMPTY_NODE),this.reverse_){l=r.getReverseIterator(this.index_),u=this.rangedFilter_.getEndPost(),s=this.rangedFilter_.getStartPost();var f=this.index_.getCompare();c=function(e,t){return f(t,e)}}else l=r.getIterator(this.index_),u=this.rangedFilter_.getStartPost(),s=this.rangedFilter_.getEndPost(),c=this.index_.getCompare();for(var h=0,d=!1;l.hasNext();){var p=l.getNext();!d&&c(u,p)<=0&&(d=!0),d&&h<this.limit_&&c(p,s)<=0?h++:r=r.updateImmediateChild(p.name,vR.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(e,r,n)}},{key:"updatePriority",value:function(e,t){return e}},{key:"filtersNodes",value:function(){return!0}},{key:"getIndexedFilter",value:function(){return this.rangedFilter_.getIndexedFilter()}},{key:"getIndex",value:function(){return this.index_}},{key:"fullLimitUpdateChild_",value:function(e,t,n,r,i){var a;if(this.reverse_){var o=this.index_.getCompare();a=function(e,t){return o(t,e)}}else a=this.index_.getCompare();var u=e;Ea(u.numChildren()===this.limit_,"");var s=new zP(t,n),c=this.reverse_?u.getFirstChild(this.index_):u.getLastChild(this.index_),l=this.rangedFilter_.matches(s);if(u.hasChild(t)){for(var f=u.getImmediateChild(t),h=r.getChildAfterChild(this.index_,c,this.reverse_);null!=h&&(h.name===t||u.hasChild(h.name));)h=r.getChildAfterChild(this.index_,h,this.reverse_);var d=null==h?1:a(h,s);if(l&&!n.isEmpty()&&d>=0)return null!=i&&i.trackChildChange(CR(t,n,f)),u.updateImmediateChild(t,n);null!=i&&i.trackChildChange(TR(t,f));var p=u.updateImmediateChild(t,vR.EMPTY_NODE);return null!=h&&this.rangedFilter_.matches(h)?(null!=i&&i.trackChildChange(IR(h.name,h.node)),p.updateImmediateChild(h.name,h.node)):p}return n.isEmpty()?e:l&&a(c,s)>=0?(null!=i&&(i.trackChildChange(TR(c.name,c.node)),i.trackChildChange(IR(t,n))),u.updateImmediateChild(t,n).updateImmediateChild(c.name,vR.EMPTY_NODE)):e}}]),e}(),PR=function(){function e(){d(this,e),this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=cR}return v(e,[{key:"hasStart",value:function(){return this.startSet_}},{key:"hasStartAfter",value:function(){return this.startAfterSet_}},{key:"hasEndBefore",value:function(){return this.endBeforeSet_}},{key:"isViewFromLeft",value:function(){return""===this.viewFrom_?this.startSet_:"l"===this.viewFrom_}},{key:"getIndexStartValue",value:function(){return Ea(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}},{key:"getIndexStartName",value:function(){return Ea(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:LO}},{key:"hasEnd",value:function(){return this.endSet_}},{key:"getIndexEndValue",value:function(){return Ea(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}},{key:"getIndexEndName",value:function(){return Ea(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:jO}},{key:"hasLimit",value:function(){return this.limitSet_}},{key:"hasAnchoredLimit",value:function(){return this.limitSet_&&""!==this.viewFrom_}},{key:"getLimit",value:function(){return Ea(this.limitSet_,"Only valid if limit has been set"),this.limit_}},{key:"getIndex",value:function(){return this.index_}},{key:"loadsAllData",value:function(){return!(this.startSet_||this.endSet_||this.limitSet_)}},{key:"isDefault",value:function(){return this.loadsAllData()&&this.index_===cR}},{key:"copy",value:function(){var t=new e;return t.limitSet_=this.limitSet_,t.limit_=this.limit_,t.startSet_=this.startSet_,t.indexStartValue_=this.indexStartValue_,t.startNameSet_=this.startNameSet_,t.indexStartName_=this.indexStartName_,t.endSet_=this.endSet_,t.indexEndValue_=this.indexEndValue_,t.endNameSet_=this.endNameSet_,t.indexEndName_=this.indexEndName_,t.index_=this.index_,t.viewFrom_=this.viewFrom_,t}}]),e}();function RR(e,t,n){var r=e.copy();return r.startSet_=!0,void 0===t&&(t=null),r.indexStartValue_=t,null!=n?(r.startNameSet_=!0,r.indexStartName_=n):(r.startNameSet_=!1,r.indexStartName_=""),r}function DR(e,t,n){var r=e.copy();return r.endSet_=!0,void 0===t&&(t=null),r.indexEndValue_=t,void 0!==n?(r.endNameSet_=!0,r.indexEndName_=n):(r.endNameSet_=!1,r.indexEndName_=""),r}function FR(e,t){var n=e.copy();return n.index_=t,n}function LR(e){var t,n={};return e.isDefault()||(e.index_===cR?t="$priority":e.index_===bR?t="$value":e.index_===GP?t="$key":(Ea(e.index_ instanceof gR,"Unrecognized index type!"),t=e.index_.toString()),n.orderBy=Ha(t),e.startSet_&&(n.startAt=Ha(e.indexStartValue_),e.startNameSet_&&(n.startAt+=","+Ha(e.indexStartName_))),e.endSet_&&(n.endAt=Ha(e.indexEndValue_),e.endNameSet_&&(n.endAt+=","+Ha(e.indexEndName_))),e.limitSet_&&(e.isViewFromLeft()?n.limitToFirst=e.limit_:n.limitToLast=e.limit_)),n}function jR(e){var t={};if(e.startSet_&&(t.sp=e.indexStartValue_,e.startNameSet_&&(t.sn=e.indexStartName_)),e.endSet_&&(t.ep=e.indexEndValue_,e.endNameSet_&&(t.en=e.indexEndName_)),e.limitSet_){t.l=e.limit_;var n=e.viewFrom_;""===n&&(n=e.isViewFromLeft()?"l":"r"),t.vf=n}return e.index_!==cR&&(t.i=e.index_.toString()),t}var MR=function(e){m(n,e);var t=x(n);function n(e,r,i,a){var o;return d(this,n),(o=t.call(this)).repoInfo_=e,o.onDataUpdate_=r,o.authTokenProvider_=i,o.appCheckTokenProvider_=a,o.log_=OO("p:rest:"),o.listens_={},o}return v(n,[{key:"reportStats",value:function(e){throw new Error("Method not implemented.")}},{key:"listen",value:function(e,t,r,i){var a=this,o=e._path.toString();this.log_("Listen called for "+o+" "+e._queryIdentifier);var u=n.getListenId_(e,r),s={};this.listens_[u]=s;var c=LR(e._queryParams);this.restRequest_(o+".json",c,(function(e,t){var n=t;(404===e&&(n=null,e=null),null===e&&a.onDataUpdate_(o,n,!1,r),$a(a.listens_,u)===s)&&i(e?401===e?"permission_denied":"rest_error:"+e:"ok",null)}))}},{key:"unlisten",value:function(e,t){var r=n.getListenId_(e,t);delete this.listens_[r]}},{key:"get",value:function(e){var t=this,n=LR(e._queryParams),r=e._path.toString(),i=new Pa;return this.restRequest_(r+".json",n,(function(e,n){var a=n;404===e&&(a=null,e=null),null===e?(t.onDataUpdate_(r,a,!1,null),i.resolve(a)):i.reject(new Error(a))})),i.promise}},{key:"refreshAuthToken",value:function(e){}},{key:"restRequest_",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2?arguments[2]:void 0;return n.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then((function(i){var a=l(i,2),o=a[0],u=a[1];o&&o.accessToken&&(n.auth=o.accessToken),u&&u.token&&(n.ac=u.token);var s=(t.repoInfo_.secure?"https://":"http://")+t.repoInfo_.host+e+"?ns="+t.repoInfo_.namespace+to(n);t.log_("Sending REST request for "+s);var c=new XMLHttpRequest;c.onreadystatechange=function(){if(r&&4===c.readyState){t.log_("REST Response for "+s+" received. status:",c.status,"response:",c.responseText);var e=null;if(c.status>=200&&c.status<300){try{e=Ga(c.responseText)}catch(n){DO("Failed to parse JSON response for "+s+": "+c.responseText)}r(null,e)}else 401!==c.status&&404!==c.status&&DO("Got unsuccessful REST response for "+s+" Status: "+c.status),r(c.status);r=null}},c.open("GET",s,!0),c.send()}))}}],[{key:"getListenId_",value:function(e,t){return void 0!==t?"tag$"+t:(Ea(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}}]),n}(kP),UR=function(){function e(){d(this,e),this.rootNode_=vR.EMPTY_NODE}return v(e,[{key:"getNode",value:function(e){return this.rootNode_.getChild(e)}},{key:"updateSnapshot",value:function(e,t){this.rootNode_=this.rootNode_.updateChild(e,t)}}]),e}();function VR(){return{value:null,children:new Map}}function qR(e,t,n){if(OP(t))e.value=n,e.children.clear();else if(null!==e.value)e.value=e.value.updateChild(t,n);else{var r=EP(t);e.children.has(r)||e.children.set(r,VR()),qR(e.children.get(r),t=IP(t),n)}}function BR(e,t){if(OP(t))return e.value=null,e.children.clear(),!0;if(null!==e.value){if(e.value.isLeafNode())return!1;var n=e.value;return e.value=null,n.forEachChild(cR,(function(t,n){qR(e,new _P(t),n)})),BR(e,t)}if(e.children.size>0){var r=EP(t);if(t=IP(t),e.children.has(r))BR(e.children.get(r),t)&&e.children.delete(r);return 0===e.children.size}return!0}function zR(e,t,n){null!==e.value?n(t,e.value):function(e,t){e.children.forEach((function(e,n){t(n,e)}))}(e,(function(e,r){zR(r,new _P(t.toString()+"/"+e),n)}))}var WR,KR=function(){function e(t){d(this,e),this.collection_=t,this.last_=null}return v(e,[{key:"get",value:function(){var e=this.collection_.get(),t=Object.assign({},e);return this.last_&&zO(this.last_,(function(e,n){t[e]=t[e]-n})),this.last_=e,t}}]),e}(),GR=function(){function e(t,n){d(this,e),this.server_=n,this.statsToReport_={},this.statsListener_=new KR(t);var r=1e4+2e4*Math.random();$O(this.reportStats_.bind(this),Math.floor(r))}return v(e,[{key:"reportStats_",value:function(){var e=this,t=this.statsListener_.get(),n={},r=!1;zO(t,(function(t,i){i>0&&Ya(e.statsToReport_,t)&&(n[t]=i,r=!0)})),r&&this.server_.reportStats(n),$O(this.reportStats_.bind(this),Math.floor(2*Math.random()*3e5))}}]),e}();function HR(e){return{fromUser:!1,fromServer:!0,queryId:e,tagged:!0}}!function(e){e[e.OVERWRITE=0]="OVERWRITE",e[e.MERGE=1]="MERGE",e[e.ACK_USER_WRITE=2]="ACK_USER_WRITE",e[e.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"}(WR||(WR={}));var QR,YR=function(){function e(t,n,r){d(this,e),this.path=t,this.affectedTree=n,this.revert=r,this.type=WR.ACK_USER_WRITE,this.source={fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}return v(e,[{key:"operationForChild",value:function(t){if(OP(this.path)){if(null!=this.affectedTree.value)return Ea(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;var n=this.affectedTree.subtree(new _P(t));return new e(xP(),n,this.revert)}return Ea(EP(this.path)===t,"operationForChild called for unrelated child."),new e(IP(this.path),this.affectedTree,this.revert)}}]),e}(),$R=function(){function e(t,n){d(this,e),this.source=t,this.path=n,this.type=WR.LISTEN_COMPLETE}return v(e,[{key:"operationForChild",value:function(t){return OP(this.path)?new e(this.source,xP()):new e(this.source,IP(this.path))}}]),e}(),JR=function(){function e(t,n,r){d(this,e),this.source=t,this.path=n,this.snap=r,this.type=WR.OVERWRITE}return v(e,[{key:"operationForChild",value:function(t){return OP(this.path)?new e(this.source,xP(),this.snap.getImmediateChild(t)):new e(this.source,IP(this.path),this.snap)}}]),e}(),XR=function(){function e(t,n,r){d(this,e),this.source=t,this.path=n,this.children=r,this.type=WR.MERGE}return v(e,[{key:"operationForChild",value:function(t){if(OP(this.path)){var n=this.children.subtree(new _P(t));return n.isEmpty()?null:n.value?new JR(this.source,xP(),n.value):new e(this.source,xP(),n)}return Ea(EP(this.path)===t,"Can't get a merge for a child not on the path of the operation"),new e(this.source,IP(this.path),this.children)}},{key:"toString",value:function(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}]),e}(),ZR=function(){function e(t,n,r){d(this,e),this.node_=t,this.fullyInitialized_=n,this.filtered_=r}return v(e,[{key:"isFullyInitialized",value:function(){return this.fullyInitialized_}},{key:"isFiltered",value:function(){return this.filtered_}},{key:"isCompleteForPath",value:function(e){if(OP(e))return this.isFullyInitialized()&&!this.filtered_;var t=EP(e);return this.isCompleteForChild(t)}},{key:"isCompleteForChild",value:function(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}},{key:"getNode",value:function(){return this.node_}}]),e}(),eD=v((function e(t){d(this,e),this.query_=t,this.index_=this.query_._queryParams.getIndex()}));function tD(e,t,n,r,i,a){var o=r.filter((function(e){return e.type===n}));o.sort((function(t,n){return function(e,t,n){if(null==t.childName||null==n.childName)throw Sa("Should only compare child_ events.");var r=new zP(t.childName,t.snapshotNode),i=new zP(n.childName,n.snapshotNode);return e.index_.compare(r,i)}(e,t,n)})),o.forEach((function(n){var r=function(e,t,n){return"value"===t.type||"child_removed"===t.type||(t.prevName=n.getPredecessorChildName(t.childName,t.snapshotNode,e.index_)),t}(e,n,a);i.forEach((function(i){i.respondsTo(n.type)&&t.push(i.createEvent(r,e.query_))}))}))}function nD(e,t){return{eventCache:e,serverCache:t}}function rD(e,t,n,r){return nD(new ZR(t,n,r),e.serverCache)}function iD(e,t,n,r){return nD(e.eventCache,new ZR(t,n,r))}function aD(e){return e.eventCache.isFullyInitialized()?e.eventCache.getNode():null}function oD(e){return e.serverCache.isFullyInitialized()?e.serverCache.getNode():null}var uD=function(){return QR||(QR=new JP(UO)),QR},sD=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:uD();d(this,e),this.value=t,this.children=n}return v(e,[{key:"isEmpty",value:function(){return null===this.value&&this.children.isEmpty()}},{key:"findRootMostMatchingPathAndValue",value:function(e,t){if(null!=this.value&&t(this.value))return{path:xP(),value:this.value};if(OP(e))return null;var n=EP(e),r=this.children.get(n);if(null!==r){var i=r.findRootMostMatchingPathAndValue(IP(e),t);return null!=i?{path:AP(new _P(n),i.path),value:i.value}:null}return null}},{key:"findRootMostValueAndPath",value:function(e){return this.findRootMostMatchingPathAndValue(e,(function(){return!0}))}},{key:"subtree",value:function(t){if(OP(t))return this;var n=EP(t),r=this.children.get(n);return null!==r?r.subtree(IP(t)):new e(null)}},{key:"set",value:function(t,n){if(OP(t))return new e(n,this.children);var r=EP(t),i=(this.children.get(r)||new e(null)).set(IP(t),n),a=this.children.insert(r,i);return new e(this.value,a)}},{key:"remove",value:function(t){if(OP(t))return this.children.isEmpty()?new e(null):new e(null,this.children);var n=EP(t),r=this.children.get(n);if(r){var i,a=r.remove(IP(t));return i=a.isEmpty()?this.children.remove(n):this.children.insert(n,a),null===this.value&&i.isEmpty()?new e(null):new e(this.value,i)}return this}},{key:"get",value:function(e){if(OP(e))return this.value;var t=EP(e),n=this.children.get(t);return n?n.get(IP(e)):null}},{key:"setTree",value:function(t,n){if(OP(t))return n;var r,i=EP(t),a=(this.children.get(i)||new e(null)).setTree(IP(t),n);return r=a.isEmpty()?this.children.remove(i):this.children.insert(i,a),new e(this.value,r)}},{key:"fold",value:function(e){return this.fold_(xP(),e)}},{key:"fold_",value:function(e,t){var n={};return this.children.inorderTraversal((function(r,i){n[r]=i.fold_(AP(e,r),t)})),t(e,this.value,n)}},{key:"findOnPath",value:function(e,t){return this.findOnPath_(e,xP(),t)}},{key:"findOnPath_",value:function(e,t,n){var r=!!this.value&&n(t,this.value);if(r)return r;if(OP(e))return null;var i=EP(e),a=this.children.get(i);return a?a.findOnPath_(IP(e),AP(t,i),n):null}},{key:"foreachOnPath",value:function(e,t){return this.foreachOnPath_(e,xP(),t)}},{key:"foreachOnPath_",value:function(t,n,r){if(OP(t))return this;this.value&&r(n,this.value);var i=EP(t),a=this.children.get(i);return a?a.foreachOnPath_(IP(t),AP(n,i),r):new e(null)}},{key:"foreach",value:function(e){this.foreach_(xP(),e)}},{key:"foreach_",value:function(e,t){this.children.inorderTraversal((function(n,r){r.foreach_(AP(e,n),t)})),this.value&&t(e,this.value)}},{key:"foreachChild",value:function(e){this.children.inorderTraversal((function(t,n){n.value&&e(t,n.value)}))}}],[{key:"fromObject",value:function(t){var n=new e(null);return zO(t,(function(e,t){n=n.set(new _P(e),t)})),n}}]),e}(),cD=function(){function e(t){d(this,e),this.writeTree_=t}return v(e,null,[{key:"empty",value:function(){return new e(new sD(null))}}]),e}();function lD(e,t,n){if(OP(t))return new cD(new sD(n));var r=e.writeTree_.findRootMostValueAndPath(t);if(null!=r){var i=r.path,a=r.value,o=PP(i,t);return a=a.updateChild(o,n),new cD(e.writeTree_.set(i,a))}var u=new sD(n),s=e.writeTree_.setTree(t,u);return new cD(s)}function fD(e,t,n){var r=e;return zO(n,(function(e,n){r=lD(r,AP(t,e),n)})),r}function hD(e,t){if(OP(t))return cD.empty();var n=e.writeTree_.setTree(t,new sD(null));return new cD(n)}function dD(e,t){return null!=pD(e,t)}function pD(e,t){var n=e.writeTree_.findRootMostValueAndPath(t);return null!=n?e.writeTree_.get(n.path).getChild(PP(n.path,t)):null}function vD(e){var t=[],n=e.writeTree_.value;return null!=n?n.isLeafNode()||n.forEachChild(cR,(function(e,n){t.push(new zP(e,n))})):e.writeTree_.children.inorderTraversal((function(e,n){null!=n.value&&t.push(new zP(e,n.value))})),t}function yD(e,t){if(OP(t))return e;var n=pD(e,t);return new cD(null!=n?new sD(n):e.writeTree_.subtree(t))}function mD(e){return e.writeTree_.isEmpty()}function gD(e,t){return kD(xP(),e.writeTree_,t)}function kD(e,t,n){if(null!=t.value)return n.updateChild(e,t.value);var r=null;return t.children.inorderTraversal((function(t,i){".priority"===t?(Ea(null!==i.value,"Priority writes must always be leaf nodes"),r=i.value):n=kD(AP(e,t),i,n)})),n.getChild(e).isEmpty()||null===r||(n=n.updateChild(AP(e,".priority"),r)),n}function bD(e,t){return DD(t,e)}function wD(e,t){for(var n=0;n<e.allWrites.length;n++){var r=e.allWrites[n];if(r.writeId===t)return r}return null}function _D(e,t){var n=e.allWrites.findIndex((function(e){return e.writeId===t}));Ea(n>=0,"removeWrite called with nonexistent writeId.");var r=e.allWrites[n];e.allWrites.splice(n,1);for(var i=r.visible,a=!1,o=e.allWrites.length-1;i&&o>=0;){var u=e.allWrites[o];u.visible&&(o>=n&&xD(u,r.path)?i=!1:FP(r.path,u.path)&&(a=!0)),o--}if(i){if(a)return function(e){e.visibleWrites=SD(e.allWrites,ED,xP()),e.allWrites.length>0?e.lastWriteId=e.allWrites[e.allWrites.length-1].writeId:e.lastWriteId=-1}(e),!0;r.snap?e.visibleWrites=hD(e.visibleWrites,r.path):zO(r.children,(function(t){e.visibleWrites=hD(e.visibleWrites,AP(r.path,t))}));return!0}return!1}function xD(e,t){if(e.snap)return FP(e.path,t);for(var n in e.children)if(e.children.hasOwnProperty(n)&&FP(AP(e.path,n),t))return!0;return!1}function ED(e){return e.visible}function SD(e,t,n){for(var r=cD.empty(),i=0;i<e.length;++i){var a=e[i];if(t(a)){var o=a.path,u=void 0;if(a.snap)FP(n,o)?r=lD(r,u=PP(n,o),a.snap):FP(o,n)&&(u=PP(o,n),r=lD(r,xP(),a.snap.getChild(u)));else{if(!a.children)throw Sa("WriteRecord should have .snap or .children");if(FP(n,o))r=fD(r,u=PP(n,o),a.children);else if(FP(o,n))if(OP(u=PP(o,n)))r=fD(r,xP(),a.children);else{var s=$a(a.children,EP(u));if(s){var c=s.getChild(IP(u));r=lD(r,xP(),c)}}}}}return r}function ID(e,t,n,r,i){if(r||i){var a=yD(e.visibleWrites,t);if(!i&&mD(a))return n;if(i||null!=n||dD(a,xP())){return gD(SD(e.allWrites,(function(e){return(e.visible||i)&&(!r||!~r.indexOf(e.writeId))&&(FP(e.path,t)||FP(t,e.path))}),t),n||vR.EMPTY_NODE)}return null}var o=pD(e.visibleWrites,t);if(null!=o)return o;var u=yD(e.visibleWrites,t);return mD(u)?n:null!=n||dD(u,xP())?gD(u,n||vR.EMPTY_NODE):null}function TD(e,t,n,r){return ID(e.writeTree,e.treePath,t,n,r)}function CD(e,t){return function(e,t,n){var r=vR.EMPTY_NODE,i=pD(e.visibleWrites,t);if(i)return i.isLeafNode()||i.forEachChild(cR,(function(e,t){r=r.updateImmediateChild(e,t)})),r;if(n){var a=yD(e.visibleWrites,t);return n.forEachChild(cR,(function(e,t){var n=gD(yD(a,new _P(e)),t);r=r.updateImmediateChild(e,n)})),vD(a).forEach((function(e){r=r.updateImmediateChild(e.name,e.node)})),r}return vD(yD(e.visibleWrites,t)).forEach((function(e){r=r.updateImmediateChild(e.name,e.node)})),r}(e.writeTree,e.treePath,t)}function ND(e,t,n,r){return function(e,t,n,r,i){Ea(r||i,"Either existingEventSnap or existingServerSnap must exist");var a=AP(t,n);if(dD(e.visibleWrites,a))return null;var o=yD(e.visibleWrites,a);return mD(o)?i.getChild(n):gD(o,i.getChild(n))}(e.writeTree,e.treePath,t,n,r)}function AD(e,t){return function(e,t){return pD(e.visibleWrites,t)}(e.writeTree,AP(e.treePath,t))}function OD(e,t,n,r,i,a){return function(e,t,n,r,i,a,o){var u,s=yD(e.visibleWrites,t),c=pD(s,xP());if(null!=c)u=c;else{if(null==n)return[];u=gD(s,n)}if((u=u.withIndex(o)).isEmpty()||u.isLeafNode())return[];for(var l=[],f=o.getCompare(),h=a?u.getReverseIteratorFrom(r,o):u.getIteratorFrom(r,o),d=h.getNext();d&&l.length<i;)0!==f(d,r)&&l.push(d),d=h.getNext();return l}(e.writeTree,e.treePath,t,n,r,i,a)}function PD(e,t,n){return function(e,t,n,r){var i=AP(t,n),a=pD(e.visibleWrites,i);return null!=a?a:r.isCompleteForChild(n)?gD(yD(e.visibleWrites,i),r.getNode().getImmediateChild(n)):null}(e.writeTree,e.treePath,t,n)}function RD(e,t){return DD(AP(e.treePath,t),e.writeTree)}function DD(e,t){return{treePath:e,writeTree:t}}var FD=function(){function e(){d(this,e),this.changeMap=new Map}return v(e,[{key:"trackChildChange",value:function(e){var t=e.type,n=e.childName;Ea("child_added"===t||"child_changed"===t||"child_removed"===t,"Only child changes supported for tracking"),Ea(".priority"!==n,"Only non-priority child changes can be tracked.");var r=this.changeMap.get(n);if(r){var i=r.type;if("child_added"===t&&"child_removed"===i)this.changeMap.set(n,CR(n,e.snapshotNode,r.snapshotNode));else if("child_removed"===t&&"child_added"===i)this.changeMap.delete(n);else if("child_removed"===t&&"child_changed"===i)this.changeMap.set(n,TR(n,r.oldSnap));else if("child_changed"===t&&"child_added"===i)this.changeMap.set(n,IR(n,e.snapshotNode));else{if("child_changed"!==t||"child_changed"!==i)throw Sa("Illegal combination of changes: "+e+" occurred after "+r);this.changeMap.set(n,CR(n,e.snapshotNode,r.oldSnap))}}else this.changeMap.set(n,e)}},{key:"getChanges",value:function(){return Array.from(this.changeMap.values())}}]),e}(),LD=new(function(){function e(){d(this,e)}return v(e,[{key:"getCompleteChild",value:function(e){return null}},{key:"getChildAfterChild",value:function(e,t,n){return null}}]),e}()),jD=function(){function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;d(this,e),this.writes_=t,this.viewCache_=n,this.optCompleteServerCache_=r}return v(e,[{key:"getCompleteChild",value:function(e){var t=this.viewCache_.eventCache;if(t.isCompleteForChild(e))return t.getNode().getImmediateChild(e);var n=null!=this.optCompleteServerCache_?new ZR(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return PD(this.writes_,e,n)}},{key:"getChildAfterChild",value:function(e,t,n){var r=null!=this.optCompleteServerCache_?this.optCompleteServerCache_:oD(this.viewCache_),i=OD(this.writes_,r,t,1,n,e);return 0===i.length?null:i[0]}}]),e}();function MD(e,t,n,r,i){var a,o,u=new FD;if(n.type===WR.OVERWRITE){var s=n;s.source.fromUser?a=qD(e,t,s.path,s.snap,r,i,u):(Ea(s.source.fromServer,"Unknown source."),o=s.source.tagged||t.serverCache.isFiltered()&&!OP(s.path),a=VD(e,t,s.path,s.snap,r,i,o,u))}else if(n.type===WR.MERGE){var c=n;c.source.fromUser?a=function(e,t,n,r,i,a,o){var u=t;return r.foreach((function(r,s){var c=AP(n,r);BD(t,EP(c))&&(u=qD(e,u,c,s,i,a,o))})),r.foreach((function(r,s){var c=AP(n,r);BD(t,EP(c))||(u=qD(e,u,c,s,i,a,o))})),u}(e,t,c.path,c.children,r,i,u):(Ea(c.source.fromServer,"Unknown source."),o=c.source.tagged||t.serverCache.isFiltered(),a=WD(e,t,c.path,c.children,r,i,o,u))}else if(n.type===WR.ACK_USER_WRITE){var l=n;a=l.revert?function(e,t,n,r,i,a){var o;if(null!=AD(r,n))return t;var u,s=new jD(r,t,i),c=t.eventCache.getNode();if(OP(n)||".priority"===EP(n)){var l;if(t.serverCache.isFullyInitialized())l=TD(r,oD(t));else{var f=t.serverCache.getNode();Ea(f instanceof vR,"serverChildren would be complete if leaf node"),l=CD(r,f)}u=e.filter.updateFullNode(c,l,a)}else{var h=EP(n),d=PD(r,h,t.serverCache);null==d&&t.serverCache.isCompleteForChild(h)&&(d=c.getImmediateChild(h)),(u=null!=d?e.filter.updateChild(c,h,d,IP(n),s,a):t.eventCache.getNode().hasChild(h)?e.filter.updateChild(c,h,vR.EMPTY_NODE,IP(n),s,a):c).isEmpty()&&t.serverCache.isFullyInitialized()&&(o=TD(r,oD(t))).isLeafNode()&&(u=e.filter.updateFullNode(u,o,a))}return o=t.serverCache.isFullyInitialized()||null!=AD(r,xP()),rD(t,u,o,e.filter.filtersNodes())}(e,t,l.path,r,i,u):function(e,t,n,r,i,a,o){if(null!=AD(i,n))return t;var u=t.serverCache.isFiltered(),s=t.serverCache;if(null!=r.value){if(OP(n)&&s.isFullyInitialized()||s.isCompleteForPath(n))return VD(e,t,n,s.getNode().getChild(n),i,a,u,o);if(OP(n)){var c=new sD(null);return s.getNode().forEachChild(GP,(function(e,t){c=c.set(new _P(e),t)})),WD(e,t,n,c,i,a,u,o)}return t}var l=new sD(null);return r.foreach((function(e,t){var r=AP(n,e);s.isCompleteForPath(r)&&(l=l.set(e,s.getNode().getChild(r)))})),WD(e,t,n,l,i,a,u,o)}(e,t,l.path,l.affectedTree,r,i,u)}else{if(n.type!==WR.LISTEN_COMPLETE)throw Sa("Unknown operation type: "+n.type);a=function(e,t,n,r,i){var a=t.serverCache,o=iD(t,a.getNode(),a.isFullyInitialized()||OP(n),a.isFiltered());return UD(e,o,n,r,LD,i)}(e,t,n.path,r,u)}var f=u.getChanges();return function(e,t,n){var r=t.eventCache;if(r.isFullyInitialized()){var i=r.getNode().isLeafNode()||r.getNode().isEmpty(),a=aD(e);(n.length>0||!e.eventCache.isFullyInitialized()||i&&!r.getNode().equals(a)||!r.getNode().getPriority().equals(a.getPriority()))&&n.push(SR(aD(t)))}}(t,a,f),{viewCache:a,changes:f}}function UD(e,t,n,r,i,a){var o,u,s=t.eventCache;if(null!=AD(r,n))return t;if(OP(n))if(Ea(t.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),t.serverCache.isFiltered()){var c=oD(t),l=CD(r,c instanceof vR?c:vR.EMPTY_NODE);o=e.filter.updateFullNode(t.eventCache.getNode(),l,a)}else{var f=TD(r,oD(t));o=e.filter.updateFullNode(t.eventCache.getNode(),f,a)}else{var h=EP(n);if(".priority"===h){Ea(1===SP(n),"Can't have a priority with additional path components");var d=s.getNode(),p=ND(r,n,d,u=t.serverCache.getNode());o=null!=p?e.filter.updatePriority(d,p):s.getNode()}else{var v,y=IP(n);if(s.isCompleteForChild(h)){u=t.serverCache.getNode();var m=ND(r,n,s.getNode(),u);v=null!=m?s.getNode().getImmediateChild(h).updateChild(y,m):s.getNode().getImmediateChild(h)}else v=PD(r,h,t.serverCache);o=null!=v?e.filter.updateChild(s.getNode(),h,v,y,i,a):s.getNode()}}return rD(t,o,s.isFullyInitialized()||OP(n),e.filter.filtersNodes())}function VD(e,t,n,r,i,a,o,u){var s,c=t.serverCache,l=o?e.filter:e.filter.getIndexedFilter();if(OP(n))s=l.updateFullNode(c.getNode(),r,null);else if(l.filtersNodes()&&!c.isFiltered()){var f=c.getNode().updateChild(n,r);s=l.updateFullNode(c.getNode(),f,null)}else{var h=EP(n);if(!c.isCompleteForPath(n)&&SP(n)>1)return t;var d=IP(n),p=c.getNode().getImmediateChild(h).updateChild(d,r);s=".priority"===h?l.updatePriority(c.getNode(),p):l.updateChild(c.getNode(),h,p,d,LD,null)}var v=iD(t,s,c.isFullyInitialized()||OP(n),l.filtersNodes());return UD(e,v,n,i,new jD(i,v,a),u)}function qD(e,t,n,r,i,a,o){var u,s,c=t.eventCache,l=new jD(i,t,a);if(OP(n))s=e.filter.updateFullNode(t.eventCache.getNode(),r,o),u=rD(t,s,!0,e.filter.filtersNodes());else{var f=EP(n);if(".priority"===f)s=e.filter.updatePriority(t.eventCache.getNode(),r),u=rD(t,s,c.isFullyInitialized(),c.isFiltered());else{var h,d=IP(n),p=c.getNode().getImmediateChild(f);if(OP(d))h=r;else{var v=l.getCompleteChild(f);h=null!=v?".priority"===TP(d)&&v.getChild(NP(d)).isEmpty()?v:v.updateChild(d,r):vR.EMPTY_NODE}if(p.equals(h))u=t;else u=rD(t,e.filter.updateChild(c.getNode(),f,h,d,l,o),c.isFullyInitialized(),e.filter.filtersNodes())}}return u}function BD(e,t){return e.eventCache.isCompleteForChild(t)}function zD(e,t,n){return n.foreach((function(e,n){t=t.updateChild(e,n)})),t}function WD(e,t,n,r,i,a,o,u){if(t.serverCache.getNode().isEmpty()&&!t.serverCache.isFullyInitialized())return t;var s,c=t;s=OP(n)?r:new sD(null).setTree(n,r);var l=t.serverCache.getNode();return s.children.inorderTraversal((function(n,r){if(l.hasChild(n)){var s=zD(0,t.serverCache.getNode().getImmediateChild(n),r);c=VD(e,c,new _P(n),s,i,a,o,u)}})),s.children.inorderTraversal((function(n,r){var s=!t.serverCache.isCompleteForChild(n)&&null===r.value;if(!l.hasChild(n)&&!s){var f=zD(0,t.serverCache.getNode().getImmediateChild(n),r);c=VD(e,c,new _P(n),f,i,a,o,u)}})),c}var KD,GD=function(){function e(t,n){d(this,e),this.query_=t,this.eventRegistrations_=[];var r,i=this.query_._queryParams,a=new NR(i.getIndex()),o=(r=i).loadsAllData()?new NR(r.getIndex()):r.hasLimit()?new OR(r):new AR(r);this.processor_=function(e){return{filter:e}}(o);var u=n.serverCache,s=n.eventCache,c=a.updateFullNode(vR.EMPTY_NODE,u.getNode(),null),l=o.updateFullNode(vR.EMPTY_NODE,s.getNode(),null),f=new ZR(c,u.isFullyInitialized(),a.filtersNodes()),h=new ZR(l,s.isFullyInitialized(),o.filtersNodes());this.viewCache_=nD(h,f),this.eventGenerator_=new eD(this.query_)}return v(e,[{key:"query",get:function(){return this.query_}}]),e}();function HD(e,t){var n=oD(e.viewCache_);return n&&(e.query._queryParams.loadsAllData()||!OP(t)&&!n.getImmediateChild(EP(t)).isEmpty())?n.getChild(t):null}function QD(e){return 0===e.eventRegistrations_.length}function YD(e,t,n){var r=[];if(n){Ea(null==t,"A cancel should cancel all event registrations.");var i=e.query._path;e.eventRegistrations_.forEach((function(e){var t=e.createCancelEvent(n,i);t&&r.push(t)}))}if(t){for(var a=[],o=0;o<e.eventRegistrations_.length;++o){var u=e.eventRegistrations_[o];if(u.matches(t)){if(t.hasAnyCallback()){a=a.concat(e.eventRegistrations_.slice(o+1));break}}else a.push(u)}e.eventRegistrations_=a}else e.eventRegistrations_=[];return r}function $D(e,t,n,r){t.type===WR.MERGE&&null!==t.source.queryId&&(Ea(oD(e.viewCache_),"We should always have a full cache before handling merges"),Ea(aD(e.viewCache_),"Missing event cache, even though we have a server cache"));var i,a,o=e.viewCache_,u=MD(e.processor_,o,t,n,r);return i=e.processor_,a=u.viewCache,Ea(a.eventCache.getNode().isIndexed(i.filter.getIndex()),"Event snap not indexed"),Ea(a.serverCache.getNode().isIndexed(i.filter.getIndex()),"Server snap not indexed"),Ea(u.viewCache.serverCache.isFullyInitialized()||!o.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),e.viewCache_=u.viewCache,JD(e,u.changes,u.viewCache.eventCache.getNode(),null)}function JD(e,t,n,r){var i=r?[r]:e.eventRegistrations_;return function(e,t,n,r){var i=[],a=[];return t.forEach((function(t){var n;"child_changed"===t.type&&e.index_.indexedValueChanged(t.oldSnap,t.snapshotNode)&&a.push((n=t.childName,{type:"child_moved",snapshotNode:t.snapshotNode,childName:n}))})),tD(e,i,"child_removed",t,r,n),tD(e,i,"child_added",t,r,n),tD(e,i,"child_moved",a,r,n),tD(e,i,"child_changed",t,r,n),tD(e,i,"value",t,r,n),i}(e.eventGenerator_,t,n,i)}var XD,ZD=v((function e(){d(this,e),this.views=new Map}));function eF(e){return 0===e.views.size}function tF(e,t,n,r){var i=t.source.queryId;if(null!==i){var a=e.views.get(i);return Ea(null!=a,"SyncTree gave us an op for an invalid query."),$D(a,t,n,r)}var o,u=[],s=ka(e.views.values());try{for(s.s();!(o=s.n()).done;){var c=o.value;u=u.concat($D(c,t,n,r))}}catch(l){s.e(l)}finally{s.f()}return u}function nF(e,t,n,r,i){var a=t._queryIdentifier,o=e.views.get(a);if(!o){var u=TD(n,i?r:null),s=!1;u?s=!0:r instanceof vR?(u=CD(n,r),s=!1):(u=vR.EMPTY_NODE,s=!1);var c=nD(new ZR(u,s,!1),new ZR(r,i,!1));return new GD(t,c)}return o}function rF(e,t,n,r,i,a){var o=nF(e,t,r,i,a);return e.views.has(t._queryIdentifier)||e.views.set(t._queryIdentifier,o),function(e,t){e.eventRegistrations_.push(t)}(o,n),function(e,t){var n=e.viewCache_.eventCache,r=[];return n.getNode().isLeafNode()||n.getNode().forEachChild(cR,(function(e,t){r.push(IR(e,t))})),n.isFullyInitialized()&&r.push(SR(n.getNode())),JD(e,r,n.getNode(),t)}(o,n)}function iF(e,t,n,r){var i=t._queryIdentifier,a=[],o=[],u=cF(e);if("default"===i){var s,c=ka(e.views.entries());try{for(c.s();!(s=c.n()).done;){var f=l(s.value,2),h=f[0],d=f[1];o=o.concat(YD(d,n,r)),QD(d)&&(e.views.delete(h),d.query._queryParams.loadsAllData()||a.push(d.query))}}catch(v){c.e(v)}finally{c.f()}}else{var p=e.views.get(i);p&&(o=o.concat(YD(p,n,r)),QD(p)&&(e.views.delete(i),p.query._queryParams.loadsAllData()||a.push(p.query)))}return u&&!cF(e)&&a.push(new(Ea(KD,"Reference.ts has not been loaded"),KD)(t._repo,t._path)),{removed:a,events:o}}function aF(e){var t,n=[],r=ka(e.views.values());try{for(r.s();!(t=r.n()).done;){var i=t.value;i.query._queryParams.loadsAllData()||n.push(i)}}catch(a){r.e(a)}finally{r.f()}return n}function oF(e,t){var n,r=null,i=ka(e.views.values());try{for(i.s();!(n=i.n()).done;){var a=n.value;r=r||HD(a,t)}}catch(o){i.e(o)}finally{i.f()}return r}function uF(e,t){if(t._queryParams.loadsAllData())return lF(e);var n=t._queryIdentifier;return e.views.get(n)}function sF(e,t){return null!=uF(e,t)}function cF(e){return null!=lF(e)}function lF(e){var t,n=ka(e.views.values());try{for(n.s();!(t=n.n()).done;){var r=t.value;if(r.query._queryParams.loadsAllData())return r}}catch(i){n.e(i)}finally{n.f()}return null}var fF=1,hF=v((function e(t){d(this,e),this.listenProvider_=t,this.syncPointTree_=new sD(null),this.pendingWriteTree_={visibleWrites:cD.empty(),allWrites:[],lastWriteId:-1},this.tagToQueryMap=new Map,this.queryToTagMap=new Map}));function dF(e,t,n,r,i){return function(e,t,n,r,i){Ea(r>e.lastWriteId,"Stacking an older write on top of newer ones"),void 0===i&&(i=!0),e.allWrites.push({path:t,snap:n,writeId:r,visible:i}),i&&(e.visibleWrites=lD(e.visibleWrites,t,n)),e.lastWriteId=r}(e.pendingWriteTree_,t,n,r,i),i?_F(e,new JR({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},t,n)):[]}function pF(e,t,n,r){!function(e,t,n,r){Ea(r>e.lastWriteId,"Stacking an older merge on top of newer ones"),e.allWrites.push({path:t,children:n,writeId:r,visible:!0}),e.visibleWrites=fD(e.visibleWrites,t,n),e.lastWriteId=r}(e.pendingWriteTree_,t,n,r);var i=sD.fromObject(n);return _F(e,new XR({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},t,i))}function vF(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=wD(e.pendingWriteTree_,t),i=_D(e.pendingWriteTree_,t);if(i){var a=new sD(null);return null!=r.snap?a=a.set(xP(),!0):zO(r.children,(function(e){a=a.set(new _P(e),!0)})),_F(e,new YR(r.path,a,n))}return[]}function yF(e,t,n){return _F(e,new JR({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t,n))}function mF(e,t,n,r){var i=arguments.length>4&&void 0!==arguments[4]&&arguments[4],a=t._path,o=e.syncPointTree_.get(a),u=[];if(o&&("default"===t._queryIdentifier||sF(o,t))){var s=iF(o,t,n,r);eF(o)&&(e.syncPointTree_=e.syncPointTree_.remove(a));var c=s.removed;if(u=s.events,!i){var l=-1!==c.findIndex((function(e){return e._queryParams.loadsAllData()})),f=e.syncPointTree_.findOnPath(a,(function(e,t){return cF(t)}));if(l&&!f){var h=e.syncPointTree_.subtree(a);if(!h.isEmpty())for(var d=OF(h),p=0;p<d.length;++p){var v=d[p],y=v.query,m=SF(e,v);e.listenProvider_.startListening(PF(y),IF(e,y),m.hashFn,m.onComplete)}}if(!f&&c.length>0&&!r)if(l){var g=null;e.listenProvider_.stopListening(PF(t),g)}else c.forEach((function(t){var n=e.queryToTagMap.get(TF(t));e.listenProvider_.stopListening(PF(t),n)}))}RF(e,c)}return u}function gF(e,t,n,r){var i=CF(e,r);if(null!=i){var a=NF(i),o=a.path,u=a.queryId,s=PP(o,t);return AF(e,o,new JR(HR(u),s,n))}return[]}function kF(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],i=t._path,a=null,o=!1;e.syncPointTree_.foreachOnPath(i,(function(e,t){var n=PP(e,i);a=a||oF(t,n),o=o||cF(t)}));var u,s=e.syncPointTree_.get(i);if(s?(o=o||cF(s),a=a||oF(s,xP())):(s=new ZD,e.syncPointTree_=e.syncPointTree_.set(i,s)),null!=a)u=!0;else{u=!1,a=vR.EMPTY_NODE;var c=e.syncPointTree_.subtree(i);c.foreachChild((function(e,t){var n=oF(t,xP());n&&(a=a.updateImmediateChild(e,n))}))}var l=sF(s,t);if(!l&&!t._queryParams.loadsAllData()){var f=TF(t);Ea(!e.queryToTagMap.has(f),"View does not exist, but we have a tag");var h=DF();e.queryToTagMap.set(f,h),e.tagToQueryMap.set(h,f)}var d=bD(e.pendingWriteTree_,i),p=rF(s,t,n,d,a,u);if(!l&&!o&&!r){var v=uF(s,t);p=p.concat(FF(e,t,v))}return p}function bF(e,t,n){var r=e.pendingWriteTree_,i=e.syncPointTree_.findOnPath(t,(function(e,n){var r=oF(n,PP(e,t));if(r)return r}));return ID(r,t,i,n,!0)}function wF(e,t){var n=t._path,r=null;e.syncPointTree_.foreachOnPath(n,(function(e,t){var i=PP(e,n);r=r||oF(t,i)}));var i=e.syncPointTree_.get(n);i?r=r||oF(i,xP()):(i=new ZD,e.syncPointTree_=e.syncPointTree_.set(n,i));var a=null!=r,o=a?new ZR(r,!0,!1):null;return function(e){return aD(e.viewCache_)}(nF(i,t,bD(e.pendingWriteTree_,t._path),a?o.getNode():vR.EMPTY_NODE,a))}function _F(e,t){return xF(t,e.syncPointTree_,null,bD(e.pendingWriteTree_,xP()))}function xF(e,t,n,r){if(OP(e.path))return EF(e,t,n,r);var i=t.get(xP());null==n&&null!=i&&(n=oF(i,xP()));var a=[],o=EP(e.path),u=e.operationForChild(o),s=t.children.get(o);if(s&&u){var c=n?n.getImmediateChild(o):null,l=RD(r,o);a=a.concat(xF(u,s,c,l))}return i&&(a=a.concat(tF(i,e,r,n))),a}function EF(e,t,n,r){var i=t.get(xP());null==n&&null!=i&&(n=oF(i,xP()));var a=[];return t.children.inorderTraversal((function(t,i){var o=n?n.getImmediateChild(t):null,u=RD(r,t),s=e.operationForChild(t);s&&(a=a.concat(EF(s,i,o,u)))})),i&&(a=a.concat(tF(i,e,r,n))),a}function SF(e,t){var n=t.query,r=IF(e,n);return{hashFn:function(){var e=function(e){return e.viewCache_.serverCache.getNode()}(t)||vR.EMPTY_NODE;return e.hash()},onComplete:function(t){if("ok"===t)return r?function(e,t,n){var r=CF(e,n);if(r){var i=NF(r),a=i.path,o=i.queryId,u=PP(a,t);return AF(e,a,new $R(HR(o),u))}return[]}(e,n._path,r):function(e,t){return _F(e,new $R({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t))}(e,n._path);var i=function(e,t){var n="Unknown Error";"too_big"===e?n="The data requested exceeds the maximum size that can be accessed with a single request.":"permission_denied"===e?n="Client doesn't have permission to access the desired data.":"unavailable"===e&&(n="The service is unavailable");var r=new Error(e+" at "+t._path.toString()+": "+n);return r.code=e.toUpperCase(),r}(t,n);return mF(e,n,null,i)}}}function IF(e,t){var n=TF(t);return e.queryToTagMap.get(n)}function TF(e){return e._path.toString()+"$"+e._queryIdentifier}function CF(e,t){return e.tagToQueryMap.get(t)}function NF(e){var t=e.indexOf("$");return Ea(-1!==t&&t<e.length-1,"Bad queryKey."),{queryId:e.substr(t+1),path:new _P(e.substr(0,t))}}function AF(e,t,n){var r=e.syncPointTree_.get(t);return Ea(r,"Missing sync point for query tag that we're tracking"),tF(r,n,bD(e.pendingWriteTree_,t),null)}function OF(e){return e.fold((function(e,t,n){if(t&&cF(t))return[lF(t)];var r=[];return t&&(r=aF(t)),zO(n,(function(e,t){r=r.concat(t)})),r}))}function PF(e){return e._queryParams.loadsAllData()&&!e._queryParams.isDefault()?new(Ea(XD,"Reference.ts has not been loaded"),XD)(e._repo,e._path):e}function RF(e,t){for(var n=0;n<t.length;++n){var r=t[n];if(!r._queryParams.loadsAllData()){var i=TF(r),a=e.queryToTagMap.get(i);e.queryToTagMap.delete(i),e.tagToQueryMap.delete(a)}}}function DF(){return fF++}function FF(e,t,n){var r=t._path,i=IF(e,t),a=SF(e,n),o=e.listenProvider_.startListening(PF(t),i,a.hashFn,a.onComplete),u=e.syncPointTree_.subtree(r);if(i)Ea(!cF(u.value),"If we're adding a query, it shouldn't be shadowed");else for(var s=u.fold((function(e,t,n){if(!OP(e)&&t&&cF(t))return[lF(t).query];var r=[];return t&&(r=r.concat(aF(t).map((function(e){return e.query})))),zO(n,(function(e,t){r=r.concat(t)})),r})),c=0;c<s.length;++c){var l=s[c];e.listenProvider_.stopListening(PF(l),IF(e,l))}return o}var LF=function(){function e(t){d(this,e),this.node_=t}return v(e,[{key:"getImmediateChild",value:function(t){return new e(this.node_.getImmediateChild(t))}},{key:"node",value:function(){return this.node_}}]),e}(),jF=function(){function e(t,n){d(this,e),this.syncTree_=t,this.path_=n}return v(e,[{key:"getImmediateChild",value:function(t){var n=AP(this.path_,t);return new e(this.syncTree_,n)}},{key:"node",value:function(){return bF(this.syncTree_,this.path_)}}]),e}(),MF=function(e,t,n){return e&&"object"===typeof e?(Ea(".sv"in e,"Unexpected leaf node or priority contents"),"string"===typeof e[".sv"]?UF(e[".sv"],t,n):"object"===typeof e[".sv"]?VF(e[".sv"],t):void Ea(!1,"Unexpected server value: "+JSON.stringify(e,null,2))):e},UF=function(e,t,n){if("timestamp"===e)return n.timestamp;Ea(!1,"Unexpected server value: "+e)},VF=function(e,t,n){e.hasOwnProperty("increment")||Ea(!1,"Unexpected server value: "+JSON.stringify(e,null,2));var r=e.increment;"number"!==typeof r&&Ea(!1,"Unexpected increment value: "+r);var i=t.node();if(Ea(null!==i&&"undefined"!==typeof i,"Expected ChildrenNode.EMPTY_NODE for nulls"),!i.isLeafNode())return r;var a=i.getValue();return"number"!==typeof a?r:a+r},qF=function(e,t,n,r){return zF(t,new jF(n,e),r)},BF=function(e,t,n){return zF(e,new LF(t),n)};function zF(e,t,n){var r,i=e.getPriority().val(),a=MF(i,t.getImmediateChild(".priority"),n);if(e.isLeafNode()){var o=e,u=MF(o.getValue(),t,n);return u!==o.getValue()||a!==o.getPriority().val()?new aR(u,mR(a)):e}var s=e;return r=s,a!==s.getPriority().val()&&(r=r.updatePriority(new aR(a))),s.forEachChild(cR,(function(e,i){var a=zF(i,t.getImmediateChild(e),n);a!==i&&(r=r.updateImmediateChild(e,a))})),r}var WF=v((function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{children:{},childCount:0};d(this,e),this.name=t,this.parent=n,this.node=r}));function KF(e,t){for(var n=t instanceof _P?t:new _P(t),r=e,i=EP(n);null!==i;){var a=$a(r.node.children,i)||{children:{},childCount:0};r=new WF(i,r,a),i=EP(n=IP(n))}return r}function GF(e){return e.node.value}function HF(e,t){e.node.value=t,XF(e)}function QF(e){return e.node.childCount>0}function YF(e,t){zO(e.node.children,(function(n,r){t(new WF(n,e,r))}))}function $F(e,t,n,r){n&&!r&&t(e),YF(e,(function(e){$F(e,t,!0,r)})),n&&r&&t(e)}function JF(e){return new _P(null===e.parent?e.name:JF(e.parent)+"/"+e.name)}function XF(e){null!==e.parent&&function(e,t,n){var r=function(e){return void 0===GF(e)&&!QF(e)}(n),i=Ya(e.node.children,t);r&&i?(delete e.node.children[t],e.node.childCount--,XF(e)):r||i||(e.node.children[t]=n.node,e.node.childCount++,XF(e))}(e.parent,e.name,e)}var ZF=/[\[\].#$\/\u0000-\u001F\u007F]/,eL=/[\[\].#$\u0000-\u001F\u007F]/,tL=10485760,nL=function(e){return"string"===typeof e&&0!==e.length&&!ZF.test(e)},rL=function(e){return"string"===typeof e&&0!==e.length&&!eL.test(e)},iL=function(e){return null===e||"string"===typeof e||"number"===typeof e&&!FO(e)||e&&"object"===typeof e&&Ya(e,".sv")},aL=function(e,t,n,r){r&&void 0===t||oL(co(e,"value"),t,n)},oL=function e(t,n,r){var i=r instanceof _P?new LP(r,t):r;if(void 0===n)throw new Error(t+"contains undefined "+MP(i));if("function"===typeof n)throw new Error(t+"contains a function "+MP(i)+" with contents = "+n.toString());if(FO(n))throw new Error(t+"contains "+n.toString()+" "+MP(i));if("string"===typeof n&&n.length>tL/3&&ho(n)>tL)throw new Error(t+"contains a string greater than "+"10485760 utf8 bytes "+MP(i)+" ('"+n.substring(0,50)+"...')");if(n&&"object"===typeof n){var a=!1,o=!1;if(zO(n,(function(n,r){if(".value"===n)a=!0;else if(".priority"!==n&&".sv"!==n&&(o=!0,!nL(n)))throw new Error(t+" contains an invalid key ("+n+") "+MP(i)+'.  Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');var u,s;s=n,(u=i).parts_.length>0&&(u.byteLength_+=1),u.parts_.push(s),u.byteLength_+=ho(s),jP(u),e(t,r,i),function(e){var t=e.parts_.pop();e.byteLength_-=ho(t),e.parts_.length>0&&(e.byteLength_-=1)}(i)})),a&&o)throw new Error(t+' contains ".value" child '+MP(i)+" in addition to actual children.")}},uL=function(e,t,n,r){if(!r||void 0!==t){var i=co(e,"values");if(!t||"object"!==typeof t||Array.isArray(t))throw new Error(i+" must be an object containing the children to replace.");var a=[];zO(t,(function(e,t){var r=new _P(e);if(oL(i,t,AP(n,r)),".priority"===TP(r)&&!iL(t))throw new Error(i+"contains an invalid value for '"+r.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");a.push(r)})),function(e,t){var n,r;for(n=0;n<t.length;n++)for(var i=CP(r=t[n]),a=0;a<i.length;a++)if(".priority"===i[a]&&a===i.length-1);else if(!nL(i[a]))throw new Error(e+"contains an invalid key ("+i[a]+") in path "+r.toString()+'. Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');t.sort(RP);var o=null;for(n=0;n<t.length;n++){if(r=t[n],null!==o&&FP(o,r))throw new Error(e+"contains a path "+o.toString()+" that is ancestor of another path "+r.toString());o=r}}(i,a)}},sL=function(e,t,n){if(!n||void 0!==t){if(FO(t))throw new Error(co(e,"priority")+"is "+t.toString()+", but must be a valid Firebase priority (a string, finite number, server value, or null).");if(!iL(t))throw new Error(co(e,"priority")+"must be a valid Firebase priority (a string, finite number, server value, or null).")}},cL=function(e,t,n,r){if((!r||void 0!==n)&&!nL(n))throw new Error(co(e,t)+'was an invalid key = "'+n+'".  Firebase keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]").')},lL=function(e,t,n,r){if((!r||void 0!==n)&&!rL(n))throw new Error(co(e,t)+'was an invalid path = "'+n+'". Paths must be non-empty strings and can\'t contain ".", "#", "$", "[", or "]"')},fL=function(e,t){if(".info"===EP(t))throw new Error(e+" failed = Can't modify data under /.info/")},hL=function(e,t){var n=t.path.toString();if("string"!==typeof t.repoInfo.host||0===t.repoInfo.host.length||!nL(t.repoInfo.namespace)&&"localhost"!==t.repoInfo.host.split(":")[0]||0!==n.length&&!function(e){return e&&(e=e.replace(/^\/*\.info(\/|$)/,"/")),rL(e)}(n))throw new Error(co(e,"url")+'must be a valid firebase URL and the path can\'t contain ".", "#", "$", "[", or "]".')},dL=v((function e(){d(this,e),this.eventLists_=[],this.recursionDepth_=0}));function pL(e,t){for(var n=null,r=0;r<t.length;r++){var i=t[r],a=i.getPath();null===n||DP(a,n.path)||(e.eventLists_.push(n),n=null),null===n&&(n={events:[],path:a}),n.events.push(i)}n&&e.eventLists_.push(n)}function vL(e,t,n){pL(e,n),mL(e,(function(e){return DP(e,t)}))}function yL(e,t,n){pL(e,n),mL(e,(function(e){return FP(e,t)||FP(t,e)}))}function mL(e,t){e.recursionDepth_++;for(var n=!0,r=0;r<e.eventLists_.length;r++){var i=e.eventLists_[r];if(i)t(i.path)?(gL(e.eventLists_[r]),e.eventLists_[r]=null):n=!1}n&&(e.eventLists_=[]),e.recursionDepth_--}function gL(e){for(var t=0;t<e.events.length;t++){var n=e.events[t];if(null!==n){e.events[t]=null;var r=n.getEventRunner();TO&&AO("event: "+n.toString()),YO(r)}}}var kL="repo_interrupt",bL=function(){function e(t,n,r,i){d(this,e),this.repoInfo_=t,this.forceRestClient_=n,this.authTokenProvider_=r,this.appCheckProvider_=i,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new dL,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=VR(),this.transactionQueueTree_=new WF,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}return v(e,[{key:"toString",value:function(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}]),e}();function wL(e,t,n){if(e.stats_=cP(e.repoInfo_),e.forceRestClient_||("object"===typeof window&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0)e.server_=new MR(e.repoInfo_,(function(t,n,r,i){EL(e,t,n,r,i)}),e.authTokenProvider_,e.appCheckProvider_),setTimeout((function(){return SL(e,!0)}),0);else{if("undefined"!==typeof n&&null!==n){if("object"!==typeof n)throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{Ha(n)}catch(r){throw new Error("Invalid authOverride provided: "+r)}}e.persistentConnection_=new qP(e.repoInfo_,t,(function(t,n,r,i){EL(e,t,n,r,i)}),(function(t){SL(e,t)}),(function(t){!function(e,t){zO(t,(function(t,n){IL(e,t,n)}))}(e,t)}),e.authTokenProvider_,e.appCheckProvider_,n),e.server_=e.persistentConnection_}e.authTokenProvider_.addTokenChangeListener((function(t){e.server_.refreshAuthToken(t)})),e.appCheckProvider_.addTokenChangeListener((function(t){e.server_.refreshAppCheckToken(t.token)})),e.statsReporter_=function(e,t){var n=e.toString();return sP[n]||(sP[n]=t()),sP[n]}(e.repoInfo_,(function(){return new GR(e.stats_,e.server_)})),e.infoData_=new UR,e.infoSyncTree_=new hF({startListening:function(t,n,r,i){var a=[],o=e.infoData_.getNode(t._path);return o.isEmpty()||(a=yF(e.infoSyncTree_,t._path,o),setTimeout((function(){i("ok")}),0)),a},stopListening:function(){}}),IL(e,"connected",!1),e.serverSyncTree_=new hF({startListening:function(t,n,r,i){return e.server_.listen(t,r,n,(function(n,r){var a=i(n,r);yL(e.eventQueue_,t._path,a)})),[]},stopListening:function(t,n){e.server_.unlisten(t,n)}})}function _L(e){var t=e.infoData_.getNode(new _P(".info/serverTimeOffset")).val()||0;return(new Date).getTime()+t}function xL(e){return(t=(t={timestamp:_L(e)})||{}).timestamp=t.timestamp||(new Date).getTime(),t;var t}function EL(e,t,n,r,i){e.dataUpdateCount++;var a=new _P(t);n=e.interceptServerDataCallback_?e.interceptServerDataCallback_(t,n):n;var o=[];if(i)if(r){var u=Xa(n,(function(e){return mR(e)}));o=function(e,t,n,r){var i=CF(e,r);if(i){var a=NF(i),o=a.path,u=a.queryId,s=PP(o,t),c=sD.fromObject(n);return AF(e,o,new XR(HR(u),s,c))}return[]}(e.serverSyncTree_,a,u,i)}else{var s=mR(n);o=gF(e.serverSyncTree_,a,s,i)}else if(r){var c=Xa(n,(function(e){return mR(e)}));o=function(e,t,n){var r=sD.fromObject(n);return _F(e,new XR({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t,r))}(e.serverSyncTree_,a,c)}else{var l=mR(n);o=yF(e.serverSyncTree_,a,l)}var f=a;o.length>0&&(f=ML(e,a)),yL(e.eventQueue_,f,o)}function SL(e,t){IL(e,"connected",t),!1===t&&function(e){RL(e,"onDisconnectEvents");var t=xL(e),n=VR();zR(e.onDisconnect_,xP(),(function(r,i){var a=qF(r,i,e.serverSyncTree_,t);qR(n,r,a)}));var r=[];zR(n,xP(),(function(t,n){r=r.concat(yF(e.serverSyncTree_,t,n));var i=zL(e,t);ML(e,i)})),e.onDisconnect_=VR(),yL(e.eventQueue_,xP(),r)}(e)}function IL(e,t,n){var r=new _P("/.info/"+t),i=mR(n);e.infoData_.updateSnapshot(r,i);var a=yF(e.infoSyncTree_,r,i);yL(e.eventQueue_,r,a)}function TL(e){return e.nextWriteId_++}function CL(e,t,n,r,i){RL(e,"set",{path:t.toString(),value:n,priority:r});var a=xL(e),o=mR(n,r),u=bF(e.serverSyncTree_,t),s=BF(o,u,a),c=TL(e),l=dF(e.serverSyncTree_,t,s,c,!0);pL(e.eventQueue_,l),e.server_.put(t.toString(),o.val(!0),(function(n,r){var a="ok"===n;a||DO("set at "+t+" failed: "+n);var o=vF(e.serverSyncTree_,c,!a);yL(e.eventQueue_,t,o),DL(e,i,n,r)}));var f=zL(e,t);ML(e,f),yL(e.eventQueue_,f,[])}function NL(e,t,n){e.server_.onDisconnectCancel(t.toString(),(function(r,i){"ok"===r&&BR(e.onDisconnect_,t),DL(e,n,r,i)}))}function AL(e,t,n,r){var i=mR(n);e.server_.onDisconnectPut(t.toString(),i.val(!0),(function(n,a){"ok"===n&&qR(e.onDisconnect_,t,i),DL(e,r,n,a)}))}function OL(e,t,n){var r;r=".info"===EP(t._path)?mF(e.infoSyncTree_,t,n):mF(e.serverSyncTree_,t,n),vL(e.eventQueue_,t._path,r)}function PL(e){e.persistentConnection_&&e.persistentConnection_.interrupt(kL)}function RL(e){var t="";e.persistentConnection_&&(t=e.persistentConnection_.id+":");for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];AO.apply(void 0,[t].concat(r))}function DL(e,t,n,r){t&&YO((function(){if("ok"===n)t(null);else{var e=(n||"error").toUpperCase(),i=e;r&&(i+=": "+r);var a=new Error(i);a.code=e,t(a)}}))}function FL(e,t,n){return bF(e.serverSyncTree_,t,n)||vR.EMPTY_NODE}function LL(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.transactionQueueTree_;if(t||BL(e,t),GF(t)){var n=VL(e,t);Ea(n.length>0,"Sending zero length transaction queue");var r=n.every((function(e){return 0===e.status}));r&&jL(e,JF(t),n)}else QF(t)&&YF(t,(function(t){LL(e,t)}))}function jL(e,t,n){for(var r=n.map((function(e){return e.currentWriteId})),i=FL(e,t,r),a=i,o=i.hash(),u=0;u<n.length;u++){var s=n[u];Ea(0===s.status,"tryToSendTransactionQueue_: items in queue should all be run."),s.status=1,s.retryCount++;var c=PP(t,s.path);a=a.updateChild(c,s.currentOutputSnapshotRaw)}var l=a.val(!0),f=t;e.server_.put(f.toString(),l,(function(r){RL(e,"transaction put response",{path:f.toString(),status:r});var i=[];if("ok"===r){for(var a=[],o=function(t){n[t].status=2,i=i.concat(vF(e.serverSyncTree_,n[t].currentWriteId)),n[t].onComplete&&a.push((function(){return n[t].onComplete(null,!0,n[t].currentOutputSnapshotResolved)})),n[t].unwatcher()},u=0;u<n.length;u++)o(u);BL(e,KF(e.transactionQueueTree_,t)),LL(e,e.transactionQueueTree_),yL(e.eventQueue_,t,i);for(var s=0;s<a.length;s++)YO(a[s])}else{if("datastale"===r)for(var c=0;c<n.length;c++)3===n[c].status?n[c].status=4:n[c].status=0;else{DO("transaction at "+f.toString()+" failed: "+r);for(var l=0;l<n.length;l++)n[l].status=4,n[l].abortReason=r}ML(e,t)}}),o)}function ML(e,t){var n=UL(e,t),r=JF(n);return function(e,t,n){if(0===t.length)return;for(var r=[],i=[],a=t.filter((function(e){return 0===e.status})),o=a.map((function(e){return e.currentWriteId})),u=function(a){var u,s=t[a],c=PP(n,s.path),l=!1,f=void 0;if(Ea(null!==c,"rerunTransactionsUnderNode_: relativePath should not be null."),4===s.status)l=!0,f=s.abortReason,i=i.concat(vF(e.serverSyncTree_,s.currentWriteId,!0));else if(0===s.status)if(s.retryCount>=25)l=!0,f="maxretry",i=i.concat(vF(e.serverSyncTree_,s.currentWriteId,!0));else{var h=FL(e,s.path,o);s.currentInputSnapshot=h;var d=t[a].update(h.val());if(void 0!==d){oL("transaction failed: Data returned ",d,s.path);var p=mR(d);"object"===typeof d&&null!=d&&Ya(d,".priority")||(p=p.updatePriority(h.getPriority()));var v=s.currentWriteId,y=xL(e),m=BF(p,h,y);s.currentOutputSnapshotRaw=p,s.currentOutputSnapshotResolved=m,s.currentWriteId=TL(e),o.splice(o.indexOf(v),1),i=(i=i.concat(dF(e.serverSyncTree_,s.path,m,s.currentWriteId,s.applyLocally))).concat(vF(e.serverSyncTree_,v,!0))}else l=!0,f="nodata",i=i.concat(vF(e.serverSyncTree_,s.currentWriteId,!0))}yL(e.eventQueue_,n,i),i=[],l&&(t[a].status=2,u=t[a].unwatcher,setTimeout(u,Math.floor(0)),t[a].onComplete&&("nodata"===f?r.push((function(){return t[a].onComplete(null,!1,t[a].currentInputSnapshot)})):r.push((function(){return t[a].onComplete(new Error(f),!1,null)}))))},s=0;s<t.length;s++)u(s);BL(e,e.transactionQueueTree_);for(var c=0;c<r.length;c++)YO(r[c]);LL(e,e.transactionQueueTree_)}(e,VL(e,n),r),r}function UL(e,t){var n,r=e.transactionQueueTree_;for(n=EP(t);null!==n&&void 0===GF(r);)r=KF(r,n),n=EP(t=IP(t));return r}function VL(e,t){var n=[];return qL(e,t,n),n.sort((function(e,t){return e.order-t.order})),n}function qL(e,t,n){var r=GF(t);if(r)for(var i=0;i<r.length;i++)n.push(r[i]);YF(t,(function(t){qL(e,t,n)}))}function BL(e,t){var n=GF(t);if(n){for(var r=0,i=0;i<n.length;i++)2!==n[i].status&&(n[r]=n[i],r++);n.length=r,HF(t,n.length>0?n:void 0)}YF(t,(function(t){BL(e,t)}))}function zL(e,t){var n=JF(UL(e,t)),r=KF(e.transactionQueueTree_,t);return function(e,t,n){for(var r=n?e:e.parent;null!==r;){if(t(r))return!0;r=r.parent}}(r,(function(t){WL(e,t)})),WL(e,r),$F(r,(function(t){WL(e,t)})),n}function WL(e,t){var n=GF(t);if(n){for(var r=[],i=[],a=-1,o=0;o<n.length;o++)3===n[o].status||(1===n[o].status?(Ea(a===o-1,"All SENT items should be at beginning of queue."),a=o,n[o].status=3,n[o].abortReason="set"):(Ea(0===n[o].status,"Unexpected transaction status in abort"),n[o].unwatcher(),i=i.concat(vF(e.serverSyncTree_,n[o].currentWriteId,!0)),n[o].onComplete&&r.push(n[o].onComplete.bind(null,new Error("set"),!1,null))));-1===a?HF(t,void 0):n.length=a+1,yL(e.eventQueue_,JF(t),i);for(var u=0;u<r.length;u++)YO(r[u])}}var KL=function(e,t){var n=GL(e),r=n.namespace;"firebase.com"===n.domain&&RO(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),r&&"undefined"!==r||"localhost"===n.domain||RO("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||"undefined"!==typeof window&&window.location&&window.location.protocol&&-1!==window.location.protocol.indexOf("https:")&&DO("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().");var i="ws"===n.scheme||"wss"===n.scheme;return{repoInfo:new iP(n.host,n.secure,r,i,t,"",r!==n.subdomain),path:new _P(n.pathString)}},GL=function(e){var t="",n="",r="",i="",a="",o=!0,u="https",s=443;if("string"===typeof e){var c=e.indexOf("//");c>=0&&(u=e.substring(0,c-1),e=e.substring(c+2));var l=e.indexOf("/");-1===l&&(l=e.length);var f=e.indexOf("?");-1===f&&(f=e.length),t=e.substring(0,Math.min(l,f)),l<f&&(i=function(e){for(var t="",n=e.split("/"),r=0;r<n.length;r++)if(n[r].length>0){var i=n[r];try{i=decodeURIComponent(i.replace(/\+/g," "))}catch(a){}t+="/"+i}return t}(e.substring(l,f)));var h=function(e){var t={};"?"===e.charAt(0)&&(e=e.substring(1));var n,r=ka(e.split("&"));try{for(r.s();!(n=r.n()).done;){var i=n.value;if(0!==i.length){var a=i.split("=");2===a.length?t[decodeURIComponent(a[0])]=decodeURIComponent(a[1]):DO("Invalid query segment '".concat(i,"' in query '").concat(e,"'"))}}}catch(o){r.e(o)}finally{r.f()}return t}(e.substring(Math.min(e.length,f)));(c=t.indexOf(":"))>=0?(o="https"===u||"wss"===u,s=parseInt(t.substring(c+1),10)):c=t.length;var d=t.slice(0,c);if("localhost"===d.toLowerCase())n="localhost";else if(d.split(".").length<=2)n=d;else{var p=t.indexOf(".");r=t.substring(0,p).toLowerCase(),n=t.substring(p+1),a=r}"ns"in h&&(a=h.ns)}return{host:t,port:s,domain:n,subdomain:r,secure:o,scheme:u,pathString:i,namespace:a}},HL=function(){function e(t,n,r,i){d(this,e),this.eventType=t,this.eventRegistration=n,this.snapshot=r,this.prevName=i}return v(e,[{key:"getPath",value:function(){var e=this.snapshot.ref;return"value"===this.eventType?e._path:e.parent._path}},{key:"getEventType",value:function(){return this.eventType}},{key:"getEventRunner",value:function(){return this.eventRegistration.getEventRunner(this)}},{key:"toString",value:function(){return this.getPath().toString()+":"+this.eventType+":"+Ha(this.snapshot.exportVal())}}]),e}(),QL=function(){function e(t,n,r){d(this,e),this.eventRegistration=t,this.error=n,this.path=r}return v(e,[{key:"getPath",value:function(){return this.path}},{key:"getEventType",value:function(){return"cancel"}},{key:"getEventRunner",value:function(){return this.eventRegistration.getEventRunner(this)}},{key:"toString",value:function(){return this.path.toString()+":cancel"}}]),e}(),YL=function(){function e(t,n){d(this,e),this.snapshotCallback=t,this.cancelCallback=n}return v(e,[{key:"onValue",value:function(e,t){this.snapshotCallback.call(null,e,t)}},{key:"onCancel",value:function(e){return Ea(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,e)}},{key:"hasCancelCallback",get:function(){return!!this.cancelCallback}},{key:"matches",value:function(e){return this.snapshotCallback===e.snapshotCallback||void 0!==this.snapshotCallback.userCallback&&this.snapshotCallback.userCallback===e.snapshotCallback.userCallback&&this.snapshotCallback.context===e.snapshotCallback.context}}]),e}(),$L=function(){function e(t,n){d(this,e),this._repo=t,this._path=n}return v(e,[{key:"cancel",value:function(){var e=new Pa;return NL(this._repo,this._path,e.wrapCallback((function(){}))),e.promise}},{key:"remove",value:function(){fL("OnDisconnect.remove",this._path);var e=new Pa;return AL(this._repo,this._path,null,e.wrapCallback((function(){}))),e.promise}},{key:"set",value:function(e){fL("OnDisconnect.set",this._path),aL("OnDisconnect.set",e,this._path,!1);var t=new Pa;return AL(this._repo,this._path,e,t.wrapCallback((function(){}))),t.promise}},{key:"setWithPriority",value:function(e,t){fL("OnDisconnect.setWithPriority",this._path),aL("OnDisconnect.setWithPriority",e,this._path,!1),sL("OnDisconnect.setWithPriority",t,!1);var n=new Pa;return function(e,t,n,r,i){var a=mR(n,r);e.server_.onDisconnectPut(t.toString(),a.val(!0),(function(n,r){"ok"===n&&qR(e.onDisconnect_,t,a),DL(0,i,n,r)}))}(this._repo,this._path,e,t,n.wrapCallback((function(){}))),n.promise}},{key:"update",value:function(e){fL("OnDisconnect.update",this._path),uL("OnDisconnect.update",e,this._path,!1);var t=new Pa;return function(e,t,n,r){if(Ja(n))return AO("onDisconnect().update() called with empty data.  Don't do anything."),void DL(0,r,"ok",void 0);e.server_.onDisconnectMerge(t.toString(),n,(function(i,a){"ok"===i&&zO(n,(function(n,r){var i=mR(r);qR(e.onDisconnect_,AP(t,n),i)})),DL(0,r,i,a)}))}(this._repo,this._path,e,t.wrapCallback((function(){}))),t.promise}}]),e}(),JL=function(){function e(t,n,r,i){d(this,e),this._repo=t,this._path=n,this._queryParams=r,this._orderByCalled=i}return v(e,[{key:"key",get:function(){return OP(this._path)?null:TP(this._path)}},{key:"ref",get:function(){return new tj(this._repo,this._path)}},{key:"_queryIdentifier",get:function(){var e=jR(this._queryParams),t=qO(e);return"{}"===t?"default":t}},{key:"_queryObject",get:function(){return jR(this._queryParams)}},{key:"isEqual",value:function(t){if(!((t=po(t))instanceof e))return!1;var n=this._repo===t._repo,r=DP(this._path,t._path),i=this._queryIdentifier===t._queryIdentifier;return n&&r&&i}},{key:"toJSON",value:function(){return this.toString()}},{key:"toString",value:function(){return this._repo.toString()+function(e){for(var t="",n=e.pieceNum_;n<e.pieces_.length;n++)""!==e.pieces_[n]&&(t+="/"+encodeURIComponent(String(e.pieces_[n])));return t||"/"}(this._path)}}]),e}();function XL(e,t){if(!0===e._orderByCalled)throw new Error(t+": You can't combine multiple orderBy calls.")}function ZL(e){var t=null,n=null;if(e.hasStart()&&(t=e.getIndexStartValue()),e.hasEnd()&&(n=e.getIndexEndValue()),e.getIndex()===GP){var r="Query: When ordering by key, you may only pass one argument to startAt(), endAt(), or equalTo().",i="Query: When ordering by key, the argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() must be a string.";if(e.hasStart()){if(e.getIndexStartName()!==LO)throw new Error(r);if("string"!==typeof t)throw new Error(i)}if(e.hasEnd()){if(e.getIndexEndName()!==jO)throw new Error(r);if("string"!==typeof n)throw new Error(i)}}else if(e.getIndex()===cR){if(null!=t&&!iL(t)||null!=n&&!iL(n))throw new Error("Query: When ordering by priority, the first argument passed to startAt(), startAfter() endAt(), endBefore(), or equalTo() must be a valid priority value (null, a number, or a string).")}else if(Ea(e.getIndex()instanceof gR||e.getIndex()===bR,"unknown index type."),null!=t&&"object"===typeof t||null!=n&&"object"===typeof n)throw new Error("Query: First argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() cannot be an object.")}function ej(e){if(e.hasStart()&&e.hasEnd()&&e.hasLimit()&&!e.hasAnchoredLimit())throw new Error("Query: Can't combine startAt(), startAfter(), endAt(), endBefore(), and limit(). Use limitToFirst() or limitToLast() instead.")}var tj=function(e){m(n,e);var t=x(n);function n(e,r){return d(this,n),t.call(this,e,r,new PR,!1)}return v(n,[{key:"parent",get:function(){var e=NP(this._path);return null===e?null:new n(this._repo,e)}},{key:"root",get:function(){for(var e=this;null!==e.parent;)e=e.parent;return e}}]),n}(JL),nj=function(){function e(t,n,r){d(this,e),this._node=t,this.ref=n,this._index=r}return v(e,[{key:"priority",get:function(){return this._node.getPriority().val()}},{key:"key",get:function(){return this.ref.key}},{key:"size",get:function(){return this._node.numChildren()}},{key:"child",value:function(t){var n=new _P(t),r=aj(this.ref,t);return new e(this._node.getChild(n),r,cR)}},{key:"exists",value:function(){return!this._node.isEmpty()}},{key:"exportVal",value:function(){return this._node.val(!0)}},{key:"forEach",value:function(t){var n=this;return!this._node.isLeafNode()&&!!this._node.forEachChild(this._index,(function(r,i){return t(new e(i,aj(n.ref,r),cR))}))}},{key:"hasChild",value:function(e){var t=new _P(e);return!this._node.getChild(t).isEmpty()}},{key:"hasChildren",value:function(){return!this._node.isLeafNode()&&!this._node.isEmpty()}},{key:"toJSON",value:function(){return this.exportVal()}},{key:"val",value:function(){return this._node.val()}}]),e}();function rj(e,t){return(e=po(e))._checkNotDeleted("ref"),void 0!==t?aj(e._root,t):e._root}function ij(e,t){(e=po(e))._checkNotDeleted("refFromURL");var n=KL(t,e._repo.repoInfo_.nodeAdmin);hL("refFromURL",n);var r=n.repoInfo;return e._repo.repoInfo_.isCustomHost()||r.host===e._repo.repoInfo_.host||RO("refFromURL: Host name does not match the current database: (found "+r.host+" but expected "+e._repo.repoInfo_.host+")"),rj(e,n.path.toString())}function aj(e,t){var n,r,i,a;return null===EP((e=po(e))._path)?(n="child",r="path",a=!1,(i=t)&&(i=i.replace(/^\/*\.info(\/|$)/,"/")),lL(n,r,i,a)):lL("child","path",t,!1),new tj(e._repo,AP(e._path,t))}function oj(e,t){e=po(e),fL("push",e._path),aL("push",t,e._path,!0);var n,r=_L(e._repo),i=_R(r),a=aj(e,i),o=aj(e,i);return n=null!=t?sj(o,t).then((function(){return o})):Promise.resolve(o),a.then=n.then.bind(n),a.catch=n.then.bind(n,void 0),a}function uj(e){return fL("remove",e._path),sj(e,null)}function sj(e,t){e=po(e),fL("set",e._path),aL("set",t,e._path,!1);var n=new Pa;return CL(e._repo,e._path,t,null,n.wrapCallback((function(){}))),n.promise}function cj(e,t){e=po(e),fL("setPriority",e._path),sL("setPriority",t,!1);var n=new Pa;return CL(e._repo,AP(e._path,".priority"),t,null,n.wrapCallback((function(){}))),n.promise}function lj(e,t,n){if(fL("setWithPriority",e._path),aL("setWithPriority",t,e._path,!1),sL("setWithPriority",n,!1),".length"===e.key||".keys"===e.key)throw"setWithPriority failed: "+e.key+" is a read-only object.";var r=new Pa;return CL(e._repo,e._path,t,n,r.wrapCallback((function(){}))),r.promise}function fj(e,t){uL("update",t,e._path,!1);var n=new Pa;return function(e,t,n,r){RL(e,"update",{path:t.toString(),value:n});var i=!0,a=xL(e),o={};if(zO(n,(function(n,r){i=!1,o[n]=qF(AP(t,n),mR(r),e.serverSyncTree_,a)})),i)AO("update() called with empty data.  Don't do anything."),DL(0,r,"ok",void 0);else{var u=TL(e),s=pF(e.serverSyncTree_,t,o,u);pL(e.eventQueue_,s),e.server_.merge(t.toString(),n,(function(n,i){var a="ok"===n;a||DO("update at "+t+" failed: "+n);var o=vF(e.serverSyncTree_,u,!a),s=o.length>0?ML(e,t):t;yL(e.eventQueue_,s,o),DL(0,r,n,i)})),zO(n,(function(n){var r=zL(e,AP(t,n));ML(e,r)})),yL(e.eventQueue_,t,[])}}(e._repo,e._path,t,n.wrapCallback((function(){}))),n.promise}function hj(e){e=po(e);var t=new YL((function(){})),n=new dj(t);return function(e,t,n){var r=wF(e.serverSyncTree_,t);return null!=r?Promise.resolve(r):e.server_.get(t).then((function(r){var i,a=mR(r).withIndex(t._queryParams.getIndex());if(kF(e.serverSyncTree_,t,n,!0),t._queryParams.loadsAllData())i=yF(e.serverSyncTree_,t._path,a);else{var o=IF(e.serverSyncTree_,t);i=gF(e.serverSyncTree_,t._path,a,o)}return yL(e.eventQueue_,t._path,i),mF(e.serverSyncTree_,t,n,null,!0),a}),(function(n){return RL(e,"get for query "+Ha(t)+" failed: "+n),Promise.reject(new Error(n))}))}(e._repo,e,n).then((function(t){return new nj(t,new tj(e._repo,e._path),e._queryParams.getIndex())}))}var dj=function(){function e(t){d(this,e),this.callbackContext=t}return v(e,[{key:"respondsTo",value:function(e){return"value"===e}},{key:"createEvent",value:function(e,t){var n=t._queryParams.getIndex();return new HL("value",this,new nj(e.snapshotNode,new tj(t._repo,t._path),n))}},{key:"getEventRunner",value:function(e){var t=this;return"cancel"===e.getEventType()?function(){return t.callbackContext.onCancel(e.error)}:function(){return t.callbackContext.onValue(e.snapshot,null)}}},{key:"createCancelEvent",value:function(e,t){return this.callbackContext.hasCancelCallback?new QL(this,e,t):null}},{key:"matches",value:function(t){return t instanceof e&&(!t.callbackContext||!this.callbackContext||t.callbackContext.matches(this.callbackContext))}},{key:"hasAnyCallback",value:function(){return null!==this.callbackContext}}]),e}(),pj=function(){function e(t,n){d(this,e),this.eventType=t,this.callbackContext=n}return v(e,[{key:"respondsTo",value:function(e){var t="children_added"===e?"child_added":e;return t="children_removed"===t?"child_removed":t,this.eventType===t}},{key:"createCancelEvent",value:function(e,t){return this.callbackContext.hasCancelCallback?new QL(this,e,t):null}},{key:"createEvent",value:function(e,t){Ea(null!=e.childName,"Child events should have a childName.");var n=aj(new tj(t._repo,t._path),e.childName),r=t._queryParams.getIndex();return new HL(e.type,this,new nj(e.snapshotNode,n,r),e.prevName)}},{key:"getEventRunner",value:function(e){var t=this;return"cancel"===e.getEventType()?function(){return t.callbackContext.onCancel(e.error)}:function(){return t.callbackContext.onValue(e.snapshot,e.prevName)}}},{key:"matches",value:function(t){return t instanceof e&&(this.eventType===t.eventType&&(!this.callbackContext||!t.callbackContext||this.callbackContext.matches(t.callbackContext)))}},{key:"hasAnyCallback",value:function(){return!!this.callbackContext}}]),e}();function vj(e,t,n,r,i){var a;if("object"===typeof r&&(a=void 0,i=r),"function"===typeof r&&(a=r),i&&i.onlyOnce){var o=n,u=function(t,n){OL(e._repo,e,c),o(t,n)};u.userCallback=n.userCallback,u.context=n.context,n=u}var s=new YL(n,a||void 0),c="value"===t?new dj(s):new pj(t,s);return function(e,t,n){var r;r=".info"===EP(t._path)?kF(e.infoSyncTree_,t,n):kF(e.serverSyncTree_,t,n),vL(e.eventQueue_,t._path,r)}(e._repo,e,c),function(){return OL(e._repo,e,c)}}function yj(e,t,n,r){return vj(e,"value",t,n,r)}function mj(e,t,n,r){return vj(e,"child_added",t,n,r)}function gj(e,t,n,r){return vj(e,"child_changed",t,n,r)}function kj(e,t,n,r){return vj(e,"child_moved",t,n,r)}function bj(e,t,n,r){return vj(e,"child_removed",t,n,r)}function wj(e,t,n){var r=null,i=n?new YL(n):null;"value"===t?r=new dj(i):t&&(r=new pj(t,i)),OL(e._repo,e,r)}var _j=v((function e(){d(this,e)})),xj=function(e){m(n,e);var t=x(n);function n(e,r){var i;return d(this,n),(i=t.call(this))._value=e,i._key=r,i}return v(n,[{key:"_apply",value:function(e){aL("endAt",this._value,e._path,!0);var t=DR(e._queryParams,this._value,this._key);if(ej(t),ZL(t),e._queryParams.hasEnd())throw new Error("endAt: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new JL(e._repo,e._path,t,e._orderByCalled)}}]),n}(_j);function Ej(e,t){return cL("endAt","key",t,!0),new xj(e,t)}var Sj=function(e){m(n,e);var t=x(n);function n(e,r){var i;return d(this,n),(i=t.call(this))._value=e,i._key=r,i}return v(n,[{key:"_apply",value:function(e){aL("endBefore",this._value,e._path,!1);var t=function(e,t,n){var r;return e.index_===GP?("string"===typeof t&&(t=ER(t)),r=DR(e,t,n)):r=DR(e,t,null==n?LO:ER(n)),r.endBeforeSet_=!0,r}(e._queryParams,this._value,this._key);if(ej(t),ZL(t),e._queryParams.hasEnd())throw new Error("endBefore: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new JL(e._repo,e._path,t,e._orderByCalled)}}]),n}(_j);function Ij(e,t){return cL("endBefore","key",t,!0),new Sj(e,t)}var Tj=function(e){m(n,e);var t=x(n);function n(e,r){var i;return d(this,n),(i=t.call(this))._value=e,i._key=r,i}return v(n,[{key:"_apply",value:function(e){aL("startAt",this._value,e._path,!0);var t=RR(e._queryParams,this._value,this._key);if(ej(t),ZL(t),e._queryParams.hasStart())throw new Error("startAt: Starting point was already set (by another call to startAt, startBefore or equalTo).");return new JL(e._repo,e._path,t,e._orderByCalled)}}]),n}(_j);function Cj(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;return cL("startAt","key",t,!0),new Tj(e,t)}var Nj=function(e){m(n,e);var t=x(n);function n(e,r){var i;return d(this,n),(i=t.call(this))._value=e,i._key=r,i}return v(n,[{key:"_apply",value:function(e){aL("startAfter",this._value,e._path,!1);var t=function(e,t,n){var r;return e.index_===GP?("string"===typeof t&&(t=xR(t)),r=RR(e,t,n)):r=RR(e,t,null==n?jO:xR(n)),r.startAfterSet_=!0,r}(e._queryParams,this._value,this._key);if(ej(t),ZL(t),e._queryParams.hasStart())throw new Error("startAfter: Starting point was already set (by another call to startAt, startAfter, or equalTo).");return new JL(e._repo,e._path,t,e._orderByCalled)}}]),n}(_j);function Aj(e,t){return cL("startAfter","key",t,!0),new Nj(e,t)}var Oj=function(e){m(n,e);var t=x(n);function n(e){var r;return d(this,n),(r=t.call(this))._limit=e,r}return v(n,[{key:"_apply",value:function(e){if(e._queryParams.hasLimit())throw new Error("limitToFirst: Limit was already set (by another call to limitToFirst or limitToLast).");return new JL(e._repo,e._path,function(e,t){var n=e.copy();return n.limitSet_=!0,n.limit_=t,n.viewFrom_="l",n}(e._queryParams,this._limit),e._orderByCalled)}}]),n}(_j);function Pj(e){if("number"!==typeof e||Math.floor(e)!==e||e<=0)throw new Error("limitToFirst: First argument must be a positive integer.");return new Oj(e)}var Rj=function(e){m(n,e);var t=x(n);function n(e){var r;return d(this,n),(r=t.call(this))._limit=e,r}return v(n,[{key:"_apply",value:function(e){if(e._queryParams.hasLimit())throw new Error("limitToLast: Limit was already set (by another call to limitToFirst or limitToLast).");return new JL(e._repo,e._path,function(e,t){var n=e.copy();return n.limitSet_=!0,n.limit_=t,n.viewFrom_="r",n}(e._queryParams,this._limit),e._orderByCalled)}}]),n}(_j);function Dj(e){if("number"!==typeof e||Math.floor(e)!==e||e<=0)throw new Error("limitToLast: First argument must be a positive integer.");return new Rj(e)}var Fj=function(e){m(n,e);var t=x(n);function n(e){var r;return d(this,n),(r=t.call(this))._path=e,r}return v(n,[{key:"_apply",value:function(e){XL(e,"orderByChild");var t=new _P(this._path);if(OP(t))throw new Error("orderByChild: cannot pass in empty path. Use orderByValue() instead.");var n=new gR(t),r=FR(e._queryParams,n);return ZL(r),new JL(e._repo,e._path,r,!0)}}]),n}(_j);function Lj(e){if("$key"===e)throw new Error('orderByChild: "$key" is invalid.  Use orderByKey() instead.');if("$priority"===e)throw new Error('orderByChild: "$priority" is invalid.  Use orderByPriority() instead.');if("$value"===e)throw new Error('orderByChild: "$value" is invalid.  Use orderByValue() instead.');return lL("orderByChild","path",e,!1),new Fj(e)}var jj=function(e){m(n,e);var t=x(n);function n(){return d(this,n),t.apply(this,arguments)}return v(n,[{key:"_apply",value:function(e){XL(e,"orderByKey");var t=FR(e._queryParams,GP);return ZL(t),new JL(e._repo,e._path,t,!0)}}]),n}(_j);function Mj(){return new jj}var Uj=function(e){m(n,e);var t=x(n);function n(){return d(this,n),t.apply(this,arguments)}return v(n,[{key:"_apply",value:function(e){XL(e,"orderByPriority");var t=FR(e._queryParams,cR);return ZL(t),new JL(e._repo,e._path,t,!0)}}]),n}(_j);function Vj(){return new Uj}var qj=function(e){m(n,e);var t=x(n);function n(){return d(this,n),t.apply(this,arguments)}return v(n,[{key:"_apply",value:function(e){XL(e,"orderByValue");var t=FR(e._queryParams,bR);return ZL(t),new JL(e._repo,e._path,t,!0)}}]),n}(_j);function Bj(){return new qj}var zj=function(e){m(n,e);var t=x(n);function n(e,r){var i;return d(this,n),(i=t.call(this))._value=e,i._key=r,i}return v(n,[{key:"_apply",value:function(e){if(aL("equalTo",this._value,e._path,!1),e._queryParams.hasStart())throw new Error("equalTo: Starting point was already set (by another call to startAt/startAfter or equalTo).");if(e._queryParams.hasEnd())throw new Error("equalTo: Ending point was already set (by another call to endAt/endBefore or equalTo).");return new xj(this._value,this._key)._apply(new Tj(this._value,this._key)._apply(e))}}]),n}(_j);function Wj(e,t){return cL("equalTo","key",t,!0),new zj(e,t)}function Kj(e){for(var t=po(e),n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];for(var a=0,o=r;a<o.length;a++){var u=o[a];t=u._apply(t)}return t}!function(e){Ea(!KD,"__referenceConstructor has already been defined"),KD=e}(tj),function(e){Ea(!XD,"__referenceConstructor has already been defined"),XD=e}(tj);var Gj={},Hj=!1;function Qj(e,t,n,r){e.repoInfo_=new iP("".concat(t,":").concat(n),!1,e.repoInfo_.namespace,e.repoInfo_.webSocketOnly,e.repoInfo_.nodeAdmin,e.repoInfo_.persistenceKey,e.repoInfo_.includeNamespaceInQueryParams),r&&(e.authTokenProvider_=r)}function Yj(e,t,n,r,i){var a=r||e.options.databaseURL;void 0===a&&(e.options.projectId||RO("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),AO("Using default host for project ",e.options.projectId),a="".concat(e.options.projectId,"-default-rtdb.firebaseio.com"));var o,u=KL(a,i),s=u.repoInfo,c=void 0;"undefined"!==typeof process&&(c={NODE_ENV:"production",PUBLIC_URL:"/hotSkins",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.FIREBASE_DATABASE_EMULATOR_HOST),c?(o=!0,a="http://".concat(c,"?ns=").concat(s.namespace),s=(u=KL(a,i)).repoInfo):o=!u.repoInfo.secure;var l=i&&o?new ZO(ZO.OWNER):new XO(e.name,e.options,t);hL("Invalid Firebase Database URL",u),OP(u.path)||RO("Database URL must point to the root of a Firebase Database (not including a child path).");var f=function(e,t,n,r){var i=Gj[t.name];i||(i={},Gj[t.name]=i);var a=i[e.toURLString()];a&&RO("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call.");return a=new bL(e,Hj,n,r),i[e.toURLString()]=a,a}(s,e,l,new JO(e.name,n));return new $j(f,e)}var $j=function(){function e(t,n){d(this,e),this._repoInternal=t,this.app=n,this.type="database",this._instanceStarted=!1}return v(e,[{key:"_repo",get:function(){return this._instanceStarted||(wL(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}},{key:"_root",get:function(){return this._rootInternal||(this._rootInternal=new tj(this._repo,xP())),this._rootInternal}},{key:"_delete",value:function(){return null!==this._rootInternal&&(!function(e,t){var n=Gj[t];n&&n[e.key]===e||RO("Database ".concat(t,"(").concat(e.repoInfo_,") has already been deleted.")),PL(e),delete n[e.key]}(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}},{key:"_checkNotDeleted",value:function(e){null===this._rootInternal&&RO("Cannot call "+e+" on a deleted database.")}}]),e}();function Jj(){mP.IS_TRANSPORT_INITIALIZED&&DO("Transport has already been initialized. Please call this function before calling ref or setting up a listener")}function Xj(){Jj(),dP.forceDisallow()}function Zj(){Jj(),yP.forceDisallow(),dP.forceAllow()}function eM(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};(e=po(e))._checkNotDeleted("useEmulator"),e._instanceStarted&&RO("Cannot call useEmulator() after instance has already been initialized.");var i=e._repoInternal,a=void 0;if(i.repoInfo_.nodeAdmin)r.mockUserToken&&RO('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),a=new ZO(ZO.OWNER);else if(r.mockUserToken){var o="string"===typeof r.mockUserToken?r.mockUserToken:Ra(r.mockUserToken,e.app.options.projectId);a=new ZO(o)}Qj(i,t,n,a)}function tM(e){(e=po(e))._checkNotDeleted("goOffline"),PL(e._repo)}function nM(e){var t;(e=po(e))._checkNotDeleted("goOnline"),(t=e._repo).persistentConnection_&&t.persistentConnection_.resume(kL)}function rM(e,t){NO(e,t)}var iM={".sv":"timestamp"};var aM=function(){function e(t,n){d(this,e),this.committed=t,this.snapshot=n}return v(e,[{key:"toJSON",value:function(){return{committed:this.committed,snapshot:this.snapshot.toJSON()}}}]),e}();function oM(e,t,n){var r;if(e=po(e),fL("Reference.transaction",e._path),".length"===e.key||".keys"===e.key)throw"Reference.transaction failed: "+e.key+" is a read-only object.";var i=null===(r=null===n||void 0===n?void 0:n.applyLocally)||void 0===r||r,a=new Pa,o=yj(e,(function(){}));return function(e,t,n,r,i,a){RL(e,"transaction on "+t);var o={path:t,update:n,onComplete:r,status:null,order:EO(),applyLocally:a,retryCount:0,unwatcher:i,abortReason:null,currentWriteId:null,currentInputSnapshot:null,currentOutputSnapshotRaw:null,currentOutputSnapshotResolved:null},u=FL(e,t,void 0);o.currentInputSnapshot=u;var s=o.update(u.val());if(void 0===s)o.unwatcher(),o.currentOutputSnapshotRaw=null,o.currentOutputSnapshotResolved=null,o.onComplete&&o.onComplete(null,!1,o.currentInputSnapshot);else{oL("transaction failed: Data returned ",s,o.path),o.status=0;var c,l=KF(e.transactionQueueTree_,t),f=GF(l)||[];f.push(o),HF(l,f),"object"===typeof s&&null!==s&&Ya(s,".priority")?(c=$a(s,".priority"),Ea(iL(c),"Invalid priority returned by transaction. Priority must be a valid string, finite number, server value, or null.")):c=(bF(e.serverSyncTree_,t)||vR.EMPTY_NODE).getPriority().val();var h=xL(e),d=mR(s,c),p=BF(d,u,h);o.currentOutputSnapshotRaw=d,o.currentOutputSnapshotResolved=p,o.currentWriteId=TL(e);var v=dF(e.serverSyncTree_,t,p,o.currentWriteId,o.applyLocally);yL(e.eventQueue_,t,v),LL(e,e.transactionQueueTree_)}}(e._repo,e._path,t,(function(t,n,r){var i=null;t?a.reject(t):(i=new nj(r,new tj(e._repo,e._path),cR),a.resolve(new aM(n,i)))}),o,i),a.promise}qP.prototype.simpleListen=function(e,t){this.sendRequest("q",{p:e},t)},qP.prototype.echo=function(e,t){this.sendRequest("echo",{d:e},t)};!function(e){mO(lu),ru(new vo("database",(function(e,t){var n=t.instanceIdentifier;return Yj(e.getProvider("app").getImmediate(),e.getProvider("auth-internal"),e.getProvider("app-check-internal"),n)}),"PUBLIC").setMultipleInstances(!0)),yu(pO,vO,e),yu(pO,vO,"esm2017")}();var uM=new Io("@firebase/database-compat"),sM=function(e){var t="FIREBASE WARNING: "+e;uM.warn(t)},cM=function(e,t,n,r){if((!r||void 0!==n)&&"boolean"!==typeof n)throw new Error(co(e,t)+"must be a boolean.")},lM=function(e,t,n){if(!n||void 0!==t)switch(t){case"value":case"child_added":case"child_removed":case"child_changed":case"child_moved":break;default:throw new Error(co(e,"eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}},fM=function(){function e(t){d(this,e),this._delegate=t}return v(e,[{key:"cancel",value:function(e){so("OnDisconnect.cancel",0,1,arguments.length),lo("OnDisconnect.cancel","onComplete",e,!0);var t=this._delegate.cancel();return e&&t.then((function(){return e(null)}),(function(t){return e(t)})),t}},{key:"remove",value:function(e){so("OnDisconnect.remove",0,1,arguments.length),lo("OnDisconnect.remove","onComplete",e,!0);var t=this._delegate.remove();return e&&t.then((function(){return e(null)}),(function(t){return e(t)})),t}},{key:"set",value:function(e,t){so("OnDisconnect.set",1,2,arguments.length),lo("OnDisconnect.set","onComplete",t,!0);var n=this._delegate.set(e);return t&&n.then((function(){return t(null)}),(function(e){return t(e)})),n}},{key:"setWithPriority",value:function(e,t,n){so("OnDisconnect.setWithPriority",2,3,arguments.length),lo("OnDisconnect.setWithPriority","onComplete",n,!0);var r=this._delegate.setWithPriority(e,t);return n&&r.then((function(){return n(null)}),(function(e){return n(e)})),r}},{key:"update",value:function(e,t){if(so("OnDisconnect.update",1,2,arguments.length),Array.isArray(e)){for(var n={},r=0;r<e.length;++r)n[""+r]=e[r];e=n,sM("Passing an Array to firebase.database.onDisconnect().update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}lo("OnDisconnect.update","onComplete",t,!0);var i=this._delegate.update(e);return t&&i.then((function(){return t(null)}),(function(e){return t(e)})),i}}]),e}(),hM=function(){function e(t,n){d(this,e),this.committed=t,this.snapshot=n}return v(e,[{key:"toJSON",value:function(){return so("TransactionResult.toJSON",0,1,arguments.length),{committed:this.committed,snapshot:this.snapshot.toJSON()}}}]),e}(),dM=function(){function e(t,n){d(this,e),this._database=t,this._delegate=n}return v(e,[{key:"val",value:function(){return so("DataSnapshot.val",0,0,arguments.length),this._delegate.val()}},{key:"exportVal",value:function(){return so("DataSnapshot.exportVal",0,0,arguments.length),this._delegate.exportVal()}},{key:"toJSON",value:function(){return so("DataSnapshot.toJSON",0,1,arguments.length),this._delegate.toJSON()}},{key:"exists",value:function(){return so("DataSnapshot.exists",0,0,arguments.length),this._delegate.exists()}},{key:"child",value:function(t){return so("DataSnapshot.child",0,1,arguments.length),t=String(t),lL("DataSnapshot.child","path",t,!1),new e(this._database,this._delegate.child(t))}},{key:"hasChild",value:function(e){return so("DataSnapshot.hasChild",1,1,arguments.length),lL("DataSnapshot.hasChild","path",e,!1),this._delegate.hasChild(e)}},{key:"getPriority",value:function(){return so("DataSnapshot.getPriority",0,0,arguments.length),this._delegate.priority}},{key:"forEach",value:function(t){var n=this;return so("DataSnapshot.forEach",1,1,arguments.length),lo("DataSnapshot.forEach","action",t,!1),this._delegate.forEach((function(r){return t(new e(n._database,r))}))}},{key:"hasChildren",value:function(){return so("DataSnapshot.hasChildren",0,0,arguments.length),this._delegate.hasChildren()}},{key:"key",get:function(){return this._delegate.key}},{key:"numChildren",value:function(){return so("DataSnapshot.numChildren",0,0,arguments.length),this._delegate.size}},{key:"getRef",value:function(){return so("DataSnapshot.ref",0,0,arguments.length),new vM(this._database,this._delegate.ref)}},{key:"ref",get:function(){return this.getRef()}}]),e}(),pM=function(){function e(t,n){d(this,e),this.database=t,this._delegate=n}return v(e,[{key:"on",value:function(t,n,r,i){var a,o=this;so("Query.on",2,4,arguments.length),lo("Query.on","callback",n,!1);var u=e.getCancelAndContextArgs_("Query.on",r,i),s=function(e,t){n.call(u.context,new dM(o.database,e),t)};s.userCallback=n,s.context=u.context;var c=null===(a=u.cancel)||void 0===a?void 0:a.bind(u.context);switch(t){case"value":return yj(this._delegate,s,c),n;case"child_added":return mj(this._delegate,s,c),n;case"child_removed":return bj(this._delegate,s,c),n;case"child_changed":return gj(this._delegate,s,c),n;case"child_moved":return kj(this._delegate,s,c),n;default:throw new Error(co("Query.on","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}}},{key:"off",value:function(e,t,n){if(so("Query.off",0,3,arguments.length),lM("Query.off",e,!0),lo("Query.off","callback",t,!0),fo("Query.off","context",n,!0),t){var r=function(){};r.userCallback=t,r.context=n,wj(this._delegate,e,r)}else wj(this._delegate,e)}},{key:"get",value:function(){var e=this;return hj(this._delegate).then((function(t){return new dM(e.database,t)}))}},{key:"once",value:function(t,n,r,i){var a=this;so("Query.once",1,4,arguments.length),lo("Query.once","callback",n,!0);var o=e.getCancelAndContextArgs_("Query.once",r,i),u=new Pa,s=function(e,t){var r=new dM(a.database,e);n&&n.call(o.context,r,t),u.resolve(r)};s.userCallback=n,s.context=o.context;var c=function(e){o.cancel&&o.cancel.call(o.context,e),u.reject(e)};switch(t){case"value":yj(this._delegate,s,c,{onlyOnce:!0});break;case"child_added":mj(this._delegate,s,c,{onlyOnce:!0});break;case"child_removed":bj(this._delegate,s,c,{onlyOnce:!0});break;case"child_changed":gj(this._delegate,s,c,{onlyOnce:!0});break;case"child_moved":kj(this._delegate,s,c,{onlyOnce:!0});break;default:throw new Error(co("Query.once","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}return u.promise}},{key:"limitToFirst",value:function(t){return so("Query.limitToFirst",1,1,arguments.length),new e(this.database,Kj(this._delegate,Pj(t)))}},{key:"limitToLast",value:function(t){return so("Query.limitToLast",1,1,arguments.length),new e(this.database,Kj(this._delegate,Dj(t)))}},{key:"orderByChild",value:function(t){return so("Query.orderByChild",1,1,arguments.length),new e(this.database,Kj(this._delegate,Lj(t)))}},{key:"orderByKey",value:function(){return so("Query.orderByKey",0,0,arguments.length),new e(this.database,Kj(this._delegate,Mj()))}},{key:"orderByPriority",value:function(){return so("Query.orderByPriority",0,0,arguments.length),new e(this.database,Kj(this._delegate,Vj()))}},{key:"orderByValue",value:function(){return so("Query.orderByValue",0,0,arguments.length),new e(this.database,Kj(this._delegate,Bj()))}},{key:"startAt",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,n=arguments.length>1?arguments[1]:void 0;return so("Query.startAt",0,2,arguments.length),new e(this.database,Kj(this._delegate,Cj(t,n)))}},{key:"startAfter",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,n=arguments.length>1?arguments[1]:void 0;return so("Query.startAfter",0,2,arguments.length),new e(this.database,Kj(this._delegate,Aj(t,n)))}},{key:"endAt",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,n=arguments.length>1?arguments[1]:void 0;return so("Query.endAt",0,2,arguments.length),new e(this.database,Kj(this._delegate,Ej(t,n)))}},{key:"endBefore",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,n=arguments.length>1?arguments[1]:void 0;return so("Query.endBefore",0,2,arguments.length),new e(this.database,Kj(this._delegate,Ij(t,n)))}},{key:"equalTo",value:function(t,n){return so("Query.equalTo",1,2,arguments.length),new e(this.database,Kj(this._delegate,Wj(t,n)))}},{key:"toString",value:function(){return so("Query.toString",0,0,arguments.length),this._delegate.toString()}},{key:"toJSON",value:function(){return so("Query.toJSON",0,1,arguments.length),this._delegate.toJSON()}},{key:"isEqual",value:function(t){if(so("Query.isEqual",1,1,arguments.length),!(t instanceof e)){var n="Query.isEqual failed: First argument must be an instance of firebase.database.Query.";throw new Error(n)}return this._delegate.isEqual(t._delegate)}},{key:"ref",get:function(){return new vM(this.database,new tj(this._delegate._repo,this._delegate._path))}}],[{key:"getCancelAndContextArgs_",value:function(e,t,n){var r={cancel:void 0,context:void 0};if(t&&n)r.cancel=t,lo(e,"cancel",r.cancel,!0),r.context=n,fo(e,"context",r.context,!0);else if(t)if("object"===typeof t&&null!==t)r.context=t;else{if("function"!==typeof t)throw new Error(co(e,"cancelOrContext")+" must either be a cancel callback or a context object.");r.cancel=t}return r}}]),e}(),vM=function(e){m(n,e);var t=x(n);function n(e,r){var i;return d(this,n),(i=t.call(this,e,new JL(r._repo,r._path,new PR,!1))).database=e,i._delegate=r,i}return v(n,[{key:"getKey",value:function(){return so("Reference.key",0,0,arguments.length),this._delegate.key}},{key:"child",value:function(e){return so("Reference.child",1,1,arguments.length),"number"===typeof e&&(e=String(e)),new n(this.database,aj(this._delegate,e))}},{key:"getParent",value:function(){so("Reference.parent",0,0,arguments.length);var e=this._delegate.parent;return e?new n(this.database,e):null}},{key:"getRoot",value:function(){return so("Reference.root",0,0,arguments.length),new n(this.database,this._delegate.root)}},{key:"set",value:function(e,t){so("Reference.set",1,2,arguments.length),lo("Reference.set","onComplete",t,!0);var n=sj(this._delegate,e);return t&&n.then((function(){return t(null)}),(function(e){return t(e)})),n}},{key:"update",value:function(e,t){if(so("Reference.update",1,2,arguments.length),Array.isArray(e)){for(var n={},r=0;r<e.length;++r)n[""+r]=e[r];e=n,sM("Passing an Array to Firebase.update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}fL("Reference.update",this._delegate._path),lo("Reference.update","onComplete",t,!0);var i=fj(this._delegate,e);return t&&i.then((function(){return t(null)}),(function(e){return t(e)})),i}},{key:"setWithPriority",value:function(e,t,n){so("Reference.setWithPriority",2,3,arguments.length),lo("Reference.setWithPriority","onComplete",n,!0);var r=lj(this._delegate,e,t);return n&&r.then((function(){return n(null)}),(function(e){return n(e)})),r}},{key:"remove",value:function(e){so("Reference.remove",0,1,arguments.length),lo("Reference.remove","onComplete",e,!0);var t=uj(this._delegate);return e&&t.then((function(){return e(null)}),(function(t){return e(t)})),t}},{key:"transaction",value:function(e,t,n){var r=this;so("Reference.transaction",1,3,arguments.length),lo("Reference.transaction","transactionUpdate",e,!1),lo("Reference.transaction","onComplete",t,!0),cM("Reference.transaction","applyLocally",n,!0);var i=oM(this._delegate,e,{applyLocally:n}).then((function(e){return new hM(e.committed,new dM(r.database,e.snapshot))}));return t&&i.then((function(e){return t(null,e.committed,e.snapshot)}),(function(e){return t(e,!1,null)})),i}},{key:"setPriority",value:function(e,t){so("Reference.setPriority",1,2,arguments.length),lo("Reference.setPriority","onComplete",t,!0);var n=cj(this._delegate,e);return t&&n.then((function(){return t(null)}),(function(e){return t(e)})),n}},{key:"push",value:function(e,t){var r=this;so("Reference.push",0,2,arguments.length),lo("Reference.push","onComplete",t,!0);var i=oj(this._delegate,e),a=i.then((function(e){return new n(r.database,e)}));t&&a.then((function(){return t(null)}),(function(e){return t(e)}));var o=new n(this.database,i);return o.then=a.then.bind(a),o.catch=a.catch.bind(a,void 0),o}},{key:"onDisconnect",value:function(){return fL("Reference.onDisconnect",this._delegate._path),new fM(new $L(this._delegate._repo,this._delegate._path))}},{key:"key",get:function(){return this.getKey()}},{key:"parent",get:function(){return this.getParent()}},{key:"root",get:function(){return this.getRoot()}}]),n}(pM),yM=function(){function e(t,n){var r=this;d(this,e),this._delegate=t,this.app=n,this.INTERNAL={delete:function(){return r._delegate._delete()},forceWebSockets:Xj,forceLongPolling:Zj}}return v(e,[{key:"useEmulator",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};eM(this._delegate,e,t,n)}},{key:"ref",value:function(e){if(so("database.ref",0,1,arguments.length),e instanceof vM){var t=ij(this._delegate,e.toString());return new vM(this,t)}var n=rj(this._delegate,e);return new vM(this,n)}},{key:"refFromURL",value:function(e){var t="database.refFromURL";so(t,1,1,arguments.length);var n=ij(this._delegate,e);return new vM(this,n)}},{key:"goOffline",value:function(){return so("database.goOffline",0,0,arguments.length),tM(this._delegate)}},{key:"goOnline",value:function(){return so("database.goOnline",0,0,arguments.length),nM(this._delegate)}}]),e}();yM.ServerValue={TIMESTAMP:iM,increment:function(e){return function(e){return{".sv":{increment:e}}}(e)}};var mM=Object.freeze({__proto__:null,initStandalone:function(e){var t=e.app,n=e.url,r=e.version,i=e.customAuthImpl,a=e.namespace,o=e.nodeAdmin,u=void 0!==o&&o;mO(r);var s=new mo("auth-internal",new bo("database-standalone"));return s.setComponent(new vo("auth-internal",(function(){return i}),"PRIVATE")),{instance:new yM(Yj(t,s,void 0,n,u),t),namespace:a}}}),gM=yM.ServerValue;!function(e){e.INTERNAL.registerComponent(new vo("database-compat",(function(e,t){var n=t.instanceIdentifier,r=e.getProvider("app-compat").getImmediate(),i=e.getProvider("database").getImmediate({identifier:n});return new yM(i,r)}),"PUBLIC").setServiceProps({Reference:vM,Query:pM,Database:yM,DataSnapshot:dM,enableLogging:rM,INTERNAL:mM,ServerValue:gM}).setMultipleInstances(!0)),e.registerVersion("@firebase/database-compat","0.2.6")}(sA);function kM(e,t){if(void 0===t)return{merge:!1};if(void 0!==t.mergeFields&&void 0!==t.merge)throw new fg("invalid-argument","Invalid options passed to function ".concat(e,"(): You cannot ")+'specify both "merge" and "mergeFields".');return t}function bM(){if("undefined"===typeof Uint8Array)throw new fg("unimplemented","Uint8Arrays are not available in this environment.")}function wM(){if("undefined"==typeof atob)throw new fg("unimplemented","Blobs are unavailable in Firestore in this environment.")}var _M=function(){function e(t){d(this,e),this._delegate=t}return v(e,[{key:"toBase64",value:function(){return wM(),this._delegate.toBase64()}},{key:"toUint8Array",value:function(){return bM(),this._delegate.toUint8Array()}},{key:"isEqual",value:function(e){return this._delegate.isEqual(e._delegate)}},{key:"toString",value:function(){return"Blob(base64: "+this.toBase64()+")"}}],[{key:"fromBase64String",value:function(t){return wM(),new e(LC.fromBase64String(t))}},{key:"fromUint8Array",value:function(t){return bM(),new e(LC.fromUint8Array(t))}}]),e}();function xM(e){return function(e,t){if("object"!==typeof e||null===e)return!1;var n,r=e,i=ka(t);try{for(i.s();!(n=i.n()).done;){var a=n.value;if(a in r&&"function"===typeof r[a])return!0}}catch(o){i.e(o)}finally{i.f()}return!1}(e,["next","error","complete"])}var EM=function(){function e(){d(this,e)}return v(e,[{key:"enableIndexedDbPersistence",value:function(e,t){return function(e,t){DC(e=fC(e,IC));var n=TC(e),r=e._freezeSettings(),i=new LT;return NC(n,i,new DT(i,r.cacheSizeBytes,null==t?void 0:t.forceOwnership))}(e._delegate,{forceOwnership:t})}},{key:"enableMultiTabIndexedDbPersistence",value:function(e){return function(e){DC(e=fC(e,IC));var t=TC(e),n=e._freezeSettings(),r=new LT;return NC(t,r,new FT(r,n.cacheSizeBytes))}(e._delegate)}},{key:"clearIndexedDbPersistence",value:function(e){return function(e){if(e._initialized&&!e._terminated)throw new fg(lg.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");var t=new hg;return e._queue.enqueueAndForgetEvenWhileRestricted(He(Ke().mark((function n(){return Ke().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,function(){var e=He(Ke().mark((function e(t){var n;return Ke().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Qg.C()){e.next=2;break}return e.abrupt("return",Promise.resolve());case 2:return n=t+"main",e.next=5,Qg.delete(n);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(OE(e._databaseId,e._persistenceKey));case 3:t.resolve(),n.next=9;break;case 6:n.prev=6,n.t0=n.catch(0),t.reject(n.t0);case 9:case"end":return n.stop()}}),n,null,[[0,6]])})))),t.promise}(e._delegate)}}]),e}(),SM=function(){function e(t,n,r){var i=this;d(this,e),this._delegate=n,this._persistenceProvider=r,this.INTERNAL={delete:function(){return i.terminate()}},t instanceof Ek||(this._appCompat=t)}return v(e,[{key:"_databaseId",get:function(){return this._delegate._databaseId}},{key:"settings",value:function(e){var t=this._delegate._getSettings();e.merge||t.host===e.host||ag("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},t),e)).merge,this._delegate._setSettings(e)}},{key:"useEmulator",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};vC(this._delegate,e,t,n)}},{key:"enableNetwork",value:function(){return AC(this._delegate)}},{key:"disableNetwork",value:function(){return OC(this._delegate)}},{key:"enablePersistence",value:function(e){var t=!1,n=!1;return e&&uC("synchronizeTabs",t=!!e.synchronizeTabs,"experimentalForceOwningTab",n=!!e.experimentalForceOwningTab),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,n)}},{key:"clearPersistence",value:function(){return this._persistenceProvider.clearIndexedDbPersistence(this)}},{key:"terminate",value:function(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}},{key:"waitForPendingWrites",value:function(){return function(e){return function(e){var t=new hg;return e.asyncQueue.enqueueAndForget(He(Ke().mark((function n(){return Ke().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.t0=eT,n.next=3,eC(e);case 3:return n.t1=n.sent,n.t2=t,n.abrupt("return",(0,n.t0)(n.t1,n.t2));case 6:case"end":return n.stop()}}),n)})))),t.promise}(TC(e=fC(e,IC)))}(this._delegate)}},{key:"onSnapshotsInSync",value:function(e){return QN(this._delegate,e)}},{key:"app",get:function(){if(!this._appCompat)throw new fg("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}},{key:"collection",value:function(e){try{return new UM(this,kC(this._delegate,e))}catch(t){throw OM(t,"collection()","Firestore.collection()")}}},{key:"doc",value:function(e){try{return new AM(this,bC(this._delegate,e))}catch(t){throw OM(t,"doc()","Firestore.doc()")}}},{key:"collectionGroup",value:function(e){try{return new LM(this,function(e,t){if(e=fC(e,pC),oC("collectionGroup","collection id",t),t.indexOf("/")>=0)throw new fg(lg.INVALID_ARGUMENT,"Invalid collection ID '".concat(t,"' passed to function collectionGroup(). Collection IDs must not contain '/'."));return new mC(e,null,function(e){return new bb(Ng.emptyPath(),e)}(t))}(this._delegate,e))}catch(t){throw OM(t,"collectionGroup()","Firestore.collectionGroup()")}}},{key:"runTransaction",value:function(e){var t=this;return ZN(this._delegate,(function(n){return e(new TM(t,n))}))}},{key:"batch",value:function(){var e=this;return TC(this._delegate),new CM(new VN(this._delegate,(function(t){return YN(e._delegate,t)})))}},{key:"loadBundle",value:function(e){return PC(this._delegate,e)}},{key:"namedQuery",value:function(e){var t=this;return RC(this._delegate,e).then((function(e){return e?new LM(t,e):null}))}}]),e}(),IM=function(e){m(n,e);var t=x(n);function n(e){var r;return d(this,n),(r=t.call(this)).firestore=e,r}return v(n,[{key:"convertBytes",value:function(e){return new _M(new LC(e))}},{key:"convertReference",value:function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return AM.forKey(t,this.firestore,null)}}]),n}(jN);var TM=function(){function e(t,n){d(this,e),this._firestore=t,this._delegate=n,this._userDataWriter=new IM(t)}return v(e,[{key:"get",value:function(e){var t=this,n=VM(e);return this._delegate.get(n).then((function(e){return new DM(t._firestore,new vN(t._firestore._delegate,t._userDataWriter,e._key,e._document,e.metadata,n.converter))}))}},{key:"set",value:function(e,t,n){var r=VM(e);return n?(kM("Transaction.set",n),this._delegate.set(r,t,n)):this._delegate.set(r,t),this}},{key:"update",value:function(e,t,n){for(var r=arguments.length,i=new Array(r>3?r-3:0),a=3;a<r;a++)i[a-3]=arguments[a];var o,u=VM(e);2===arguments.length?this._delegate.update(u,t):(o=this._delegate).update.apply(o,[u,t,n].concat(i));return this}},{key:"delete",value:function(e){var t=VM(e);return this._delegate.delete(t),this}}]),e}(),CM=function(){function e(t){d(this,e),this._delegate=t}return v(e,[{key:"set",value:function(e,t,n){var r=VM(e);return n?(kM("WriteBatch.set",n),this._delegate.set(r,t,n)):this._delegate.set(r,t),this}},{key:"update",value:function(e,t,n){for(var r=arguments.length,i=new Array(r>3?r-3:0),a=3;a<r;a++)i[a-3]=arguments[a];var o,u=VM(e);2===arguments.length?this._delegate.update(u,t):(o=this._delegate).update.apply(o,[u,t,n].concat(i));return this}},{key:"delete",value:function(e){var t=VM(e);return this._delegate.delete(t),this}},{key:"commit",value:function(){return this._delegate.commit()}}]),e}(),NM=function(){function e(t,n,r){d(this,e),this._firestore=t,this._userDataWriter=n,this._delegate=r}return v(e,[{key:"fromFirestore",value:function(e,t){var n=new yN(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new FM(this._firestore,n),null!==t&&void 0!==t?t:{})}},{key:"toFirestore",value:function(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}}],[{key:"getInstance",value:function(t,n){var r=e.INSTANCES,i=r.get(t);i||(i=new WeakMap,r.set(t,i));var a=i.get(n);return a||(a=new e(t,new IM(t),n),i.set(n,a)),a}}]),e}();NM.INSTANCES=new WeakMap;var AM=function(){function e(t,n){d(this,e),this.firestore=t,this._delegate=n,this._userDataWriter=new IM(t)}return v(e,[{key:"id",get:function(){return this._delegate.id}},{key:"parent",get:function(){return new UM(this.firestore,this._delegate.parent)}},{key:"path",get:function(){return this._delegate.path}},{key:"collection",value:function(e){try{return new UM(this.firestore,kC(this._delegate,e))}catch(t){throw OM(t,"collection()","DocumentReference.collection()")}}},{key:"isEqual",value:function(e){return(e=po(e))instanceof yC&&wC(this._delegate,e)}},{key:"set",value:function(e,t){t=kM("DocumentReference.set",t);try{return t?KN(this._delegate,e,t):KN(this._delegate,e)}catch(n){throw OM(n,"setDoc()","DocumentReference.set()")}}},{key:"update",value:function(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];try{return 1===arguments.length?GN(this._delegate,e):GN.apply(void 0,[this._delegate,e,t].concat(r))}catch(a){throw OM(a,"updateDoc()","DocumentReference.update()")}}},{key:"delete",value:function(){return function(e){return YN(fC(e.firestore,IC),[new vw(e._key,ew.none())])}(this._delegate)}},{key:"onSnapshot",value:function(){for(var e=this,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=PM(n),a=RM(n,(function(t){return new DM(e.firestore,new vN(e.firestore._delegate,e._userDataWriter,t._key,t._document,t.metadata,e._delegate.converter))}));return HN(this._delegate,i,a)}},{key:"get",value:function(e){var t,n=this;return t="cache"===(null===e||void 0===e?void 0:e.source)?zN(this._delegate):"server"===(null===e||void 0===e?void 0:e.source)?function(e){e=fC(e,yC);var t=fC(e.firestore,IC);return rC(TC(t),e._key,{source:"server"}).then((function(n){return $N(t,e,n)}))}(this._delegate):function(e){e=fC(e,yC);var t=fC(e.firestore,IC);return rC(TC(t),e._key).then((function(n){return $N(t,e,n)}))}(this._delegate),t.then((function(e){return new DM(n.firestore,new vN(n.firestore._delegate,n._userDataWriter,e._key,e._document,e.metadata,n._delegate.converter))}))}},{key:"withConverter",value:function(t){return new e(this.firestore,t?this._delegate.withConverter(NM.getInstance(this.firestore,t)):this._delegate.withConverter(null))}}],[{key:"forPath",value:function(t,n,r){if(t.length%2!==0)throw new fg("invalid-argument","Invalid document reference. Document references must have an even number of segments, but "+"".concat(t.canonicalString()," has ").concat(t.length));return new e(n,new yC(n._delegate,r,new Pg(t)))}},{key:"forKey",value:function(t,n,r){return new e(n,new yC(n._delegate,r,t))}}]),e}();function OM(e,t,n){return e.message=e.message.replace(t,n),e}function PM(e){var t,n=ka(e);try{for(n.s();!(t=n.n()).done;){var r=t.value;if("object"===typeof r&&!xM(r))return r}}catch(i){n.e(i)}finally{n.f()}return{}}function RM(e,t){var n,r,i;return{next:function(e){i.next&&i.next(t(e))},error:null===(n=(i=xM(e[0])?e[0]:xM(e[1])?e[1]:"function"===typeof e[0]?{next:e[0],error:e[1],complete:e[2]}:{next:e[1],error:e[2],complete:e[3]}).error)||void 0===n?void 0:n.bind(i),complete:null===(r=i.complete)||void 0===r?void 0:r.bind(i)}}var DM=function(){function e(t,n){d(this,e),this._firestore=t,this._delegate=n}return v(e,[{key:"ref",get:function(){return new AM(this._firestore,this._delegate.ref)}},{key:"id",get:function(){return this._delegate.id}},{key:"metadata",get:function(){return this._delegate.metadata}},{key:"exists",get:function(){return this._delegate.exists()}},{key:"data",value:function(e){return this._delegate.data(e)}},{key:"get",value:function(e,t){return this._delegate.get(e,t)}},{key:"isEqual",value:function(e){return kN(this._delegate,e._delegate)}}]),e}(),FM=function(e){m(n,e);var t=x(n);function n(){return d(this,n),t.apply(this,arguments)}return v(n,[{key:"data",value:function(e){var t=this._delegate.data(e);return function(e,t){e||ug()}(void 0!==t),t}}]),n}(DM),LM=function(){function e(t,n){d(this,e),this.firestore=t,this._delegate=n,this._userDataWriter=new IM(t)}return v(e,[{key:"where",value:function(t,n,r){try{return new e(this.firestore,_N(this._delegate,function(e,t,n){var r=t,i=dN("where",e);return new xN(i,r,n)}(t,n,r)))}catch(i){throw OM(i,/(orderBy|where)\(\)/,"Query.$1()")}}},{key:"orderBy",value:function(t,n){try{return new e(this.firestore,_N(this._delegate,function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc",n=dN("orderBy",e);return new EN(n,t)}(t,n)))}catch(r){throw OM(r,/(orderBy|where)\(\)/,"Query.$1()")}}},{key:"limit",value:function(t){try{return new e(this.firestore,_N(this._delegate,function(e){return hC("limit",e),new SN("limit",e,"F")}(t)))}catch(n){throw OM(n,"limit()","Query.limit()")}}},{key:"limitToLast",value:function(t){try{return new e(this.firestore,_N(this._delegate,function(e){return hC("limitToLast",e),new SN("limitToLast",e,"L")}(t)))}catch(n){throw OM(n,"limitToLast()","Query.limitToLast()")}}},{key:"startAt",value:function(){try{return new e(this.firestore,_N(this._delegate,TN.apply(void 0,arguments)))}catch(t){throw OM(t,"startAt()","Query.startAt()")}}},{key:"startAfter",value:function(){try{return new e(this.firestore,_N(this._delegate,CN.apply(void 0,arguments)))}catch(t){throw OM(t,"startAfter()","Query.startAfter()")}}},{key:"endBefore",value:function(){try{return new e(this.firestore,_N(this._delegate,AN.apply(void 0,arguments)))}catch(t){throw OM(t,"endBefore()","Query.endBefore()")}}},{key:"endAt",value:function(){try{return new e(this.firestore,_N(this._delegate,ON.apply(void 0,arguments)))}catch(t){throw OM(t,"endAt()","Query.endAt()")}}},{key:"isEqual",value:function(e){return _C(this._delegate,e._delegate)}},{key:"get",value:function(e){var t,n=this;return t="cache"===(null===e||void 0===e?void 0:e.source)?WN(this._delegate):"server"===(null===e||void 0===e?void 0:e.source)?function(e){e=fC(e,mC);var t=fC(e.firestore,IC),n=TC(t),r=new BN(t);return iC(n,e._query,{source:"server"}).then((function(n){return new mN(t,r,e,n)}))}(this._delegate):function(e){e=fC(e,mC);var t=fC(e.firestore,IC),n=TC(t),r=new BN(t);return bN(e._query),iC(n,e._query).then((function(n){return new mN(t,r,e,n)}))}(this._delegate),t.then((function(e){return new MM(n.firestore,new mN(n.firestore._delegate,n._userDataWriter,n._delegate,e._snapshot))}))}},{key:"onSnapshot",value:function(){for(var e=this,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=PM(n),a=RM(n,(function(t){return new MM(e.firestore,new mN(e.firestore._delegate,e._userDataWriter,e._delegate,t._snapshot))}));return HN(this._delegate,i,a)}},{key:"withConverter",value:function(t){return new e(this.firestore,t?this._delegate.withConverter(NM.getInstance(this.firestore,t)):this._delegate.withConverter(null))}}]),e}(),jM=function(){function e(t,n){d(this,e),this._firestore=t,this._delegate=n}return v(e,[{key:"type",get:function(){return this._delegate.type}},{key:"doc",get:function(){return new FM(this._firestore,this._delegate.doc)}},{key:"oldIndex",get:function(){return this._delegate.oldIndex}},{key:"newIndex",get:function(){return this._delegate.newIndex}}]),e}(),MM=function(){function e(t,n){d(this,e),this._firestore=t,this._delegate=n}return v(e,[{key:"query",get:function(){return new LM(this._firestore,this._delegate.query)}},{key:"metadata",get:function(){return this._delegate.metadata}},{key:"size",get:function(){return this._delegate.size}},{key:"empty",get:function(){return this._delegate.empty}},{key:"docs",get:function(){var e=this;return this._delegate.docs.map((function(t){return new FM(e._firestore,t)}))}},{key:"docChanges",value:function(e){var t=this;return this._delegate.docChanges(e).map((function(e){return new jM(t._firestore,e)}))}},{key:"forEach",value:function(e,t){var n=this;this._delegate.forEach((function(r){e.call(t,new FM(n._firestore,r))}))}},{key:"isEqual",value:function(e){return kN(this._delegate,e._delegate)}}]),e}(),UM=function(e){m(n,e);var t=x(n);function n(e,r){var i;return d(this,n),(i=t.call(this,e,r)).firestore=e,i._delegate=r,i}return v(n,[{key:"id",get:function(){return this._delegate.id}},{key:"path",get:function(){return this._delegate.path}},{key:"parent",get:function(){var e=this._delegate.parent;return e?new AM(this.firestore,e):null}},{key:"doc",value:function(e){try{return new AM(this.firestore,void 0===e?bC(this._delegate):bC(this._delegate,e))}catch(t){throw OM(t,"doc()","CollectionReference.doc()")}}},{key:"add",value:function(e){var t=this;return function(e,t){var n=fC(e.firestore,IC),r=bC(e),i=MN(e.converter,t);return YN(n,[GC(KC(e.firestore),"addDoc",r._key,i,null!==e.converter,{}).toMutation(r._key,ew.exists(!1))]).then((function(){return r}))}(this._delegate,e).then((function(e){return new AM(t.firestore,e)}))}},{key:"isEqual",value:function(e){return wC(this._delegate,e._delegate)}},{key:"withConverter",value:function(e){return new n(this.firestore,e?this._delegate.withConverter(NM.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}]),n}(LM);function VM(e){return fC(e,yC)}var qM=function(){function e(){d(this,e);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];this._delegate=E(FC,n)}return v(e,[{key:"isEqual",value:function(e){return(e=po(e))instanceof FC&&this._delegate._internalPath.isEqual(e._internalPath)}}],[{key:"documentId",value:function(){return new e(Og.keyField().canonicalString())}}]),e}(),BM=function(){function e(t){d(this,e),this._delegate=t}return v(e,[{key:"isEqual",value:function(e){return this._delegate.isEqual(e._delegate)}}],[{key:"serverTimestamp",value:function(){var t=new YC("serverTimestamp");return t._methodName="FieldValue.serverTimestamp",new e(t)}},{key:"delete",value:function(){var t=new HC("deleteField");return t._methodName="FieldValue.delete",new e(t)}},{key:"arrayUnion",value:function(){var t=eA.apply(void 0,arguments);return t._methodName="FieldValue.arrayUnion",new e(t)}},{key:"arrayRemove",value:function(){var t=tA.apply(void 0,arguments);return t._methodName="FieldValue.arrayRemove",new e(t)}},{key:"increment",value:function(t){var n=function(e){return new XC("increment",e)}(t);return n._methodName="FieldValue.increment",new e(n)}}]),e}(),zM={Firestore:SM,GeoPoint:MC,Timestamp:Ig,Blob:_M,Transaction:TM,WriteBatch:CM,DocumentReference:AM,DocumentSnapshot:DM,Query:LM,QueryDocumentSnapshot:FM,QuerySnapshot:MM,CollectionReference:UM,FieldPath:qM,FieldValue:BM,setLogLevel:function(e){!function(e){tg.setLogLevel(e)}(e)},CACHE_SIZE_UNLIMITED:-1};!function(e){!function(e,t){e.INTERNAL.registerComponent(new vo("firestore-compat",(function(e){var n=e.getProvider("app-compat").getImmediate(),r=e.getProvider("firestore").getImmediate();return t(n,r)}),"PUBLIC").setServiceProps(Object.assign({},zM)))}(e,(function(e,t){return new SM(e,t,new EM)})),e.registerVersion("@firebase/firestore-compat","0.1.25")}(sA);sA.registerVersion("firebase","9.10.0","app-compat");var WM={apiKey:"AIzaSyDN07lGFjcBYAmcXZlcD43hrk6jpqHtbtg",authDomain:"hotskins-23b4c.firebaseapp.com",projectId:"hotskins-23b4c",storageBucket:"hotskins-23b4c.appspot.com",messagingSenderId:"438463365403",appId:"1:438463365403:web:b07b7df54c5db86d4c13be"};sA.initializeApp(WM);var KM=fu(WM),GM=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:hu(),t=iu(e,"auth");return t.isInitialized()?t.getImmediate():ls(e,{popupRedirectResolver:Vd,persistence:[th,Af,Pf]})}(KM),HM=(function(e,t){var n="string"==typeof e?e:t||"(default)";iu("object"==typeof e?e:hu(),"firestore").getImmediate({identifier:n})}(KM),function(e){sA.database().ref("users/".concat(e.uid)).set(e).catch((function(e){console.log(e.message)}))}),QM=function(e,t){sA.database().ref("users/".concat(e,"/balance")).set(Number(t)).catch((function(e){console.log(e.message)}))},YM=function(e,t){sA.database().ref("users/".concat(e,"/inventory")).set(t).catch((function(e){console.log(e.message)}))},$M=function(){var e=He(Ke().mark((function e(t,n,r){var i,a,o;return Ke().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Jl(GM,n,r);case 3:i=e.sent,a=i.user,o={uid:a.uid,username:t,email:n,balance:1e4,luckyChance:0,inventory:[]},HM(o),e.next=12;break;case 9:return e.prev=9,e.t0=e.catch(0),e.abrupt("return",e.t0.code);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t,n,r){return e.apply(this,arguments)}}(),JM=function(){var e=He(Ke().mark((function e(t,n){var r;return Ke().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Zl(GM,t,n);case 3:e.next=9;break;case 5:return e.prev=5,e.t0=e.catch(0),r=e.t0.message,e.abrupt("return",r);case 9:case"end":return e.stop()}}),e,null,[[0,5]])})));return function(t,n){return e.apply(this,arguments)}}(),XM=function(){!function(e){po(e).signOut()}(GM)};function ZM(e,t,n,r){return new(n||(n=Promise))((function(i,a){function o(e){try{s(r.next(e))}catch(t){a(t)}}function u(e){try{s(r.throw(e))}catch(t){a(t)}}function s(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,u)}s((r=r.apply(e,t||[])).next())}))}function eU(e,t){var n,r,i,a,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return a={next:u(0),throw:u(1),return:u(2)},"function"===typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function u(a){return function(u){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,r&&(i=2&a[0]?r.return:a[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,a[1])).done)return i;switch(r=0,i&&(a=[2&a[0],i.value]),a[0]){case 0:case 1:i=a;break;case 4:return o.label++,{value:a[1],done:!1};case 5:o.label++,r=a[1],a=[0];continue;case 7:a=o.ops.pop(),o.trys.pop();continue;default:if(!(i=(i=o.trys).length>0&&i[i.length-1])&&(6===a[0]||2===a[0])){o=0;continue}if(3===a[0]&&(!i||a[1]>i[0]&&a[1]<i[3])){o.label=a[1];break}if(6===a[0]&&o.label<i[1]){o.label=i[1],i=a;break}if(i&&o.label<i[2]){o.label=i[2],o.ops.push(a);break}i[2]&&o.ops.pop(),o.trys.pop();continue}a=t.call(e,o)}catch(u){a=[6,u],r=0}finally{n=i=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,u])}}}var tU,nU,rU=function(){return rU=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},rU.apply(this,arguments)},iU=function(e){return{loading:void 0===e||null===e,value:e}},aU=function(e){var t=e?e():void 0,n=(0,r.useReducer)((function(e,t){switch(t.type){case"error":return rU(rU({},e),{error:t.error,loading:!1,value:void 0});case"reset":return iU(t.defaultValue);case"value":return rU(rU({},e),{error:void 0,loading:!1,value:t.value});default:return e}}),iU(t)),i=n[0],a=n[1],o=function(){var t=e?e():void 0;a({type:"reset",defaultValue:t})},u=function(e){a({type:"error",error:e})},s=function(e){a({type:"value",value:e})};return(0,r.useMemo)((function(){return{error:i.error,loading:i.loading,reset:o,setError:u,setValue:s,value:i.value}}),[i.error,i.loading,o,u,s,i.value])},oU=function(e,t){var n=aU((function(){return e.currentUser})),i=n.error,a=n.loading,o=n.setError,u=n.setValue,s=n.value;(0,r.useEffect)((function(){var n=bf(e,(function(e){return ZM(void 0,void 0,void 0,(function(){var n;return eU(this,(function(r){switch(r.label){case 0:if(!(null===t||void 0===t?void 0:t.onUserChanged))return[3,4];r.label=1;case 1:return r.trys.push([1,3,,4]),[4,t.onUserChanged(e)];case 2:return r.sent(),[3,4];case 3:return n=r.sent(),o(n),[3,4];case 4:return u(e),[2]}}))}))}),o);return function(){n()}}),[e]);var c=[s,a,i];return(0,r.useMemo)((function(){return c}),c)},uU=function(){return l(oU(GM),1)[0]};try{tU=Map}catch(iq){}try{nU=Set}catch(iq){}function sU(e,t,n){if(!e||"object"!==typeof e||"function"===typeof e)return e;if(e.nodeType&&"cloneNode"in e)return e.cloneNode(!0);if(e instanceof Date)return new Date(e.getTime());if(e instanceof RegExp)return new RegExp(e);if(Array.isArray(e))return e.map(cU);if(tU&&e instanceof tU)return new Map(Array.from(e.entries()));if(nU&&e instanceof nU)return new Set(Array.from(e.values()));if(e instanceof Object){t.push(e);var r=Object.create(e);for(var i in n.push(r),e){var a=t.findIndex((function(t){return t===e[i]}));r[i]=a>-1?n[a]:sU(e[i],t,n)}return r}return e}function cU(e){return sU(e,[],[])}var lU=Object.prototype.toString,fU=Error.prototype.toString,hU=RegExp.prototype.toString,dU="undefined"!==typeof Symbol?Symbol.prototype.toString:function(){return""},pU=/^Symbol\((.*)\)(.*)$/;function vU(e){return e!=+e?"NaN":0===e&&1/e<0?"-0":""+e}function yU(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(null==e||!0===e||!1===e)return""+e;var n=typeof e;if("number"===n)return vU(e);if("string"===n)return t?'"'.concat(e,'"'):e;if("function"===n)return"[Function "+(e.name||"anonymous")+"]";if("symbol"===n)return dU.call(e).replace(pU,"Symbol($1)");var r=lU.call(e).slice(8,-1);return"Date"===r?isNaN(e.getTime())?""+e:e.toISOString(e):"Error"===r||e instanceof Error?"["+fU.call(e)+"]":"RegExp"===r?hU.call(e):null}function mU(e,t){var n=yU(e,t);return null!==n?n:JSON.stringify(e,(function(e,n){var r=yU(this[e],t);return null!==r?r:n}),2)}var gU={default:"${path} is invalid",required:"${path} is a required field",oneOf:"${path} must be one of the following values: ${values}",notOneOf:"${path} must not be one of the following values: ${values}",notType:function(e){var t=e.path,n=e.type,r=e.value,i=e.originalValue,a=null!=i&&i!==r,o="".concat(t," must be a `").concat(n,"` type, ")+"but the final value was: `".concat(mU(r,!0),"`")+(a?" (cast from the value `".concat(mU(i,!0),"`)."):".");return null===r&&(o+='\n If "null" is intended as an empty value be sure to mark the schema as `.nullable()`'),o},defined:"${path} must be defined"},kU={length:"${path} must be exactly ${length} characters",min:"${path} must be at least ${min} characters",max:"${path} must be at most ${max} characters",matches:'${path} must match the following: "${regex}"',email:"${path} must be a valid email",url:"${path} must be a valid URL",uuid:"${path} must be a valid UUID",trim:"${path} must be a trimmed string",lowercase:"${path} must be a lowercase string",uppercase:"${path} must be a upper case string"},bU={min:"${path} must be greater than or equal to ${min}",max:"${path} must be less than or equal to ${max}",lessThan:"${path} must be less than ${less}",moreThan:"${path} must be greater than ${more}",positive:"${path} must be a positive number",negative:"${path} must be a negative number",integer:"${path} must be an integer"},wU={min:"${path} field must be later than ${min}",max:"${path} field must be at earlier than ${max}"},_U={isValue:"${path} field must be ${value}"},xU={noUnknown:"${path} field has unspecified keys: ${unknown}"},EU={min:"${path} field must have at least ${min} items",max:"${path} field must have less than or equal to ${max} items",length:"${path} must have ${length} items"},SU=(Object.assign(Object.create(null),{mixed:gU,string:kU,number:bU,date:wU,object:xU,array:EU,boolean:_U}),n(7805)),IU=n.n(SU),TU=function(e){return e&&e.__isYupSchema__},CU=function(){function e(t,n){if(d(this,e),this.fn=void 0,this.refs=t,this.refs=t,"function"!==typeof n){if(!IU()(n,"is"))throw new TypeError("`is:` is required for `when()` conditions");if(!n.then&&!n.otherwise)throw new TypeError("either `then:` or `otherwise:` is required for `when()` conditions");var r=n.is,i=n.then,a=n.otherwise,o="function"===typeof r?r:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.every((function(e){return e===r}))};this.fn=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=t.pop(),u=t.pop(),s=o.apply(void 0,t)?i:a;if(s)return"function"===typeof s?s(u):u.concat(s.resolve(r))}}else this.fn=n}return v(e,[{key:"resolve",value:function(e,t){var n=this.refs.map((function(e){return e.getValue(null==t?void 0:t.value,null==t?void 0:t.parent,null==t?void 0:t.context)})),r=this.fn.apply(e,n.concat(e,t));if(void 0===r||r===e)return e;if(!TU(r))throw new TypeError("conditions must return a schema object");return r.resolve(t)}}]),e}(),NU=CU;function AU(e){return null==e?[]:[].concat(e)}function OU(){return OU=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},OU.apply(this,arguments)}var PU=/\$\{\s*(\w+)\s*\}/g,RU=function(e){m(n,e);var t=x(n);function n(e,r,i,a){var o;return d(this,n),(o=t.call(this)).value=void 0,o.path=void 0,o.type=void 0,o.errors=void 0,o.params=void 0,o.inner=void 0,o.name="ValidationError",o.value=r,o.path=i,o.type=a,o.errors=[],o.inner=[],AU(e).forEach((function(e){var t;n.isError(e)?((t=o.errors).push.apply(t,h(e.errors)),o.inner=o.inner.concat(e.inner.length?e.inner:e)):o.errors.push(e)})),o.message=o.errors.length>1?"".concat(o.errors.length," errors occurred"):o.errors[0],Error.captureStackTrace&&Error.captureStackTrace(w(o),n),o}return v(n,null,[{key:"formatError",value:function(e,t){var n=t.label||t.path||"this";return n!==t.path&&(t=OU({},t,{path:n})),"string"===typeof e?e.replace(PU,(function(e,n){return mU(t[n])})):"function"===typeof e?e(t):e}},{key:"isError",value:function(e){return e&&"ValidationError"===e.name}}]),n}(S(Error));function DU(e,t){var n=e.endEarly,r=e.tests,i=e.args,a=e.value,o=e.errors,u=e.sort,s=e.path,c=function(e){var t=!1;return function(){t||(t=!0,e.apply(void 0,arguments))}}(t),l=r.length,f=[];if(o=o||[],!l)return o.length?c(new RU(o,a,s)):c(null,a);for(var d=0;d<r.length;d++){(0,r[d])(i,(function(e){if(e){if(!RU.isError(e))return c(e,a);if(n)return e.value=a,c(e,a);f.push(e)}if(--l<=0){if(f.length&&(u&&f.sort(u),o.length&&f.push.apply(f,h(o)),o=f),o.length)return void c(new RU(o,a,s),a);c(null,a)}}))}}var FU=n(7702),LU=n.n(FU),jU=n(2758),MU="$",UU=".";var VU=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(d(this,e),this.key=void 0,this.isContext=void 0,this.isValue=void 0,this.isSibling=void 0,this.path=void 0,this.getter=void 0,this.map=void 0,"string"!==typeof t)throw new TypeError("ref must be a string, got: "+t);if(this.key=t.trim(),""===t)throw new TypeError("ref must be a non-empty string");this.isContext=this.key[0]===MU,this.isValue=this.key[0]===UU,this.isSibling=!this.isContext&&!this.isValue;var r=this.isContext?MU:this.isValue?UU:"";this.path=this.key.slice(r.length),this.getter=this.path&&(0,jU.getter)(this.path,!0),this.map=n.map}return v(e,[{key:"getValue",value:function(e,t,n){var r=this.isContext?n:this.isValue?e:t;return this.getter&&(r=this.getter(r||{})),this.map&&(r=this.map(r)),r}},{key:"cast",value:function(e,t){return this.getValue(e,null==t?void 0:t.parent,null==t?void 0:t.context)}},{key:"resolve",value:function(){return this}},{key:"describe",value:function(){return{type:"ref",key:this.key}}},{key:"toString",value:function(){return"Ref(".concat(this.key,")")}}],[{key:"isRef",value:function(e){return e&&e.__isYupRef}}]),e}();function qU(){return qU=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},qU.apply(this,arguments)}function BU(e){function t(t,n){var r=t.value,i=t.path,a=void 0===i?"":i,o=t.label,u=t.options,s=t.originalValue,c=t.sync,l=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(t,["value","path","label","options","originalValue","sync"]),f=e.name,h=e.test,d=e.params,p=e.message,v=u.parent,y=u.context;function m(e){return VU.isRef(e)?e.getValue(r,v,y):e}function g(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=LU()(qU({value:r,originalValue:s,label:o,path:e.path||a},d,e.params),m),n=new RU(RU.formatError(e.message||p,t),r,t.path,e.type||f);return n.params=t,n}var k=qU({path:a,parent:v,type:f,createError:g,resolve:m,options:u,originalValue:s},l);if(c){var b;try{var w;if("function"===typeof(null==(w=b=h.call(k,r,k))?void 0:w.then))throw new Error('Validation test of type: "'.concat(k.type,'" returned a Promise during a synchronous validate. ')+"This test will finish after the validate call has returned")}catch(_){return void n(_)}RU.isError(b)?n(b):b?n(null,b):n(g())}else try{Promise.resolve(h.call(k,r,k)).then((function(e){RU.isError(e)?n(e):e?n(null,e):n(g())})).catch(n)}catch(_){n(_)}}return t.OPTIONS=e,t}VU.prototype.__isYupRef=!0;var zU=function(e){return e.substr(0,e.length-1).substr(1)};function WU(e,t,n){var r,i,a,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:n;return t?((0,jU.forEach)(t,(function(u,s,c){var l=s?zU(u):u;if((e=e.resolve({context:o,parent:r,value:n})).innerType){var f=c?parseInt(l,10):0;if(n&&f>=n.length)throw new Error("Yup.reach cannot resolve an array item at index: ".concat(u,", in the path: ").concat(t,". ")+"because there is no value at that index. ");r=n,n=n&&n[f],e=e.innerType}if(!c){if(!e.fields||!e.fields[l])throw new Error("The schema does not contain the path: ".concat(t,". ")+"(failed at: ".concat(a,' which is a type: "').concat(e._type,'")'));r=n,n=n&&n[l],e=e.fields[l]}i=l,a=s?"["+u+"]":"."+u})),{schema:e,parent:r,parentPath:i}):{parent:r,parentPath:t,schema:e}}var KU=function(){function e(){d(this,e),this.list=void 0,this.refs=void 0,this.list=new Set,this.refs=new Map}return v(e,[{key:"size",get:function(){return this.list.size+this.refs.size}},{key:"describe",value:function(){var e,t=[],n=ka(this.list);try{for(n.s();!(e=n.n()).done;){var r=e.value;t.push(r)}}catch(u){n.e(u)}finally{n.f()}var i,a=ka(this.refs);try{for(a.s();!(i=a.n()).done;){var o=l(i.value,2)[1];t.push(o.describe())}}catch(u){a.e(u)}finally{a.f()}return t}},{key:"toArray",value:function(){return Array.from(this.list).concat(Array.from(this.refs.values()))}},{key:"resolveAll",value:function(e){return this.toArray().reduce((function(t,n){return t.concat(VU.isRef(n)?e(n):n)}),[])}},{key:"add",value:function(e){VU.isRef(e)?this.refs.set(e.key,e):this.list.add(e)}},{key:"delete",value:function(e){VU.isRef(e)?this.refs.delete(e.key):this.list.delete(e)}},{key:"clone",value:function(){var t=new e;return t.list=new Set(this.list),t.refs=new Map(this.refs),t}},{key:"merge",value:function(e,t){var n=this.clone();return e.list.forEach((function(e){return n.add(e)})),e.refs.forEach((function(e){return n.add(e)})),t.list.forEach((function(e){return n.delete(e)})),t.refs.forEach((function(e){return n.delete(e)})),n}}]),e}();function GU(){return GU=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},GU.apply(this,arguments)}var HU=function(){function e(t){var n=this;d(this,e),this.deps=[],this.tests=void 0,this.transforms=void 0,this.conditions=[],this._mutate=void 0,this._typeError=void 0,this._whitelist=new KU,this._blacklist=new KU,this.exclusiveTests=Object.create(null),this.spec=void 0,this.tests=[],this.transforms=[],this.withMutation((function(){n.typeError(gU.notType)})),this.type=(null==t?void 0:t.type)||"mixed",this.spec=GU({strip:!1,strict:!1,abortEarly:!0,recursive:!0,nullable:!1,presence:"optional"},null==t?void 0:t.spec)}return v(e,[{key:"_type",get:function(){return this.type}},{key:"_typeCheck",value:function(e){return!0}},{key:"clone",value:function(e){if(this._mutate)return e&&Object.assign(this.spec,e),this;var t=Object.create(Object.getPrototypeOf(this));return t.type=this.type,t._typeError=this._typeError,t._whitelistError=this._whitelistError,t._blacklistError=this._blacklistError,t._whitelist=this._whitelist.clone(),t._blacklist=this._blacklist.clone(),t.exclusiveTests=GU({},this.exclusiveTests),t.deps=h(this.deps),t.conditions=h(this.conditions),t.tests=h(this.tests),t.transforms=h(this.transforms),t.spec=cU(GU({},this.spec,e)),t}},{key:"label",value:function(e){var t=this.clone();return t.spec.label=e,t}},{key:"meta",value:function(){if(0===arguments.length)return this.spec.meta;var e=this.clone();return e.spec.meta=Object.assign(e.spec.meta||{},arguments.length<=0?void 0:arguments[0]),e}},{key:"withMutation",value:function(e){var t=this._mutate;this._mutate=!0;var n=e(this);return this._mutate=t,n}},{key:"concat",value:function(e){if(!e||e===this)return this;if(e.type!==this.type&&"mixed"!==this.type)throw new TypeError("You cannot `concat()` schema's of different types: ".concat(this.type," and ").concat(e.type));var t=this,n=e.clone(),r=GU({},t.spec,n.spec);return n.spec=r,n._typeError||(n._typeError=t._typeError),n._whitelistError||(n._whitelistError=t._whitelistError),n._blacklistError||(n._blacklistError=t._blacklistError),n._whitelist=t._whitelist.merge(e._whitelist,e._blacklist),n._blacklist=t._blacklist.merge(e._blacklist,e._whitelist),n.tests=t.tests,n.exclusiveTests=t.exclusiveTests,n.withMutation((function(t){e.tests.forEach((function(e){t.test(e.OPTIONS)}))})),n.transforms=[].concat(h(t.transforms),h(n.transforms)),n}},{key:"isType",value:function(e){return!(!this.spec.nullable||null!==e)||this._typeCheck(e)}},{key:"resolve",value:function(e){var t=this;if(t.conditions.length){var n=t.conditions;(t=t.clone()).conditions=[],t=(t=n.reduce((function(t,n){return n.resolve(t,e)}),t)).resolve(e)}return t}},{key:"cast",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=this.resolve(GU({value:e},t)),r=n._cast(e,t);if(void 0!==e&&!1!==t.assert&&!0!==n.isType(r)){var i=mU(e),a=mU(r);throw new TypeError("The value of ".concat(t.path||"field"," could not be cast to a value ")+'that satisfies the schema type: "'.concat(n._type,'". \n\n')+"attempted value: ".concat(i," \n")+(a!==i?"result of cast: ".concat(a):""))}return r}},{key:"_cast",value:function(e,t){var n=this,r=void 0===e?e:this.transforms.reduce((function(t,r){return r.call(n,t,e,n)}),e);return void 0===r&&(r=this.getDefault()),r}},{key:"_validate",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2?arguments[2]:void 0,i=n.sync,a=n.path,o=n.from,u=void 0===o?[]:o,s=n.originalValue,c=void 0===s?e:s,l=n.strict,f=void 0===l?this.spec.strict:l,h=n.abortEarly,d=void 0===h?this.spec.abortEarly:h,p=e;f||(p=this._cast(p,GU({assert:!1},n)));var v={value:p,path:a,options:n,originalValue:c,schema:this,label:this.spec.label,sync:i,from:u},y=[];this._typeError&&y.push(this._typeError);var m=[];this._whitelistError&&m.push(this._whitelistError),this._blacklistError&&m.push(this._blacklistError),DU({args:v,value:p,path:a,sync:i,tests:y,endEarly:d},(function(e){e?r(e,p):DU({tests:t.tests.concat(m),args:v,path:a,sync:i,value:p,endEarly:d},r)}))}},{key:"validate",value:function(e,t,n){var r=this.resolve(GU({},t,{value:e}));return"function"===typeof n?r._validate(e,t,n):new Promise((function(n,i){return r._validate(e,t,(function(e,t){e?i(e):n(t)}))}))}},{key:"validateSync",value:function(e,t){var n;return this.resolve(GU({},t,{value:e}))._validate(e,GU({},t,{sync:!0}),(function(e,t){if(e)throw e;n=t})),n}},{key:"isValid",value:function(e,t){return this.validate(e,t).then((function(){return!0}),(function(e){if(RU.isError(e))return!1;throw e}))}},{key:"isValidSync",value:function(e,t){try{return this.validateSync(e,t),!0}catch(n){if(RU.isError(n))return!1;throw n}}},{key:"_getDefault",value:function(){var e=this.spec.default;return null==e?e:"function"===typeof e?e.call(this):cU(e)}},{key:"getDefault",value:function(e){return this.resolve(e||{})._getDefault()}},{key:"default",value:function(e){if(0===arguments.length)return this._getDefault();var t=this.clone({default:e});return t}},{key:"strict",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=this.clone();return t.spec.strict=e,t}},{key:"_isPresent",value:function(e){return null!=e}},{key:"defined",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:gU.defined;return this.test({message:e,name:"defined",exclusive:!0,test:function(e){return void 0!==e}})}},{key:"required",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:gU.required;return this.clone({presence:"required"}).withMutation((function(t){return t.test({message:e,name:"required",exclusive:!0,test:function(e){return this.schema._isPresent(e)}})}))}},{key:"notRequired",value:function(){var e=this.clone({presence:"optional"});return e.tests=e.tests.filter((function(e){return"required"!==e.OPTIONS.name})),e}},{key:"nullable",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=this.clone({nullable:!1!==e});return t}},{key:"transform",value:function(e){var t=this.clone();return t.transforms.push(e),t}},{key:"test",value:function(){var e;if(void 0===(e=1===arguments.length?"function"===typeof(arguments.length<=0?void 0:arguments[0])?{test:arguments.length<=0?void 0:arguments[0]}:arguments.length<=0?void 0:arguments[0]:2===arguments.length?{name:arguments.length<=0?void 0:arguments[0],test:arguments.length<=1?void 0:arguments[1]}:{name:arguments.length<=0?void 0:arguments[0],message:arguments.length<=1?void 0:arguments[1],test:arguments.length<=2?void 0:arguments[2]}).message&&(e.message=gU.default),"function"!==typeof e.test)throw new TypeError("`test` is a required parameters");var t=this.clone(),n=BU(e),r=e.exclusive||e.name&&!0===t.exclusiveTests[e.name];if(e.exclusive&&!e.name)throw new TypeError("Exclusive tests must provide a unique `name` identifying the test");return e.name&&(t.exclusiveTests[e.name]=!!e.exclusive),t.tests=t.tests.filter((function(t){if(t.OPTIONS.name===e.name){if(r)return!1;if(t.OPTIONS.test===n.OPTIONS.test)return!1}return!0})),t.tests.push(n),t}},{key:"when",value:function(e,t){Array.isArray(e)||"string"===typeof e||(t=e,e=".");var n=this.clone(),r=AU(e).map((function(e){return new VU(e)}));return r.forEach((function(e){e.isSibling&&n.deps.push(e.key)})),n.conditions.push(new NU(r,t)),n}},{key:"typeError",value:function(e){var t=this.clone();return t._typeError=BU({message:e,name:"typeError",test:function(e){return!(void 0!==e&&!this.schema.isType(e))||this.createError({params:{type:this.schema._type}})}}),t}},{key:"oneOf",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:gU.oneOf,n=this.clone();return e.forEach((function(e){n._whitelist.add(e),n._blacklist.delete(e)})),n._whitelistError=BU({message:t,name:"oneOf",test:function(e){if(void 0===e)return!0;var t=this.schema._whitelist,n=t.resolveAll(this.resolve);return!!n.includes(e)||this.createError({params:{values:t.toArray().join(", "),resolved:n}})}}),n}},{key:"notOneOf",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:gU.notOneOf,n=this.clone();return e.forEach((function(e){n._blacklist.add(e),n._whitelist.delete(e)})),n._blacklistError=BU({message:t,name:"notOneOf",test:function(e){var t=this.schema._blacklist,n=t.resolveAll(this.resolve);return!n.includes(e)||this.createError({params:{values:t.toArray().join(", "),resolved:n}})}}),n}},{key:"strip",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=this.clone();return t.spec.strip=e,t}},{key:"describe",value:function(){var e=this.clone(),t=e.spec,n=t.label,r={meta:t.meta,label:n,type:e.type,oneOf:e._whitelist.describe(),notOneOf:e._blacklist.describe(),tests:e.tests.map((function(e){return{name:e.OPTIONS.name,params:e.OPTIONS.params}})).filter((function(e,t,n){return n.findIndex((function(t){return t.name===e.name}))===t}))};return r}}]),e}();HU.prototype.__isYupSchema__=!0;for(var QU=function(){var e=$U[YU];HU.prototype["".concat(e,"At")]=function(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=WU(this,t,n,r.context),a=i.parent,o=i.parentPath,u=i.schema;return u[e](a&&a[o],GU({},r,{parent:a,path:t}))}},YU=0,$U=["validate","validateSync"];YU<$U.length;YU++)QU();for(var JU=0,XU=["equals","is"];JU<XU.length;JU++){var ZU=XU[JU];HU.prototype[ZU]=HU.prototype.oneOf}for(var eV=0,tV=["not","nope"];eV<tV.length;eV++){var nV=tV[eV];HU.prototype[nV]=HU.prototype.notOneOf}HU.prototype.optional=HU.prototype.notRequired;var rV=HU;rV.prototype;var iV=function(e){return null==e};var aV=function(e){m(n,e);var t=x(n);function n(){var e;return d(this,n),(e=t.call(this,{type:"boolean"})).withMutation((function(){e.transform((function(e){if(!this.isType(e)){if(/^(true|1)$/i.test(String(e)))return!0;if(/^(false|0)$/i.test(String(e)))return!1}return e}))})),e}return v(n,[{key:"_typeCheck",value:function(e){return e instanceof Boolean&&(e=e.valueOf()),"boolean"===typeof e}},{key:"isTrue",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:_U.isValue;return this.test({message:e,name:"is-value",exclusive:!0,params:{value:"true"},test:function(e){return iV(e)||!0===e}})}},{key:"isFalse",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:_U.isValue;return this.test({message:e,name:"is-value",exclusive:!0,params:{value:"false"},test:function(e){return iV(e)||!1===e}})}}]),n}(HU);aV.prototype;var oV=/^((([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+(\.([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+)*)|((\x22)((((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(([\x01-\x08\x0b\x0c\x0e-\x1f\x7f]|\x21|[\x23-\x5b]|[\x5d-\x7e]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(\\([\x01-\x09\x0b\x0c\x0d-\x7f]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]))))*(((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(\x22)))@((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))$/i,uV=/^((https?|ftp):)?\/\/(((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:)*@)?(((\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5]))|((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?)(:\d*)?)(\/((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)+(\/(([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)*)*)?)?(\?((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|[\uE000-\uF8FF]|\/|\?)*)?(\#((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|\/|\?)*)?$/i,sV=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i,cV=function(e){return iV(e)||e===e.trim()},lV={}.toString();function fV(){return new hV}var hV=function(e){m(n,e);var t=x(n);function n(){var e;return d(this,n),(e=t.call(this,{type:"string"})).withMutation((function(){e.transform((function(e){if(this.isType(e))return e;if(Array.isArray(e))return e;var t=null!=e&&e.toString?e.toString():e;return t===lV?e:t}))})),e}return v(n,[{key:"_typeCheck",value:function(e){return e instanceof String&&(e=e.valueOf()),"string"===typeof e}},{key:"_isPresent",value:function(e){return Du(g(n.prototype),"_isPresent",this).call(this,e)&&!!e.length}},{key:"length",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:kU.length;return this.test({message:t,name:"length",exclusive:!0,params:{length:e},test:function(t){return iV(t)||t.length===this.resolve(e)}})}},{key:"min",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:kU.min;return this.test({message:t,name:"min",exclusive:!0,params:{min:e},test:function(t){return iV(t)||t.length>=this.resolve(e)}})}},{key:"max",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:kU.max;return this.test({name:"max",exclusive:!0,message:t,params:{max:e},test:function(t){return iV(t)||t.length<=this.resolve(e)}})}},{key:"matches",value:function(e,t){var n,r,i=!1;if(t)if("object"===typeof t){var a=t.excludeEmptyString;i=void 0!==a&&a,n=t.message,r=t.name}else n=t;return this.test({name:r||"matches",message:n||kU.matches,params:{regex:e},test:function(t){return iV(t)||""===t&&i||-1!==t.search(e)}})}},{key:"email",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:kU.email;return this.matches(oV,{name:"email",message:e,excludeEmptyString:!0})}},{key:"url",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:kU.url;return this.matches(uV,{name:"url",message:e,excludeEmptyString:!0})}},{key:"uuid",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:kU.uuid;return this.matches(sV,{name:"uuid",message:e,excludeEmptyString:!1})}},{key:"ensure",value:function(){return this.default("").transform((function(e){return null===e?"":e}))}},{key:"trim",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:kU.trim;return this.transform((function(e){return null!=e?e.trim():e})).test({message:e,name:"trim",test:cV})}},{key:"lowercase",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:kU.lowercase;return this.transform((function(e){return iV(e)?e:e.toLowerCase()})).test({message:e,name:"string_case",exclusive:!0,test:function(e){return iV(e)||e===e.toLowerCase()}})}},{key:"uppercase",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:kU.uppercase;return this.transform((function(e){return iV(e)?e:e.toUpperCase()})).test({message:e,name:"string_case",exclusive:!0,test:function(e){return iV(e)||e===e.toUpperCase()}})}}]),n}(HU);fV.prototype=hV.prototype;var dV=function(e){m(n,e);var t=x(n);function n(){var e;return d(this,n),(e=t.call(this,{type:"number"})).withMutation((function(){e.transform((function(e){var t=e;if("string"===typeof t){if(""===(t=t.replace(/\s/g,"")))return NaN;t=+t}return this.isType(t)?t:parseFloat(t)}))})),e}return v(n,[{key:"_typeCheck",value:function(e){return e instanceof Number&&(e=e.valueOf()),"number"===typeof e&&!function(e){return e!=+e}(e)}},{key:"min",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:bU.min;return this.test({message:t,name:"min",exclusive:!0,params:{min:e},test:function(t){return iV(t)||t>=this.resolve(e)}})}},{key:"max",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:bU.max;return this.test({message:t,name:"max",exclusive:!0,params:{max:e},test:function(t){return iV(t)||t<=this.resolve(e)}})}},{key:"lessThan",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:bU.lessThan;return this.test({message:t,name:"max",exclusive:!0,params:{less:e},test:function(t){return iV(t)||t<this.resolve(e)}})}},{key:"moreThan",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:bU.moreThan;return this.test({message:t,name:"min",exclusive:!0,params:{more:e},test:function(t){return iV(t)||t>this.resolve(e)}})}},{key:"positive",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:bU.positive;return this.moreThan(0,e)}},{key:"negative",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:bU.negative;return this.lessThan(0,e)}},{key:"integer",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:bU.integer;return this.test({name:"integer",message:e,test:function(e){return iV(e)||Number.isInteger(e)}})}},{key:"truncate",value:function(){return this.transform((function(e){return iV(e)?e:0|e}))}},{key:"round",value:function(e){var t,n=["ceil","floor","round","trunc"];if("trunc"===(e=(null==(t=e)?void 0:t.toLowerCase())||"round"))return this.truncate();if(-1===n.indexOf(e.toLowerCase()))throw new TypeError("Only valid options for round() are: "+n.join(", "));return this.transform((function(t){return iV(t)?t:Math[e](t)}))}}]),n}(HU);dV.prototype;var pV=/^(\d{4}|[+\-]\d{6})(?:-?(\d{2})(?:-?(\d{2}))?)?(?:[ T]?(\d{2}):?(\d{2})(?::?(\d{2})(?:[,\.](\d{1,}))?)?(?:(Z)|([+\-])(\d{2})(?::?(\d{2}))?)?)?$/;var vV=new Date("");function yV(){return new mV}var mV=function(e){m(n,e);var t=x(n);function n(){var e;return d(this,n),(e=t.call(this,{type:"date"})).withMutation((function(){e.transform((function(e){return this.isType(e)?e:(e=function(e){var t,n,r=[1,4,5,6,7,10,11],i=0;if(n=pV.exec(e)){for(var a,o=0;a=r[o];++o)n[a]=+n[a]||0;n[2]=(+n[2]||1)-1,n[3]=+n[3]||1,n[7]=n[7]?String(n[7]).substr(0,3):0,void 0!==n[8]&&""!==n[8]||void 0!==n[9]&&""!==n[9]?("Z"!==n[8]&&void 0!==n[9]&&(i=60*n[10]+n[11],"+"===n[9]&&(i=0-i)),t=Date.UTC(n[1],n[2],n[3],n[4],n[5]+i,n[6],n[7])):t=+new Date(n[1],n[2],n[3],n[4],n[5],n[6],n[7])}else t=Date.parse?Date.parse(e):NaN;return t}(e),isNaN(e)?vV:new Date(e))}))})),e}return v(n,[{key:"_typeCheck",value:function(e){return t=e,"[object Date]"===Object.prototype.toString.call(t)&&!isNaN(e.getTime());var t}},{key:"prepareParam",value:function(e,t){var n;if(VU.isRef(e))n=e;else{var r=this.cast(e);if(!this._typeCheck(r))throw new TypeError("`".concat(t,"` must be a Date or a value that can be `cast()` to a Date"));n=r}return n}},{key:"min",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:wU.min,n=this.prepareParam(e,"min");return this.test({message:t,name:"min",exclusive:!0,params:{min:e},test:function(e){return iV(e)||e>=this.resolve(n)}})}},{key:"max",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:wU.max,n=this.prepareParam(e,"max");return this.test({message:t,name:"max",exclusive:!0,params:{max:e},test:function(e){return iV(e)||e<=this.resolve(n)}})}}]),n}(HU);mV.INVALID_DATE=vV,yV.prototype=mV.prototype,yV.INVALID_DATE=vV;var gV=n(7499),kV=n.n(gV),bV=n(567),wV=n.n(bV),_V=n(9029),xV=n.n(_V),EV=n(6514),SV=n.n(EV);function IV(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=[],r=new Set,i=new Set(t.map((function(e){var t=l(e,2),n=t[0],r=t[1];return"".concat(n,"-").concat(r)})));function a(e,t){var a=(0,jU.split)(e)[0];r.add(a),i.has("".concat(t,"-").concat(a))||n.push([t,a])}var o=function(t){if(IU()(e,t)){var n=e[t];r.add(t),VU.isRef(n)&&n.isSibling?a(n.path,t):TU(n)&&"deps"in n&&n.deps.forEach((function(e){return a(e,t)}))}};for(var u in e)o(u);return SV().array(Array.from(r),n).reverse()}function TV(e,t){var n=1/0;return e.some((function(e,r){var i;if(-1!==(null==(i=t.path)?void 0:i.indexOf(e)))return n=r,!0})),n}function CV(e){return function(t,n){return TV(e,t)-TV(e,n)}}function NV(){return NV=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},NV.apply(this,arguments)}var AV=function(e){return"[object Object]"===Object.prototype.toString.call(e)};function OV(e,t){var n=Object.keys(e.fields);return Object.keys(t).filter((function(e){return-1===n.indexOf(e)}))}var PV=CV([]),RV=function(e){m(n,e);var t=x(n);function n(e){var r;return d(this,n),(r=t.call(this,{type:"object"})).fields=Object.create(null),r._sortErrors=PV,r._nodes=[],r._excludedEdges=[],r.withMutation((function(){r.transform((function(e){if("string"===typeof e)try{e=JSON.parse(e)}catch(t){e=null}return this.isType(e)?e:null})),e&&r.shape(e)})),r}return v(n,[{key:"_typeCheck",value:function(e){return AV(e)||"function"===typeof e}},{key:"_cast",value:function(e){var t,r=this,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=Du(g(n.prototype),"_cast",this).call(this,e,i);if(void 0===a)return this.getDefault();if(!this._typeCheck(a))return a;var o,u=this.fields,s=null!=(t=i.stripUnknown)?t:this.spec.noUnknown,c=this._nodes.concat(Object.keys(a).filter((function(e){return-1===r._nodes.indexOf(e)}))),l={},f=NV({},i,{parent:l,__validating:i.__validating||!1}),h=!1,d=ka(c);try{for(d.s();!(o=d.n()).done;){var p=o.value,v=u[p],y=IU()(a,p);if(v){var m=void 0,k=a[p];f.path=(i.path?"".concat(i.path,"."):"")+p;var b="spec"in(v=v.resolve({value:k,context:i.context,parent:l}))?v.spec:void 0,w=null==b?void 0:b.strict;if(null==b?void 0:b.strip){h=h||p in a;continue}void 0!==(m=i.__validating&&w?a[p]:v.cast(a[p],f))&&(l[p]=m)}else y&&!s&&(l[p]=a[p]);l[p]!==a[p]&&(h=!0)}}catch(_){d.e(_)}finally{d.f()}return h?l:a}},{key:"_validate",value:function(e){var t=this,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=arguments.length>2?arguments[2]:void 0,a=[],o=r.sync,u=r.from,s=void 0===u?[]:u,c=r.originalValue,l=void 0===c?e:c,f=r.abortEarly,d=void 0===f?this.spec.abortEarly:f,p=r.recursive,v=void 0===p?this.spec.recursive:p;s=[{schema:this,value:l}].concat(h(s)),r.__validating=!0,r.originalValue=l,r.from=s,Du(g(n.prototype),"_validate",this).call(this,e,r,(function(e,n){if(e){if(!RU.isError(e)||d)return void i(e,n);a.push(e)}if(v&&AV(n)){l=l||n;var u=t._nodes.map((function(e){return function(i,a){var o=-1===e.indexOf(".")?(r.path?"".concat(r.path,"."):"")+e:"".concat(r.path||"",'["').concat(e,'"]'),u=t.fields[e];u&&"validate"in u?u.validate(n[e],NV({},r,{path:o,from:s,strict:!0,parent:n,originalValue:l[e]}),a):a(null)}}));DU({sync:o,tests:u,value:n,errors:a,endEarly:d,sort:t._sortErrors,path:r.path},i)}else i(a[0]||null,n)}))}},{key:"clone",value:function(e){var t=Du(g(n.prototype),"clone",this).call(this,e);return t.fields=NV({},this.fields),t._nodes=this._nodes,t._excludedEdges=this._excludedEdges,t._sortErrors=this._sortErrors,t}},{key:"concat",value:function(e){for(var t=this,r=Du(g(n.prototype),"concat",this).call(this,e),i=r.fields,a=0,o=Object.entries(this.fields);a<o.length;a++){var u=l(o[a],2),s=u[0],c=u[1],f=i[s];void 0===f?i[s]=c:f instanceof HU&&c instanceof HU&&(i[s]=c.concat(f))}return r.withMutation((function(){return r.shape(i,t._excludedEdges)}))}},{key:"getDefaultFromShape",value:function(){var e=this,t={};return this._nodes.forEach((function(n){var r=e.fields[n];t[n]="default"in r?r.getDefault():void 0})),t}},{key:"_getDefault",value:function(){return"default"in this.spec?Du(g(n.prototype),"_getDefault",this).call(this):this._nodes.length?this.getDefaultFromShape():void 0}},{key:"shape",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=this.clone(),r=Object.assign(n.fields,e);return n.fields=r,n._sortErrors=CV(Object.keys(r)),t.length&&(Array.isArray(t[0])||(t=[t]),n._excludedEdges=[].concat(h(n._excludedEdges),h(t))),n._nodes=IV(r,n._excludedEdges),n}},{key:"pick",value:function(e){var t,n={},r=ka(e);try{for(r.s();!(t=r.n()).done;){var i=t.value;this.fields[i]&&(n[i]=this.fields[i])}}catch(a){r.e(a)}finally{r.f()}return this.clone().withMutation((function(e){return e.fields={},e.shape(n)}))}},{key:"omit",value:function(e){var t=this.clone(),n=t.fields;t.fields={};var r,i=ka(e);try{for(i.s();!(r=i.n()).done;){var a=r.value;delete n[a]}}catch(o){i.e(o)}finally{i.f()}return t.withMutation((function(){return t.shape(n)}))}},{key:"from",value:function(e,t,n){var r=(0,jU.getter)(e,!0);return this.transform((function(i){if(null==i)return i;var a=i;return IU()(i,e)&&(a=NV({},i),n||delete a[e],a[t]=r(i)),a}))}},{key:"noUnknown",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:xU.noUnknown;"string"===typeof e&&(t=e,e=!0);var n=this.test({name:"noUnknown",exclusive:!0,message:t,test:function(t){if(null==t)return!0;var n=OV(this.schema,t);return!e||0===n.length||this.createError({params:{unknown:n.join(", ")}})}});return n.spec.noUnknown=e,n}},{key:"unknown",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:xU.noUnknown;return this.noUnknown(!e,t)}},{key:"transformKeys",value:function(e){return this.transform((function(t){return t&&xV()(t,(function(t,n){return e(n)}))}))}},{key:"camelCase",value:function(){return this.transformKeys(wV())}},{key:"snakeCase",value:function(){return this.transformKeys(kV())}},{key:"constantCase",value:function(){return this.transformKeys((function(e){return kV()(e).toUpperCase()}))}},{key:"describe",value:function(){var e=Du(g(n.prototype),"describe",this).call(this);return e.fields=LU()(this.fields,(function(e){return e.describe()})),e}}]),n}(HU);function DV(e){return new RV(e)}function FV(){return FV=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},FV.apply(this,arguments)}DV.prototype=RV.prototype;var LV=function(e){m(n,e);var t=x(n);function n(e){var r;return d(this,n),(r=t.call(this,{type:"array"})).innerType=void 0,r.innerType=e,r.withMutation((function(){r.transform((function(e){if("string"===typeof e)try{e=JSON.parse(e)}catch(t){e=null}return this.isType(e)?e:null}))})),r}return v(n,[{key:"_typeCheck",value:function(e){return Array.isArray(e)}},{key:"_subType",get:function(){return this.innerType}},{key:"_cast",value:function(e,t){var r=this,i=Du(g(n.prototype),"_cast",this).call(this,e,t);if(!this._typeCheck(i)||!this.innerType)return i;var a=!1,o=i.map((function(e,n){var i=r.innerType.cast(e,FV({},t,{path:"".concat(t.path||"","[").concat(n,"]")}));return i!==e&&(a=!0),i}));return a?o:i}},{key:"_validate",value:function(e){var t,r,i=this,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},o=arguments.length>2?arguments[2]:void 0,u=[],s=a.sync,c=a.path,l=this.innerType,f=null!=(t=a.abortEarly)?t:this.spec.abortEarly,h=null!=(r=a.recursive)?r:this.spec.recursive,d=null!=a.originalValue?a.originalValue:e;Du(g(n.prototype),"_validate",this).call(this,e,a,(function(e,t){if(e){if(!RU.isError(e)||f)return void o(e,t);u.push(e)}if(h&&l&&i._typeCheck(t)){d=d||t;for(var n=new Array(t.length),r=function(e){var r=t[e],i="".concat(a.path||"","[").concat(e,"]"),o=FV({},a,{path:i,strict:!0,parent:t,index:e,originalValue:d[e]});n[e]=function(e,t){return l.validate(r,o,t)}},p=0;p<t.length;p++)r(p);DU({sync:s,path:c,value:t,errors:u,endEarly:f,tests:n},o)}else o(u[0]||null,t)}))}},{key:"clone",value:function(e){var t=Du(g(n.prototype),"clone",this).call(this,e);return t.innerType=this.innerType,t}},{key:"concat",value:function(e){var t=Du(g(n.prototype),"concat",this).call(this,e);return t.innerType=this.innerType,e.innerType&&(t.innerType=t.innerType?t.innerType.concat(e.innerType):e.innerType),t}},{key:"of",value:function(e){var t=this.clone();if(!TU(e))throw new TypeError("`array.of()` sub-schema must be a valid yup schema not: "+mU(e));return t.innerType=e,t}},{key:"length",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:EU.length;return this.test({message:t,name:"length",exclusive:!0,params:{length:e},test:function(t){return iV(t)||t.length===this.resolve(e)}})}},{key:"min",value:function(e,t){return t=t||EU.min,this.test({message:t,name:"min",exclusive:!0,params:{min:e},test:function(t){return iV(t)||t.length>=this.resolve(e)}})}},{key:"max",value:function(e,t){return t=t||EU.max,this.test({message:t,name:"max",exclusive:!0,params:{max:e},test:function(t){return iV(t)||t.length<=this.resolve(e)}})}},{key:"ensure",value:function(){var e=this;return this.default((function(){return[]})).transform((function(t,n){return e._typeCheck(t)?t:null==n?[]:[].concat(n)}))}},{key:"compact",value:function(e){var t=e?function(t,n,r){return!e(t,n,r)}:function(e){return!!e};return this.transform((function(e){return null!=e?e.filter(t):e}))}},{key:"describe",value:function(){var e=Du(g(n.prototype),"describe",this).call(this);return this.innerType&&(e.innerType=this.innerType.describe()),e}},{key:"nullable",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return Du(g(n.prototype),"nullable",this).call(this,e)}},{key:"defined",value:function(){return Du(g(n.prototype),"defined",this).call(this)}},{key:"required",value:function(e){return Du(g(n.prototype),"required",this).call(this,e)}}]),n}(HU);LV.prototype;var jV=function(){var e=ge(),t=ye(),n=uU(),i=DV().shape({email:fV().email("\u041d\u0435\u0432\u0435\u0440\u043d\u043e \u0443\u043a\u0430\u0437\u0430\u043d email").required("\u041f\u043e\u043b\u0435 \u043e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u043e!"),password:fV().required("\u041f\u043e\u043b\u0435 \u043e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u043e!").min(8,"\u041c\u0438\u043d\u0438\u043c\u0443\u043c 8 \u0441\u0438\u043c\u0432\u043e\u043b\u043e\u0432")});(0,r.useEffect)((function(){"/home"!==t.pathname&&n&&e("/home")}),[n,e,t.pathname]);var a=l((0,r.useState)(""),2),o=a[0],u=a[1];return(0,ze.jsx)("div",{className:"container-transparent align-center",children:(0,ze.jsxs)("div",{className:"login",children:[(0,ze.jsx)("div",{className:"img",children:(0,ze.jsx)("img",{src:Qe,alt:""})}),(0,ze.jsxs)("div",{className:"form",children:[(0,ze.jsx)("h1",{children:"HotSkins"}),(0,ze.jsx)(fa,{initialValues:{email:"",password:""},validateOnBlur:!0,validationSchema:i,onSubmit:function(){var e=He(Ke().mark((function e(t){return Ke().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:JM(t.email,t.password).then((function(e){"Firebase: Error (auth/user-not-found)."===e?u("\u0422\u0430\u043a\u043e\u0433\u043e \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f \u043d\u0435 \u0441\u0443\u0449\u0435\u0441\u0442\u0432\u0443\u0435\u0442"):"Firebase: Error (auth/wrong-password)."===e&&u("\u041d\u0435\u0432\u0435\u0440\u043d\u044b\u0439 \u043f\u0430\u0440\u043e\u043b\u044c")}));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),children:function(e){var t=e.values,n=e.errors,r=(e.touched,e.handleChange),i=e.handleBlur,a=e.handleSubmit,u=e.isValid;e.dirty;return(0,ze.jsxs)("form",{onSubmit:a,className:"formik",children:[(0,ze.jsxs)("div",{className:"formik-item",children:[(0,ze.jsx)("input",{type:"text",name:"email",onChange:r,value:t.email,onBlur:i,placeholder:"\u0412\u0430\u0448 email"}),n.email||u.email?(0,ze.jsxs)("div",{className:"error",children:[(0,ze.jsx)("i",{className:"ri-error-warning-line"})," ",n.email]}):null]}),(0,ze.jsxs)("div",{className:"formik-item",children:[(0,ze.jsx)("input",{type:"password",name:"password",onChange:r,value:t.password,onBlur:i,placeholder:"\u041f\u0430\u0440\u043e\u043b\u044c"}),n.password||u.password?(0,ze.jsxs)("div",{className:"error ".concat(o&&"error-mb"),children:[(0,ze.jsx)("i",{className:"ri-error-warning-line"})," ",n.password]}):null]}),o&&(0,ze.jsxs)("div",{className:"error ".concat(n.password&&"error-two"),children:[(0,ze.jsxs)("div",{children:[(0,ze.jsx)("i",{className:"ri-error-warning-line"})," ",o]}),(0,ze.jsx)("div",{children:(0,ze.jsx)(Ve,{className:"register",to:"/login",children:"\u0420\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u044f"})})]}),(0,ze.jsx)("button",{className:"btn ".concat(o&&n.password&&"btn-mb"),disabled:n.email||n.password,onSubmit:a,children:"\u0412\u043e\u0439\u0442\u0438"})]})}})]})]})})},MV=function(){var e=ge(),t=ye(),n=uU(),i=DV().shape({email:fV().email("\u041d\u0435\u0432\u0435\u0440\u043d\u043e \u0443\u043a\u0430\u0437\u0430\u043d email").required("\u041f\u043e\u043b\u0435 \u043e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u043e!"),password:fV().required("\u041f\u043e\u043b\u0435 \u043e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u043e!").min(8,"\u041c\u0438\u043d\u0438\u043c\u0443\u043c 8 \u0441\u0438\u043c\u0432\u043e\u043b\u043e\u0432"),name:fV().required("\u041f\u043e\u043b\u0435 \u043e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u043e!").min(5,"\u041c\u0438\u043d\u0438\u043c\u0443\u043c 5 \u0441\u0438\u043c\u0432\u043e\u043b\u043e\u0432").max(15,"\u041c\u0430\u043a\u0441\u0438\u043c\u0443\u043c 15 \u0441\u0438\u043c\u0432\u043e\u043b\u043e\u0432")}),a=l((0,r.useState)(""),2),o=a[0],u=a[1];return(0,r.useEffect)((function(){"/home"!==t.pathname&&n&&e("/home")}),[n,e,t.pathname]),(0,ze.jsx)("div",{className:"container-transparent align-center",children:(0,ze.jsxs)("div",{className:"login",children:[(0,ze.jsx)("div",{className:"img",children:(0,ze.jsx)("img",{src:Qe,alt:""})}),(0,ze.jsxs)("div",{className:"form",children:[(0,ze.jsx)("h1",{children:"HotSkins"}),(0,ze.jsx)(fa,{initialValues:{name:"",email:"",password:""},validateOnBlur:!0,validationSchema:i,onSubmit:function(){var e=He(Ke().mark((function e(t){return Ke().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,$M(t.name,t.email,t.password);case 2:"auth/email-already-in-use"===e.sent&&u("\u042d\u0442\u043e\u0442 email \u0443\u0436\u0435 \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u0443\u0435\u0442\u0441\u044f");case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),children:function(e){var t=e.values,n=e.errors,r=(e.touched,e.handleChange),i=e.handleBlur,a=e.handleSubmit,u=e.isValid;e.dirty;return(0,ze.jsxs)("form",{onSubmit:a,className:"formik",children:[(0,ze.jsxs)("div",{className:"formik-item",children:[(0,ze.jsx)("input",{type:"text",name:"name",onChange:r,value:t.name,onBlur:i,placeholder:"\u0418\u043c\u044f"}),n.name||u.name?(0,ze.jsxs)("div",{className:"error",children:[(0,ze.jsx)("i",{className:"ri-error-warning-line"})," ",n.name]}):null]}),(0,ze.jsxs)("div",{className:"formik-item",children:[(0,ze.jsx)("input",{type:"text",name:"email",onChange:r,value:t.email,onBlur:i,placeholder:"\u0412\u0430\u0448 email"}),n.email||u.email?(0,ze.jsxs)("div",{className:"error",children:[(0,ze.jsx)("i",{className:"ri-error-warning-line"})," ",n.email]}):null]}),(0,ze.jsxs)("div",{className:"formik-item",children:[(0,ze.jsx)("input",{type:"password",name:"password",onChange:r,value:t.password,onBlur:i,placeholder:"\u041f\u0430\u0440\u043e\u043b\u044c"}),n.password||u.password?(0,ze.jsxs)("div",{className:"error",children:[(0,ze.jsx)("i",{className:"ri-error-warning-line"})," ",n.password]}):null]}),o&&(0,ze.jsxs)("div",{className:"reasons-error",children:[(0,ze.jsx)("i",{className:"ri-error-warning-line"})," ",o," ",(0,ze.jsx)(Ve,{className:"signin",to:"/signin",children:" \u0412\u043e\u0439\u0442\u0438"})]}),(0,ze.jsx)("button",{className:"btn ".concat(o&&n.password&&"btn-mb"),disabled:n.email||n.password||n.name,onSubmit:a,children:"\u0420\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u044f"})]})}})]})]})})},UV=function(e){var t=e.imageUrl,n=e.title,r=e.price,i=e.id;return(0,ze.jsx)(Ve,{to:"/cases/".concat(i),className:"case-container",children:(0,ze.jsxs)("div",{className:"cases-item",children:[(0,ze.jsx)("img",{src:t,alt:""}),(0,ze.jsxs)("div",{className:"subtitle",children:[n.slice(0,22),n.length>22?"...":null]}),(0,ze.jsxs)("button",{className:"btn",children:[r,"\u20bd"]})]})})};function VV(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw Error("[Immer] minified error nr: "+e+(n.length?" "+n.map((function(e){return"'"+e+"'"})).join(","):"")+". Find the full error at: https://bit.ly/3cXEKWf")}function qV(e){return!!e&&!!e[Aq]}function BV(e){return!!e&&(function(e){if(!e||"object"!=typeof e)return!1;var t=Object.getPrototypeOf(e);if(null===t)return!0;var n=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;return n===Object||"function"==typeof n&&Function.toString.call(n)===Oq}(e)||Array.isArray(e)||!!e[Nq]||!!e.constructor[Nq]||YV(e)||$V(e))}function zV(e,t,n){void 0===n&&(n=!1),0===WV(e)?(n?Object.keys:Pq)(e).forEach((function(r){n&&"symbol"==typeof r||t(r,e[r],e)})):e.forEach((function(n,r){return t(r,n,e)}))}function WV(e){var t=e[Aq];return t?t.i>3?t.i-4:t.i:Array.isArray(e)?1:YV(e)?2:$V(e)?3:0}function KV(e,t){return 2===WV(e)?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function GV(e,t){return 2===WV(e)?e.get(t):e[t]}function HV(e,t,n){var r=WV(e);2===r?e.set(t,n):3===r?(e.delete(t),e.add(n)):e[t]=n}function QV(e,t){return e===t?0!==e||1/e==1/t:e!=e&&t!=t}function YV(e){return Sq&&e instanceof Map}function $V(e){return Iq&&e instanceof Set}function JV(e){return e.o||e.t}function XV(e){if(Array.isArray(e))return Array.prototype.slice.call(e);var t=Rq(e);delete t[Aq];for(var n=Pq(t),r=0;r<n.length;r++){var i=n[r],a=t[i];!1===a.writable&&(a.writable=!0,a.configurable=!0),(a.get||a.set)&&(t[i]={configurable:!0,writable:!0,enumerable:a.enumerable,value:e[i]})}return Object.create(Object.getPrototypeOf(e),t)}function ZV(e,t){return void 0===t&&(t=!1),tq(e)||qV(e)||!BV(e)||(WV(e)>1&&(e.set=e.add=e.clear=e.delete=eq),Object.freeze(e),t&&zV(e,(function(e,t){return ZV(t,!0)}),!0)),e}function eq(){VV(2)}function tq(e){return null==e||"object"!=typeof e||Object.isFrozen(e)}function nq(e){var t=Dq[e];return t||VV(18,e),t}function rq(e,t){Dq[e]||(Dq[e]=t)}function iq(){return xq}function aq(e,t){t&&(nq("Patches"),e.u=[],e.s=[],e.v=t)}function oq(e){uq(e),e.p.forEach(cq),e.p=null}function uq(e){e===xq&&(xq=e.l)}function sq(e){return xq={p:[],l:xq,h:e,m:!0,_:0}}function cq(e){var t=e[Aq];0===t.i||1===t.i?t.j():t.O=!0}function lq(e,t){t._=t.p.length;var n=t.p[0],r=void 0!==e&&e!==n;return t.h.g||nq("ES5").S(t,e,r),r?(n[Aq].P&&(oq(t),VV(4)),BV(e)&&(e=fq(t,e),t.l||dq(t,e)),t.u&&nq("Patches").M(n[Aq].t,e,t.u,t.s)):e=fq(t,n,[]),oq(t),t.u&&t.v(t.u,t.s),e!==Cq?e:void 0}function fq(e,t,n){if(tq(t))return t;var r=t[Aq];if(!r)return zV(t,(function(i,a){return hq(e,r,t,i,a,n)}),!0),t;if(r.A!==e)return t;if(!r.P)return dq(e,r.t,!0),r.t;if(!r.I){r.I=!0,r.A._--;var i=4===r.i||5===r.i?r.o=XV(r.k):r.o;zV(3===r.i?new Set(i):i,(function(t,a){return hq(e,r,i,t,a,n)})),dq(e,i,!1),n&&e.u&&nq("Patches").R(r,n,e.u,e.s)}return r.o}function hq(e,t,n,r,i,a){if(qV(i)){var o=fq(e,i,a&&t&&3!==t.i&&!KV(t.D,r)?a.concat(r):void 0);if(HV(n,r,o),!qV(o))return;e.m=!1}if(BV(i)&&!tq(i)){if(!e.h.F&&e._<1)return;fq(e,i),t&&t.A.l||dq(e,i)}}function dq(e,t,n){void 0===n&&(n=!1),e.h.F&&e.m&&ZV(t,n)}function pq(e,t){var n=e[Aq];return(n?JV(n):e)[t]}function vq(e,t){if(t in e)for(var n=Object.getPrototypeOf(e);n;){var r=Object.getOwnPropertyDescriptor(n,t);if(r)return r;n=Object.getPrototypeOf(n)}}function yq(e){e.P||(e.P=!0,e.l&&yq(e.l))}function mq(e){e.o||(e.o=XV(e.t))}function gq(e,t,n){var r=YV(t)?nq("MapSet").N(t,n):$V(t)?nq("MapSet").T(t,n):e.g?function(e,t){var n=Array.isArray(e),r={i:n?1:0,A:t?t.A:iq(),P:!1,I:!1,D:{},l:t,t:e,k:null,o:null,j:null,C:!1},i=r,a=Fq;n&&(i=[r],a=Lq);var o=Proxy.revocable(i,a),u=o.revoke,s=o.proxy;return r.k=s,r.j=u,s}(t,n):nq("ES5").J(t,n);return(n?n.A:iq()).p.push(r),r}function kq(e){return qV(e)||VV(22,e),function e(t){if(!BV(t))return t;var n,r=t[Aq],i=WV(t);if(r){if(!r.P&&(r.i<4||!nq("ES5").K(r)))return r.t;r.I=!0,n=bq(t,i),r.I=!1}else n=bq(t,i);return zV(n,(function(t,i){r&&GV(r.t,t)===i||HV(n,t,e(i))})),3===i?new Set(n):n}(e)}function bq(e,t){switch(t){case 2:return new Map(e);case 3:return Array.from(e)}return XV(e)}function wq(){function e(e,t){var n=i[e];return n?n.enumerable=t:i[e]=n={configurable:!0,enumerable:t,get:function(){var t=this[Aq];return Fq.get(t,e)},set:function(t){var n=this[Aq];Fq.set(n,e,t)}},n}function t(e){for(var t=e.length-1;t>=0;t--){var i=e[t][Aq];if(!i.P)switch(i.i){case 5:r(i)&&yq(i);break;case 4:n(i)&&yq(i)}}}function n(e){for(var t=e.t,n=e.k,r=Pq(n),i=r.length-1;i>=0;i--){var a=r[i];if(a!==Aq){var o=t[a];if(void 0===o&&!KV(t,a))return!0;var u=n[a],s=u&&u[Aq];if(s?s.t!==o:!QV(u,o))return!0}}var c=!!t[Aq];return r.length!==Pq(t).length+(c?0:1)}function r(e){var t=e.k;if(t.length!==e.t.length)return!0;var n=Object.getOwnPropertyDescriptor(t,t.length-1);if(n&&!n.get)return!0;for(var r=0;r<t.length;r++)if(!t.hasOwnProperty(r))return!0;return!1}var i={};rq("ES5",{J:function(t,n){var r=Array.isArray(t),i=function(t,n){if(t){for(var r=Array(n.length),i=0;i<n.length;i++)Object.defineProperty(r,""+i,e(i,!0));return r}var a=Rq(n);delete a[Aq];for(var o=Pq(a),u=0;u<o.length;u++){var s=o[u];a[s]=e(s,t||!!a[s].enumerable)}return Object.create(Object.getPrototypeOf(n),a)}(r,t),a={i:r?5:4,A:n?n.A:iq(),P:!1,I:!1,D:{},l:n,t:t,k:i,o:null,O:!1,C:!1};return Object.defineProperty(i,Aq,{value:a,writable:!0}),i},S:function(e,n,i){i?qV(n)&&n[Aq].A===e&&t(e.p):(e.u&&function e(t){if(t&&"object"==typeof t){var n=t[Aq];if(n){var i=n.t,a=n.k,o=n.D,u=n.i;if(4===u)zV(a,(function(t){t!==Aq&&(void 0!==i[t]||KV(i,t)?o[t]||e(a[t]):(o[t]=!0,yq(n)))})),zV(i,(function(e){void 0!==a[e]||KV(a,e)||(o[e]=!1,yq(n))}));else if(5===u){if(r(n)&&(yq(n),o.length=!0),a.length<i.length)for(var s=a.length;s<i.length;s++)o[s]=!1;else for(var c=i.length;c<a.length;c++)o[c]=!0;for(var l=Math.min(a.length,i.length),f=0;f<l;f++)a.hasOwnProperty(f)||(o[f]=!0),void 0===o[f]&&e(a[f])}}}}(e.p[0]),t(e.p))},K:function(e){return 4===e.i?n(e):r(e)}})}var _q,xq,Eq="undefined"!=typeof Symbol&&"symbol"==typeof Symbol("x"),Sq="undefined"!=typeof Map,Iq="undefined"!=typeof Set,Tq="undefined"!=typeof Proxy&&void 0!==Proxy.revocable&&"undefined"!=typeof Reflect,Cq=Eq?Symbol.for("immer-nothing"):((_q={})["immer-nothing"]=!0,_q),Nq=Eq?Symbol.for("immer-draftable"):"__$immer_draftable",Aq=Eq?Symbol.for("immer-state"):"__$immer_state",Oq=("undefined"!=typeof Symbol&&Symbol.iterator,""+Object.prototype.constructor),Pq="undefined"!=typeof Reflect&&Reflect.ownKeys?Reflect.ownKeys:void 0!==Object.getOwnPropertySymbols?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:Object.getOwnPropertyNames,Rq=Object.getOwnPropertyDescriptors||function(e){var t={};return Pq(e).forEach((function(n){t[n]=Object.getOwnPropertyDescriptor(e,n)})),t},Dq={},Fq={get:function(e,t){if(t===Aq)return e;var n=JV(e);if(!KV(n,t))return function(e,t,n){var r,i=vq(t,n);return i?"value"in i?i.value:null===(r=i.get)||void 0===r?void 0:r.call(e.k):void 0}(e,n,t);var r=n[t];return e.I||!BV(r)?r:r===pq(e.t,t)?(mq(e),e.o[t]=gq(e.A.h,r,e)):r},has:function(e,t){return t in JV(e)},ownKeys:function(e){return Reflect.ownKeys(JV(e))},set:function(e,t,n){var r=vq(JV(e),t);if(null==r?void 0:r.set)return r.set.call(e.k,n),!0;if(!e.P){var i=pq(JV(e),t),a=null==i?void 0:i[Aq];if(a&&a.t===n)return e.o[t]=n,e.D[t]=!1,!0;if(QV(n,i)&&(void 0!==n||KV(e.t,t)))return!0;mq(e),yq(e)}return e.o[t]===n&&"number"!=typeof n&&(void 0!==n||t in e.o)||(e.o[t]=n,e.D[t]=!0,!0)},deleteProperty:function(e,t){return void 0!==pq(e.t,t)||t in e.t?(e.D[t]=!1,mq(e),yq(e)):delete e.D[t],e.o&&delete e.o[t],!0},getOwnPropertyDescriptor:function(e,t){var n=JV(e),r=Reflect.getOwnPropertyDescriptor(n,t);return r?{writable:!0,configurable:1!==e.i||"length"!==t,enumerable:r.enumerable,value:n[t]}:r},defineProperty:function(){VV(11)},getPrototypeOf:function(e){return Object.getPrototypeOf(e.t)},setPrototypeOf:function(){VV(12)}},Lq={};zV(Fq,(function(e,t){Lq[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}})),Lq.deleteProperty=function(e,t){return Lq.set.call(this,e,t,void 0)},Lq.set=function(e,t,n){return Fq.set.call(this,e[0],t,n,e[0])};var jq=function(){function e(e){var t=this;this.g=Tq,this.F=!0,this.produce=function(e,n,r){if("function"==typeof e&&"function"!=typeof n){var i=n;n=e;var a=t;return function(e){var t=this;void 0===e&&(e=i);for(var r=arguments.length,o=Array(r>1?r-1:0),u=1;u<r;u++)o[u-1]=arguments[u];return a.produce(e,(function(e){var r;return(r=n).call.apply(r,[t,e].concat(o))}))}}var o;if("function"!=typeof n&&VV(6),void 0!==r&&"function"!=typeof r&&VV(7),BV(e)){var u=sq(t),s=gq(t,e,void 0),c=!0;try{o=n(s),c=!1}finally{c?oq(u):uq(u)}return"undefined"!=typeof Promise&&o instanceof Promise?o.then((function(e){return aq(u,r),lq(e,u)}),(function(e){throw oq(u),e})):(aq(u,r),lq(o,u))}if(!e||"object"!=typeof e){if(void 0===(o=n(e))&&(o=e),o===Cq&&(o=void 0),t.F&&ZV(o,!0),r){var l=[],f=[];nq("Patches").M(e,o,l,f),r(l,f)}return o}VV(21,e)},this.produceWithPatches=function(e,n){if("function"==typeof e)return function(n){for(var r=arguments.length,i=Array(r>1?r-1:0),a=1;a<r;a++)i[a-1]=arguments[a];return t.produceWithPatches(n,(function(t){return e.apply(void 0,[t].concat(i))}))};var r,i,a=t.produce(e,n,(function(e,t){r=e,i=t}));return"undefined"!=typeof Promise&&a instanceof Promise?a.then((function(e){return[e,r,i]})):[a,r,i]},"boolean"==typeof(null==e?void 0:e.useProxies)&&this.setUseProxies(e.useProxies),"boolean"==typeof(null==e?void 0:e.autoFreeze)&&this.setAutoFreeze(e.autoFreeze)}var t=e.prototype;return t.createDraft=function(e){BV(e)||VV(8),qV(e)&&(e=kq(e));var t=sq(this),n=gq(this,e,void 0);return n[Aq].C=!0,uq(t),n},t.finishDraft=function(e,t){var n=(e&&e[Aq]).A;return aq(n,t),lq(void 0,n)},t.setAutoFreeze=function(e){this.F=e},t.setUseProxies=function(e){e&&!Tq&&VV(20),this.g=e},t.applyPatches=function(e,t){var n;for(n=t.length-1;n>=0;n--){var r=t[n];if(0===r.path.length&&"replace"===r.op){e=r.value;break}}n>-1&&(t=t.slice(n+1));var i=nq("Patches").$;return qV(e)?i(e,t):this.produce(e,(function(e){return i(e,t)}))},e}(),Mq=new jq,Uq=Mq.produce,Vq=(Mq.produceWithPatches.bind(Mq),Mq.setAutoFreeze.bind(Mq),Mq.setUseProxies.bind(Mq),Mq.applyPatches.bind(Mq),Mq.createDraft.bind(Mq),Mq.finishDraft.bind(Mq),Uq);function qq(e){return"Minified Redux error #"+e+"; visit https://redux.js.org/Errors?code="+e+" for the full message or use the non-minified dev environment for full errors. "}var Bq="function"===typeof Symbol&&Symbol.observable||"@@observable",zq=function(){return Math.random().toString(36).substring(7).split("").join(".")},Wq={INIT:"@@redux/INIT"+zq(),REPLACE:"@@redux/REPLACE"+zq(),PROBE_UNKNOWN_ACTION:function(){return"@@redux/PROBE_UNKNOWN_ACTION"+zq()}};function Kq(e){if("object"!==typeof e||null===e)return!1;for(var t=e;null!==Object.getPrototypeOf(t);)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t}function Gq(e,t,n){var r;if("function"===typeof t&&"function"===typeof n||"function"===typeof n&&"function"===typeof arguments[3])throw new Error(qq(0));if("function"===typeof t&&"undefined"===typeof n&&(n=t,t=void 0),"undefined"!==typeof n){if("function"!==typeof n)throw new Error(qq(1));return n(Gq)(e,t)}if("function"!==typeof e)throw new Error(qq(2));var i=e,a=t,o=[],u=o,s=!1;function c(){u===o&&(u=o.slice())}function l(){if(s)throw new Error(qq(3));return a}function f(e){if("function"!==typeof e)throw new Error(qq(4));if(s)throw new Error(qq(5));var t=!0;return c(),u.push(e),function(){if(t){if(s)throw new Error(qq(6));t=!1,c();var n=u.indexOf(e);u.splice(n,1),o=null}}}function h(e){if(!Kq(e))throw new Error(qq(7));if("undefined"===typeof e.type)throw new Error(qq(8));if(s)throw new Error(qq(9));try{s=!0,a=i(a,e)}finally{s=!1}for(var t=o=u,n=0;n<t.length;n++){(0,t[n])()}return e}function d(e){if("function"!==typeof e)throw new Error(qq(10));i=e,h({type:Wq.REPLACE})}function p(){var e,t=f;return(e={subscribe:function(e){if("object"!==typeof e||null===e)throw new Error(qq(11));function n(){e.next&&e.next(l())}return n(),{unsubscribe:t(n)}}})[Bq]=function(){return this},e}return h({type:Wq.INIT}),(r={dispatch:h,subscribe:f,getState:l,replaceReducer:d})[Bq]=p,r}function Hq(e){for(var t=Object.keys(e),n={},r=0;r<t.length;r++){var i=t[r];0,"function"===typeof e[i]&&(n[i]=e[i])}var a,o=Object.keys(n);try{!function(e){Object.keys(e).forEach((function(t){var n=e[t];if("undefined"===typeof n(void 0,{type:Wq.INIT}))throw new Error(qq(12));if("undefined"===typeof n(void 0,{type:Wq.PROBE_UNKNOWN_ACTION()}))throw new Error(qq(13))}))}(n)}catch(u){a=u}return function(e,t){if(void 0===e&&(e={}),a)throw a;for(var r=!1,i={},u=0;u<o.length;u++){var s=o[u],c=n[s],l=e[s],f=c(l,t);if("undefined"===typeof f){t&&t.type;throw new Error(qq(14))}i[s]=f,r=r||f!==l}return(r=r||o.length!==Object.keys(e).length)?i:e}}function Qq(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return 0===t.length?function(e){return e}:1===t.length?t[0]:t.reduce((function(e,t){return function(){return e(t.apply(void 0,arguments))}}))}function Yq(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e){return function(){var n=e.apply(void 0,arguments),r=function(){throw new Error(qq(15))},i={getState:n.getState,dispatch:function(){return r.apply(void 0,arguments)}},a=t.map((function(e){return e(i)}));return r=Qq.apply(void 0,a)(n.dispatch),Co(Co({},n),{},{dispatch:r})}}}function $q(e){return function(t){var n=t.dispatch,r=t.getState;return function(t){return function(i){return"function"===typeof i?i(n,r,e):t(i)}}}}var Jq=$q();Jq.withExtraArgument=$q;var Xq=Jq,Zq=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),eB=function(e,t){var n,r,i,a,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return a={next:u(0),throw:u(1),return:u(2)},"function"===typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function u(a){return function(u){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,r&&(i=2&a[0]?r.return:a[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,a[1])).done)return i;switch(r=0,i&&(a=[2&a[0],i.value]),a[0]){case 0:case 1:i=a;break;case 4:return o.label++,{value:a[1],done:!1};case 5:o.label++,r=a[1],a=[0];continue;case 7:a=o.ops.pop(),o.trys.pop();continue;default:if(!(i=(i=o.trys).length>0&&i[i.length-1])&&(6===a[0]||2===a[0])){o=0;continue}if(3===a[0]&&(!i||a[1]>i[0]&&a[1]<i[3])){o.label=a[1];break}if(6===a[0]&&o.label<i[1]){o.label=i[1],i=a;break}if(i&&o.label<i[2]){o.label=i[2],o.ops.push(a);break}i[2]&&o.ops.pop(),o.trys.pop();continue}a=t.call(e,o)}catch(u){a=[6,u],r=0}finally{n=i=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,u])}}},tB=function(e,t){for(var n=0,r=t.length,i=e.length;n<r;n++,i++)e[i]=t[n];return e},nB=Object.defineProperty,rB=Object.defineProperties,iB=Object.getOwnPropertyDescriptors,aB=Object.getOwnPropertySymbols,oB=Object.prototype.hasOwnProperty,uB=Object.prototype.propertyIsEnumerable,sB=function(e,t,n){return t in e?nB(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n},cB=function(e,t){for(var n in t||(t={}))oB.call(t,n)&&sB(e,n,t[n]);if(aB)for(var r=0,i=aB(t);r<i.length;r++){n=i[r];uB.call(t,n)&&sB(e,n,t[n])}return e},lB=function(e,t){return rB(e,iB(t))},fB=function(e,t,n){return new Promise((function(r,i){var a=function(e){try{u(n.next(e))}catch(t){i(t)}},o=function(e){try{u(n.throw(e))}catch(t){i(t)}},u=function(e){return e.done?r(e.value):Promise.resolve(e.value).then(a,o)};u((n=n.apply(e,t)).next())}))},hB="undefined"!==typeof window&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(0!==arguments.length)return"object"===typeof arguments[0]?Qq:Qq.apply(null,arguments)};"undefined"!==typeof window&&window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__;function dB(e){if("object"!==typeof e||null===e)return!1;var t=Object.getPrototypeOf(e);if(null===t)return!0;for(var n=t;null!==Object.getPrototypeOf(n);)n=Object.getPrototypeOf(n);return t===n}var pB=function(e){function t(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];var i=e.apply(this,n)||this;return Object.setPrototypeOf(i,t.prototype),i}return Zq(t,e),Object.defineProperty(t,Symbol.species,{get:function(){return t},enumerable:!1,configurable:!0}),t.prototype.concat=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return e.prototype.concat.apply(this,t)},t.prototype.prepend=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return 1===e.length&&Array.isArray(e[0])?new(t.bind.apply(t,tB([void 0],e[0].concat(this)))):new(t.bind.apply(t,tB([void 0],e.concat(this))))},t}(Array);function vB(e){return BV(e)?Vq(e,(function(){})):e}function yB(){return function(e){return function(e){void 0===e&&(e={});var t=e.thunk,n=void 0===t||t,r=(e.immutableCheck,e.serializableCheck,new pB);n&&(!function(e){return"boolean"===typeof e}(n)?r.push(Xq.withExtraArgument(n.extraArgument)):r.push(Xq));0;return r}(e)}}function mB(e,t){function n(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];if(t){var i=t.apply(void 0,n);if(!i)throw new Error("prepareAction did not return an object");return cB(cB({type:e,payload:i.payload},"meta"in i&&{meta:i.meta}),"error"in i&&{error:i.error})}return{type:e,payload:n[0]}}return n.toString=function(){return""+e},n.type=e,n.match=function(t){return t.type===e},n}function gB(e){var t,n={},r=[],i={addCase:function(e,t){var r="string"===typeof e?e:e.type;if(r in n)throw new Error("addCase cannot be called with two reducers for the same action type");return n[r]=t,i},addMatcher:function(e,t){return r.push({matcher:e,reducer:t}),i},addDefaultCase:function(e){return t=e,i}};return e(i),[n,r,t]}function kB(e){var t=e.name;if(!t)throw new Error("`name` is a required option for createSlice");var n,r="function"==typeof e.initialState?e.initialState:vB(e.initialState),i=e.reducers||{},a=Object.keys(i),o={},u={},s={};function c(){var t="function"===typeof e.extraReducers?gB(e.extraReducers):[e.extraReducers],n=t[0],i=void 0===n?{}:n,a=t[1],o=void 0===a?[]:a,s=t[2],c=void 0===s?void 0:s,l=cB(cB({},i),u);return function(e,t,n,r){void 0===n&&(n=[]);var i,a="function"===typeof t?gB(t):[t,n,r],o=a[0],u=a[1],s=a[2];if(function(e){return"function"===typeof e}(e))i=function(){return vB(e())};else{var c=vB(e);i=function(){return c}}function l(e,t){void 0===e&&(e=i());var n=tB([o[t.type]],u.filter((function(e){return(0,e.matcher)(t)})).map((function(e){return e.reducer})));return 0===n.filter((function(e){return!!e})).length&&(n=[s]),n.reduce((function(e,n){if(n){var r;if(qV(e))return void 0===(r=n(e,t))?e:r;if(BV(e))return Vq(e,(function(e){return n(e,t)}));if(void 0===(r=n(e,t))){if(null===e)return e;throw Error("A case reducer on a non-draftable value must not return undefined")}return r}return e}),e)}return l.getInitialState=i,l}(r,l,o,c)}return a.forEach((function(e){var n,r,a=i[e],c=t+"/"+e;"reducer"in a?(n=a.reducer,r=a.prepare):n=a,o[e]=n,u[c]=n,s[e]=r?mB(c,r):mB(c)})),{name:t,reducer:function(e,t){return n||(n=c()),n(e,t)},actions:s,caseReducers:o,getInitialState:function(){return n||(n=c()),n.getInitialState()}}}var bB=function(e){void 0===e&&(e=21);for(var t="",n=e;n--;)t+="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW"[64*Math.random()|0];return t},wB=["name","message","stack","code"],_B=function(e,t){this.payload=e,this.meta=t},xB=function(e,t){this.payload=e,this.meta=t},EB=function(e){if("object"===typeof e&&null!==e){for(var t={},n=0,r=wB;n<r.length;n++){var i=r[n];"string"===typeof e[i]&&(t[i]=e[i])}return t}return{message:String(e)}};function SB(e,t,n){var r=mB(e+"/fulfilled",(function(e,t,n,r){return{payload:e,meta:lB(cB({},r||{}),{arg:n,requestId:t,requestStatus:"fulfilled"})}})),i=mB(e+"/pending",(function(e,t,n){return{payload:void 0,meta:lB(cB({},n||{}),{arg:t,requestId:e,requestStatus:"pending"})}})),a=mB(e+"/rejected",(function(e,t,r,i,a){return{payload:i,error:(n&&n.serializeError||EB)(e||"Rejected"),meta:lB(cB({},a||{}),{arg:r,requestId:t,rejectedWithValue:!!i,requestStatus:"rejected",aborted:"AbortError"===(null==e?void 0:e.name),condition:"ConditionError"===(null==e?void 0:e.name)})}})),o="undefined"!==typeof AbortController?AbortController:function(){function e(){this.signal={aborted:!1,addEventListener:function(){},dispatchEvent:function(){return!1},onabort:function(){},removeEventListener:function(){},reason:void 0,throwIfAborted:function(){}}}return e.prototype.abort=function(){0},e}();return Object.assign((function(e){return function(u,s,c){var l,f=(null==n?void 0:n.idGenerator)?n.idGenerator(e):bB(),h=new o,d=new Promise((function(e,t){return h.signal.addEventListener("abort",(function(){return t({name:"AbortError",message:l||"Aborted"})}))})),p=!1;var v=function(){return fB(this,null,(function(){var o,l,v,y,m;return eB(this,(function(g){switch(g.label){case 0:return g.trys.push([0,4,,5]),y=null==(o=null==n?void 0:n.condition)?void 0:o.call(n,e,{getState:s,extra:c}),null===(k=y)||"object"!==typeof k||"function"!==typeof k.then?[3,2]:[4,y];case 1:y=g.sent(),g.label=2;case 2:if(!1===y)throw{name:"ConditionError",message:"Aborted due to condition callback returning false."};return p=!0,u(i(f,e,null==(l=null==n?void 0:n.getPendingMeta)?void 0:l.call(n,{requestId:f,arg:e},{getState:s,extra:c}))),[4,Promise.race([d,Promise.resolve(t(e,{dispatch:u,getState:s,extra:c,requestId:f,signal:h.signal,rejectWithValue:function(e,t){return new _B(e,t)},fulfillWithValue:function(e,t){return new xB(e,t)}})).then((function(t){if(t instanceof _B)throw t;return t instanceof xB?r(t.payload,f,e,t.meta):r(t,f,e)}))])];case 3:return v=g.sent(),[3,5];case 4:return m=g.sent(),v=m instanceof _B?a(null,f,e,m.payload,m.meta):a(m,f,e),[3,5];case 5:return n&&!n.dispatchConditionRejection&&a.match(v)&&v.meta.condition||u(v),[2,v]}var k}))}))}();return Object.assign(v,{abort:function(e){p&&(l=e,h.abort())},requestId:f,arg:e,unwrap:function(){return v.then(IB)}})}}),{pending:i,rejected:a,fulfilled:r,typePrefix:e})}function IB(e){if(e.meta&&e.meta.rejectedWithValue)throw e.payload;if(e.error)throw e.error;return e.payload}Object.assign;var TB="listenerMiddleware";mB(TB+"/add"),mB(TB+"/removeAll"),mB(TB+"/remove");function CB(e,t){return function(){return e.apply(t,arguments)}}wq();var NB,AB=Object.prototype.toString,OB=Object.getPrototypeOf,PB=(NB=Object.create(null),function(e){var t=AB.call(e);return NB[t]||(NB[t]=t.slice(8,-1).toLowerCase())}),RB=function(e){return e=e.toLowerCase(),function(t){return PB(t)===e}},DB=function(e){return function(t){return typeof t===e}},FB=Array.isArray,LB=DB("undefined");var jB=RB("ArrayBuffer");var MB=DB("string"),UB=DB("function"),VB=DB("number"),qB=function(e){return null!==e&&"object"===typeof e},BB=function(e){if("object"!==PB(e))return!1;var t=OB(e);return(null===t||t===Object.prototype||null===Object.getPrototypeOf(t))&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},zB=RB("Date"),WB=RB("File"),KB=RB("Blob"),GB=RB("FileList"),HB=RB("URLSearchParams");function QB(e,t){var n,r,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},a=i.allOwnKeys,o=void 0!==a&&a;if(null!==e&&"undefined"!==typeof e)if("object"!==typeof e&&(e=[e]),FB(e))for(n=0,r=e.length;n<r;n++)t.call(null,e[n],n,e);else{var u,s=o?Object.getOwnPropertyNames(e):Object.keys(e),c=s.length;for(n=0;n<c;n++)u=s[n],t.call(null,e[u],u,e)}}var YB,$B=(YB="undefined"!==typeof Uint8Array&&OB(Uint8Array),function(e){return YB&&e instanceof YB}),JB=RB("HTMLFormElement"),XB=function(e){var t=Object.prototype.hasOwnProperty;return function(e,n){return t.call(e,n)}}(),ZB=RB("RegExp"),ez=function(e,t){var n=Object.getOwnPropertyDescriptors(e),r={};QB(n,(function(n,i){!1!==t(n,i,e)&&(r[i]=n)})),Object.defineProperties(e,r)},tz={isArray:FB,isArrayBuffer:jB,isBuffer:function(e){return null!==e&&!LB(e)&&null!==e.constructor&&!LB(e.constructor)&&UB(e.constructor.isBuffer)&&e.constructor.isBuffer(e)},isFormData:function(e){var t="[object FormData]";return e&&("function"===typeof FormData&&e instanceof FormData||AB.call(e)===t||UB(e.toString)&&e.toString()===t)},isArrayBufferView:function(e){return"undefined"!==typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer&&jB(e.buffer)},isString:MB,isNumber:VB,isBoolean:function(e){return!0===e||!1===e},isObject:qB,isPlainObject:BB,isUndefined:LB,isDate:zB,isFile:WB,isBlob:KB,isRegExp:ZB,isFunction:UB,isStream:function(e){return qB(e)&&UB(e.pipe)},isURLSearchParams:HB,isTypedArray:$B,isFileList:GB,forEach:QB,merge:function e(){for(var t={},n=function(n,r){BB(t[r])&&BB(n)?t[r]=e(t[r],n):BB(n)?t[r]=e({},n):FB(n)?t[r]=n.slice():t[r]=n},r=0,i=arguments.length;r<i;r++)arguments[r]&&QB(arguments[r],n);return t},extend:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},i=r.allOwnKeys;return QB(t,(function(t,r){n&&UB(t)?e[r]=CB(t,n):e[r]=t}),{allOwnKeys:i}),e},trim:function(e){return e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")},stripBOM:function(e){return 65279===e.charCodeAt(0)&&(e=e.slice(1)),e},inherits:function(e,t,n,r){e.prototype=Object.create(t.prototype,r),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),n&&Object.assign(e.prototype,n)},toFlatObject:function(e,t,n,r){var i,a,o,u={};if(t=t||{},null==e)return t;do{for(a=(i=Object.getOwnPropertyNames(e)).length;a-- >0;)o=i[a],r&&!r(o,e,t)||u[o]||(t[o]=e[o],u[o]=!0);e=!1!==n&&OB(e)}while(e&&(!n||n(e,t))&&e!==Object.prototype);return t},kindOf:PB,kindOfTest:RB,endsWith:function(e,t,n){e=String(e),(void 0===n||n>e.length)&&(n=e.length),n-=t.length;var r=e.indexOf(t,n);return-1!==r&&r===n},toArray:function(e){if(!e)return null;if(FB(e))return e;var t=e.length;if(!VB(t))return null;for(var n=new Array(t);t-- >0;)n[t]=e[t];return n},forEachEntry:function(e,t){for(var n,r=(e&&e[Symbol.iterator]).call(e);(n=r.next())&&!n.done;){var i=n.value;t.call(e,i[0],i[1])}},matchAll:function(e,t){for(var n,r=[];null!==(n=e.exec(t));)r.push(n);return r},isHTMLForm:JB,hasOwnProperty:XB,hasOwnProp:XB,reduceDescriptors:ez,freezeMethods:function(e){ez(e,(function(t,n){var r=e[n];UB(r)&&(t.enumerable=!1,"writable"in t?t.writable=!1:t.set||(t.set=function(){throw Error("Can not read-only method '"+n+"'")}))}))},toObjectSet:function(e,t){var n={},r=function(e){e.forEach((function(e){n[e]=!0}))};return FB(e)?r(e):r(String(e).split(t)),n},toCamelCase:function(e){return e.toLowerCase().replace(/[_-\s]([a-z\d])(\w*)/g,(function(e,t,n){return t.toUpperCase()+n}))},noop:function(){},toFiniteNumber:function(e,t){return e=+e,Number.isFinite(e)?e:t}};function nz(e,t,n,r,i){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=(new Error).stack,this.message=e,this.name="AxiosError",t&&(this.code=t),n&&(this.config=n),r&&(this.request=r),i&&(this.response=i)}tz.inherits(nz,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:this.config,code:this.code,status:this.response&&this.response.status?this.response.status:null}}});var rz=nz.prototype,iz={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach((function(e){iz[e]={value:e}})),Object.defineProperties(nz,iz),Object.defineProperty(rz,"isAxiosError",{value:!0}),nz.from=function(e,t,n,r,i,a){var o=Object.create(rz);return tz.toFlatObject(e,o,(function(e){return e!==Error.prototype}),(function(e){return"isAxiosError"!==e})),nz.call(o,e.message,t,n,r,i),o.cause=e,o.name=e.name,a&&Object.assign(o,a),o};var az=nz,oz=n(7472);function uz(e){return tz.isPlainObject(e)||tz.isArray(e)}function sz(e){return tz.endsWith(e,"[]")?e.slice(0,-2):e}function cz(e,t,n){return e?e.concat(t).map((function(e,t){return e=sz(e),!n&&t?"["+e+"]":e})).join(n?".":""):t}var lz=tz.toFlatObject(tz,{},null,(function(e){return/^is[A-Z]/.test(e)}));var fz=function(e,t,n){if(!tz.isObject(e))throw new TypeError("target must be an object");t=t||new(oz||FormData);var r,i=(n=tz.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,(function(e,t){return!tz.isUndefined(t[e])}))).metaTokens,a=n.visitor||l,o=n.dots,u=n.indexes,s=(n.Blob||"undefined"!==typeof Blob&&Blob)&&((r=t)&&tz.isFunction(r.append)&&"FormData"===r[Symbol.toStringTag]&&r[Symbol.iterator]);if(!tz.isFunction(a))throw new TypeError("visitor must be a function");function c(e){if(null===e)return"";if(tz.isDate(e))return e.toISOString();if(!s&&tz.isBlob(e))throw new az("Blob is not supported. Use a Buffer instead.");return tz.isArrayBuffer(e)||tz.isTypedArray(e)?s&&"function"===typeof Blob?new Blob([e]):Buffer.from(e):e}function l(e,n,r){var a=e;if(e&&!r&&"object"===typeof e)if(tz.endsWith(n,"{}"))n=i?n:n.slice(0,-2),e=JSON.stringify(e);else if(tz.isArray(e)&&function(e){return tz.isArray(e)&&!e.some(uz)}(e)||tz.isFileList(e)||tz.endsWith(n,"[]")&&(a=tz.toArray(e)))return n=sz(n),a.forEach((function(e,r){!tz.isUndefined(e)&&t.append(!0===u?cz([n],r,o):null===u?n:n+"[]",c(e))})),!1;return!!uz(e)||(t.append(cz(r,n,o),c(e)),!1)}var f=[],h=Object.assign(lz,{defaultVisitor:l,convertValue:c,isVisitable:uz});if(!tz.isObject(e))throw new TypeError("data must be an object");return function e(n,r){if(!tz.isUndefined(n)){if(-1!==f.indexOf(n))throw Error("Circular reference detected in "+r.join("."));f.push(n),tz.forEach(n,(function(n,i){!0===(!tz.isUndefined(n)&&a.call(t,n,tz.isString(i)?i.trim():i,r,h))&&e(n,r?r.concat(i):[i])})),f.pop()}}(e),t};function hz(e){var t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,(function(e){return t[e]}))}function dz(e,t){this._pairs=[],e&&fz(e,this,t)}var pz=dz.prototype;pz.append=function(e,t){this._pairs.push([e,t])},pz.toString=function(e){var t=e?function(t){return e.call(this,t,hz)}:hz;return this._pairs.map((function(e){return t(e[0])+"="+t(e[1])}),"").join("&")};var vz=dz;function yz(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function mz(e,t,n){if(!t)return e;var r=e.indexOf("#");-1!==r&&(e=e.slice(0,r));var i=n&&n.encode||yz,a=tz.isURLSearchParams(t)?t.toString():new vz(t,n).toString(i);return a&&(e+=(-1===e.indexOf("?")?"?":"&")+a),e}var gz=function(){function e(){d(this,e),this.handlers=[]}return v(e,[{key:"use",value:function(e,t,n){return this.handlers.push({fulfilled:e,rejected:t,synchronous:!!n&&n.synchronous,runWhen:n?n.runWhen:null}),this.handlers.length-1}},{key:"eject",value:function(e){this.handlers[e]&&(this.handlers[e]=null)}},{key:"clear",value:function(){this.handlers&&(this.handlers=[])}},{key:"forEach",value:function(e){tz.forEach(this.handlers,(function(t){null!==t&&e(t)}))}}]),e}(),kz=gz,bz={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},wz="undefined"!==typeof URLSearchParams?URLSearchParams:vz,_z=FormData,xz=function(){var e;return("undefined"===typeof navigator||"ReactNative"!==(e=navigator.product)&&"NativeScript"!==e&&"NS"!==e)&&("undefined"!==typeof window&&"undefined"!==typeof document)}(),Ez={isBrowser:!0,classes:{URLSearchParams:wz,FormData:_z,Blob:Blob},isStandardBrowserEnv:xz,protocols:["http","https","file","blob","url","data"]};var Sz=function(e){function t(e,n,r,i){var a=e[i++],o=Number.isFinite(+a),u=i>=e.length;return a=!a&&tz.isArray(r)?r.length:a,u?(tz.hasOwnProp(r,a)?r[a]=[r[a],n]:r[a]=n,!o):(r[a]&&tz.isObject(r[a])||(r[a]=[]),t(e,n,r[a],i)&&tz.isArray(r[a])&&(r[a]=function(e){var t,n,r={},i=Object.keys(e),a=i.length;for(t=0;t<a;t++)r[n=i[t]]=e[n];return r}(r[a])),!o)}if(tz.isFormData(e)&&tz.isFunction(e.entries)){var n={};return tz.forEachEntry(e,(function(e,r){t(function(e){return tz.matchAll(/\w+|\[(\w*)]/g,e).map((function(e){return"[]"===e[0]?"":e[1]||e[0]}))}(e),r,n,0)})),n}return null};var Iz=Ez.isStandardBrowserEnv?{write:function(e,t,n,r,i,a){var o=[];o.push(e+"="+encodeURIComponent(t)),tz.isNumber(n)&&o.push("expires="+new Date(n).toGMTString()),tz.isString(r)&&o.push("path="+r),tz.isString(i)&&o.push("domain="+i),!0===a&&o.push("secure"),document.cookie=o.join("; ")},read:function(e){var t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove:function(e){this.write(e,"",Date.now()-864e5)}}:{write:function(){},read:function(){return null},remove:function(){}};function Tz(e,t){return e&&!/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)?function(e,t){return t?e.replace(/\/+$/,"")+"/"+t.replace(/^\/+/,""):e}(e,t):t}var Cz=Ez.isStandardBrowserEnv?function(){var e,t=/(msie|trident)/i.test(navigator.userAgent),n=document.createElement("a");function r(e){var r=e;return t&&(n.setAttribute("href",r),r=n.href),n.setAttribute("href",r),{href:n.href,protocol:n.protocol?n.protocol.replace(/:$/,""):"",host:n.host,search:n.search?n.search.replace(/^\?/,""):"",hash:n.hash?n.hash.replace(/^#/,""):"",hostname:n.hostname,port:n.port,pathname:"/"===n.pathname.charAt(0)?n.pathname:"/"+n.pathname}}return e=r(window.location.href),function(t){var n=tz.isString(t)?r(t):t;return n.protocol===e.protocol&&n.host===e.host}}():function(){return!0};function Nz(e,t,n){az.call(this,null==e?"canceled":e,az.ERR_CANCELED,t,n),this.name="CanceledError"}tz.inherits(Nz,az,{__CANCEL__:!0});var Az=Nz;var Oz=tz.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),Pz=Symbol("internals"),Rz=Symbol("defaults");function Dz(e){return e&&String(e).trim().toLowerCase()}function Fz(e){return!1===e||null==e?e:String(e)}function Lz(e,t,n,r){return tz.isFunction(r)?r.call(this,t,n):tz.isString(t)?tz.isString(r)?-1!==t.indexOf(r):tz.isRegExp(r)?r.test(t):void 0:void 0}function jz(e,t){t=t.toLowerCase();for(var n,r=Object.keys(e),i=r.length;i-- >0;)if(t===(n=r[i]).toLowerCase())return n;return null}function Mz(e,t){e&&this.set(e),this[Rz]=t||null}Object.assign(Mz.prototype,{set:function(e,t,n){var r=this;function i(e,t,n){var i=Dz(t);if(!i)throw new Error("header name must be a non-empty string");var a=jz(r,i);(!a||!0===n||!1!==r[a]&&!1!==n)&&(e=tz.isArray(e)?e.map(Fz):Fz(e),r[a||t]=e)}return tz.isPlainObject(e)?tz.forEach(e,(function(e,n){i(e,n,t)})):i(t,e,n),this},get:function(e,t){if(e=Dz(e)){var n=jz(this,e);if(n){var r=this[n];if(!t)return r;if(!0===t)return function(e){for(var t,n=Object.create(null),r=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;t=r.exec(e);)n[t[1]]=t[2];return n}(r);if(tz.isFunction(t))return t.call(this,r,n);if(tz.isRegExp(t))return t.exec(r);throw new TypeError("parser must be boolean|regexp|function")}}},has:function(e,t){if(e=Dz(e)){var n=jz(this,e);return!(!n||t&&!Lz(0,this[n],n,t))}return!1},delete:function(e,t){var n=this,r=!1;function i(e){if(e=Dz(e)){var i=jz(n,e);!i||t&&!Lz(0,n[i],i,t)||(delete n[i],r=!0)}}return tz.isArray(e)?e.forEach(i):i(e),r},clear:function(){return Object.keys(this).forEach(this.delete.bind(this))},normalize:function(e){var t=this,n={};return tz.forEach(this,(function(r,i){var a=jz(n,i);if(a)return t[a]=Fz(r),void delete t[i];var o=e?function(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(function(e,t,n){return t.toUpperCase()+n}))}(i):String(i).trim();o!==i&&delete t[i],t[o]=Fz(r),n[o]=!0})),this},toJSON:function(){var e=Object.create(null);return tz.forEach(Object.assign({},this[Rz]||null,this),(function(t,n){null!=t&&!1!==t&&(e[n]=tz.isArray(t)?t.join(", "):t)})),e}}),Object.assign(Mz,{from:function(e){return tz.isString(e)?new this(function(e){var t,n,r,i={};return e&&e.split("\n").forEach((function(e){r=e.indexOf(":"),t=e.substring(0,r).trim().toLowerCase(),n=e.substring(r+1).trim(),!t||i[t]&&Oz[t]||("set-cookie"===t?i[t]?i[t].push(n):i[t]=[n]:i[t]=i[t]?i[t]+", "+n:n)})),i}(e)):e instanceof this?e:new this(e)},accessor:function(e){var t=(this[Pz]=this[Pz]={accessors:{}}).accessors,n=this.prototype;function r(e){var r=Dz(e);t[r]||(!function(e,t){var n=tz.toCamelCase(" "+t);["get","set","has"].forEach((function(r){Object.defineProperty(e,r+n,{value:function(e,n,i){return this[r].call(this,t,e,n,i)},configurable:!0})}))}(n,e),t[r]=!0)}return tz.isArray(e)?e.forEach(r):r(e),this}}),Mz.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent"]),tz.freezeMethods(Mz.prototype),tz.freezeMethods(Mz);var Uz=Mz;var Vz=function(e,t){e=e||10;var n,r=new Array(e),i=new Array(e),a=0,o=0;return t=void 0!==t?t:1e3,function(u){var s=Date.now(),c=i[o];n||(n=s),r[a]=u,i[a]=s;for(var l=o,f=0;l!==a;)f+=r[l++],l%=e;if((a=(a+1)%e)===o&&(o=(o+1)%e),!(s-n<t)){var h=c&&s-c;return h?Math.round(1e3*f/h):void 0}}};function qz(e,t){var n=0,r=Vz(50,250);return function(i){var a=i.loaded,o=i.lengthComputable?i.total:void 0,u=a-n,s=r(u);n=a;var c={loaded:a,total:o,progress:o?a/o:void 0,bytes:u,rate:s||void 0,estimated:s&&o&&a<=o?(o-a)/s:void 0};c[t?"download":"upload"]=!0,e(c)}}function Bz(e){return new Promise((function(t,n){var r,i=e.data,a=Uz.from(e.headers).normalize(),o=e.responseType;function u(){e.cancelToken&&e.cancelToken.unsubscribe(r),e.signal&&e.signal.removeEventListener("abort",r)}tz.isFormData(i)&&Ez.isStandardBrowserEnv&&a.setContentType(!1);var s=new XMLHttpRequest;if(e.auth){var c=e.auth.username||"",l=e.auth.password?unescape(encodeURIComponent(e.auth.password)):"";a.set("Authorization","Basic "+btoa(c+":"+l))}var f=Tz(e.baseURL,e.url);function h(){if(s){var r=Uz.from("getAllResponseHeaders"in s&&s.getAllResponseHeaders());!function(e,t,n){var r=n.config.validateStatus;n.status&&r&&!r(n.status)?t(new az("Request failed with status code "+n.status,[az.ERR_BAD_REQUEST,az.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n)):e(n)}((function(e){t(e),u()}),(function(e){n(e),u()}),{data:o&&"text"!==o&&"json"!==o?s.response:s.responseText,status:s.status,statusText:s.statusText,headers:r,config:e,request:s}),s=null}}if(s.open(e.method.toUpperCase(),mz(f,e.params,e.paramsSerializer),!0),s.timeout=e.timeout,"onloadend"in s?s.onloadend=h:s.onreadystatechange=function(){s&&4===s.readyState&&(0!==s.status||s.responseURL&&0===s.responseURL.indexOf("file:"))&&setTimeout(h)},s.onabort=function(){s&&(n(new az("Request aborted",az.ECONNABORTED,e,s)),s=null)},s.onerror=function(){n(new az("Network Error",az.ERR_NETWORK,e,s)),s=null},s.ontimeout=function(){var t=e.timeout?"timeout of "+e.timeout+"ms exceeded":"timeout exceeded",r=e.transitional||bz;e.timeoutErrorMessage&&(t=e.timeoutErrorMessage),n(new az(t,r.clarifyTimeoutError?az.ETIMEDOUT:az.ECONNABORTED,e,s)),s=null},Ez.isStandardBrowserEnv){var d=(e.withCredentials||Cz(f))&&e.xsrfCookieName&&Iz.read(e.xsrfCookieName);d&&a.set(e.xsrfHeaderName,d)}void 0===i&&a.setContentType(null),"setRequestHeader"in s&&tz.forEach(a.toJSON(),(function(e,t){s.setRequestHeader(t,e)})),tz.isUndefined(e.withCredentials)||(s.withCredentials=!!e.withCredentials),o&&"json"!==o&&(s.responseType=e.responseType),"function"===typeof e.onDownloadProgress&&s.addEventListener("progress",qz(e.onDownloadProgress,!0)),"function"===typeof e.onUploadProgress&&s.upload&&s.upload.addEventListener("progress",qz(e.onUploadProgress)),(e.cancelToken||e.signal)&&(r=function(t){s&&(n(!t||t.type?new Az(null,e,s):t),s.abort(),s=null)},e.cancelToken&&e.cancelToken.subscribe(r),e.signal&&(e.signal.aborted?r():e.signal.addEventListener("abort",r)));var p=function(e){var t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}(f);p&&-1===Ez.protocols.indexOf(p)?n(new az("Unsupported protocol "+p+":",az.ERR_BAD_REQUEST,e)):s.send(i||null)}))}var zz={http:Bz,xhr:Bz},Wz=function(e){if(tz.isString(e)){var t=zz[e];if(!e)throw Error(tz.hasOwnProp(e)?"Adapter '".concat(e,"' is not available in the build"):"Can not resolve adapter '".concat(e,"'"));return t}if(!tz.isFunction(e))throw new TypeError("adapter is not a function");return e},Kz={"Content-Type":"application/x-www-form-urlencoded"};var Gz={transitional:bz,adapter:function(){var e;return"undefined"!==typeof XMLHttpRequest?e=Wz("xhr"):"undefined"!==typeof process&&"process"===tz.kindOf(process)&&(e=Wz("http")),e}(),transformRequest:[function(e,t){var n,r=t.getContentType()||"",i=r.indexOf("application/json")>-1,a=tz.isObject(e);if(a&&tz.isHTMLForm(e)&&(e=new FormData(e)),tz.isFormData(e))return i&&i?JSON.stringify(Sz(e)):e;if(tz.isArrayBuffer(e)||tz.isBuffer(e)||tz.isStream(e)||tz.isFile(e)||tz.isBlob(e))return e;if(tz.isArrayBufferView(e))return e.buffer;if(tz.isURLSearchParams(e))return t.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();if(a){if(r.indexOf("application/x-www-form-urlencoded")>-1)return function(e,t){return fz(e,new Ez.classes.URLSearchParams,Object.assign({visitor:function(e,t,n,r){return Ez.isNode&&tz.isBuffer(e)?(this.append(t,e.toString("base64")),!1):r.defaultVisitor.apply(this,arguments)}},t))}(e,this.formSerializer).toString();if((n=tz.isFileList(e))||r.indexOf("multipart/form-data")>-1){var o=this.env&&this.env.FormData;return fz(n?{"files[]":e}:e,o&&new o,this.formSerializer)}}return a||i?(t.setContentType("application/json",!1),function(e,t,n){if(tz.isString(e))try{return(t||JSON.parse)(e),tz.trim(e)}catch(r){if("SyntaxError"!==r.name)throw r}return(n||JSON.stringify)(e)}(e)):e}],transformResponse:[function(e){var t=this.transitional||Gz.transitional,n=t&&t.forcedJSONParsing,r="json"===this.responseType;if(e&&tz.isString(e)&&(n&&!this.responseType||r)){var i=!(t&&t.silentJSONParsing)&&r;try{return JSON.parse(e)}catch(a){if(i){if("SyntaxError"===a.name)throw az.from(a,az.ERR_BAD_RESPONSE,this,null,this.response);throw a}}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Ez.classes.FormData,Blob:Ez.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*"}}};tz.forEach(["delete","get","head"],(function(e){Gz.headers[e]={}})),tz.forEach(["post","put","patch"],(function(e){Gz.headers[e]=tz.merge(Kz)}));var Hz=Gz;function Qz(e,t){var n=this||Hz,r=t||n,i=Uz.from(r.headers),a=r.data;return tz.forEach(e,(function(e){a=e.call(n,a,i.normalize(),t?t.status:void 0)})),i.normalize(),a}function Yz(e){return!(!e||!e.__CANCEL__)}function $z(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new Az}function Jz(e){return $z(e),e.headers=Uz.from(e.headers),e.data=Qz.call(e,e.transformRequest),(e.adapter||Hz.adapter)(e).then((function(t){return $z(e),t.data=Qz.call(e,e.transformResponse,t),t.headers=Uz.from(t.headers),t}),(function(t){return Yz(t)||($z(e),t&&t.response&&(t.response.data=Qz.call(e,e.transformResponse,t.response),t.response.headers=Uz.from(t.response.headers))),Promise.reject(t)}))}function Xz(e,t){t=t||{};var n={};function r(e,t){return tz.isPlainObject(e)&&tz.isPlainObject(t)?tz.merge(e,t):tz.isPlainObject(t)?tz.merge({},t):tz.isArray(t)?t.slice():t}function i(n){return tz.isUndefined(t[n])?tz.isUndefined(e[n])?void 0:r(void 0,e[n]):r(e[n],t[n])}function a(e){if(!tz.isUndefined(t[e]))return r(void 0,t[e])}function o(n){return tz.isUndefined(t[n])?tz.isUndefined(e[n])?void 0:r(void 0,e[n]):r(void 0,t[n])}function u(n){return n in t?r(e[n],t[n]):n in e?r(void 0,e[n]):void 0}var s={url:a,method:a,data:a,baseURL:o,transformRequest:o,transformResponse:o,paramsSerializer:o,timeout:o,timeoutMessage:o,withCredentials:o,adapter:o,responseType:o,xsrfCookieName:o,xsrfHeaderName:o,onUploadProgress:o,onDownloadProgress:o,decompress:o,maxContentLength:o,maxBodyLength:o,beforeRedirect:o,transport:o,httpAgent:o,httpsAgent:o,cancelToken:o,socketPath:o,responseEncoding:o,validateStatus:u};return tz.forEach(Object.keys(e).concat(Object.keys(t)),(function(e){var t=s[e]||i,r=t(e);tz.isUndefined(r)&&t!==u||(n[e]=r)})),n}var Zz="1.1.2",eW={};["object","boolean","number","function","string","symbol"].forEach((function(e,t){eW[e]=function(n){return typeof n===e||"a"+(t<1?"n ":" ")+e}}));var tW={};eW.transitional=function(e,t,n){function r(e,t){return"[Axios v1.1.2] Transitional option '"+e+"'"+t+(n?". "+n:"")}return function(n,i,a){if(!1===e)throw new az(r(i," has been removed"+(t?" in "+t:"")),az.ERR_DEPRECATED);return t&&!tW[i]&&(tW[i]=!0,console.warn(r(i," has been deprecated since v"+t+" and will be removed in the near future"))),!e||e(n,i,a)}};var nW={assertOptions:function(e,t,n){if("object"!==typeof e)throw new az("options must be an object",az.ERR_BAD_OPTION_VALUE);for(var r=Object.keys(e),i=r.length;i-- >0;){var a=r[i],o=t[a];if(o){var u=e[a],s=void 0===u||o(u,a,e);if(!0!==s)throw new az("option "+a+" must be "+s,az.ERR_BAD_OPTION_VALUE)}else if(!0!==n)throw new az("Unknown option "+a,az.ERR_BAD_OPTION)}},validators:eW},rW=nW.validators,iW=function(){function e(t){d(this,e),this.defaults=t,this.interceptors={request:new kz,response:new kz}}return v(e,[{key:"request",value:function(e,t){"string"===typeof e?(t=t||{}).url=e:t=e||{};var n=(t=Xz(this.defaults,t)).transitional;void 0!==n&&nW.assertOptions(n,{silentJSONParsing:rW.transitional(rW.boolean),forcedJSONParsing:rW.transitional(rW.boolean),clarifyTimeoutError:rW.transitional(rW.boolean)},!1),t.method=(t.method||this.defaults.method||"get").toLowerCase();var r=t.headers&&tz.merge(t.headers.common,t.headers[t.method]);r&&tz.forEach(["delete","get","head","post","put","patch","common"],(function(e){delete t.headers[e]})),t.headers=new Uz(t.headers,r);var i=[],a=!0;this.interceptors.request.forEach((function(e){"function"===typeof e.runWhen&&!1===e.runWhen(t)||(a=a&&e.synchronous,i.unshift(e.fulfilled,e.rejected))}));var o,u=[];this.interceptors.response.forEach((function(e){u.push(e.fulfilled,e.rejected)}));var s,c=0;if(!a){var l=[Jz.bind(this),void 0];for(l.unshift.apply(l,i),l.push.apply(l,u),s=l.length,o=Promise.resolve(t);c<s;)o=o.then(l[c++],l[c++]);return o}s=i.length;var f=t;for(c=0;c<s;){var h=i[c++],d=i[c++];try{f=h(f)}catch(PO){d.call(this,PO);break}}try{o=Jz.call(this,f)}catch(PO){return Promise.reject(PO)}for(c=0,s=u.length;c<s;)o=o.then(u[c++],u[c++]);return o}},{key:"getUri",value:function(e){return mz(Tz((e=Xz(this.defaults,e)).baseURL,e.url),e.params,e.paramsSerializer)}}]),e}();tz.forEach(["delete","get","head","options"],(function(e){iW.prototype[e]=function(t,n){return this.request(Xz(n||{},{method:e,url:t,data:(n||{}).data}))}})),tz.forEach(["post","put","patch"],(function(e){function t(t){return function(n,r,i){return this.request(Xz(i||{},{method:e,headers:t?{"Content-Type":"multipart/form-data"}:{},url:n,data:r}))}}iW.prototype[e]=t(),iW.prototype[e+"Form"]=t(!0)}));var aW=iW,oW=function(){function e(t){if(d(this,e),"function"!==typeof t)throw new TypeError("executor must be a function.");var n;this.promise=new Promise((function(e){n=e}));var r=this;this.promise.then((function(e){if(r._listeners){for(var t=r._listeners.length;t-- >0;)r._listeners[t](e);r._listeners=null}})),this.promise.then=function(e){var t,n=new Promise((function(e){r.subscribe(e),t=e})).then(e);return n.cancel=function(){r.unsubscribe(t)},n},t((function(e,t,i){r.reason||(r.reason=new Az(e,t,i),n(r.reason))}))}return v(e,[{key:"throwIfRequested",value:function(){if(this.reason)throw this.reason}},{key:"subscribe",value:function(e){this.reason?e(this.reason):this._listeners?this._listeners.push(e):this._listeners=[e]}},{key:"unsubscribe",value:function(e){if(this._listeners){var t=this._listeners.indexOf(e);-1!==t&&this._listeners.splice(t,1)}}}],[{key:"source",value:function(){var t,n=new e((function(e){t=e}));return{token:n,cancel:t}}}]),e}(),uW=oW;var sW=function e(t){var n=new aW(t),r=CB(aW.prototype.request,n);return tz.extend(r,aW.prototype,n,{allOwnKeys:!0}),tz.extend(r,n,null,{allOwnKeys:!0}),r.create=function(n){return e(Xz(t,n))},r}(Hz);sW.Axios=aW,sW.CanceledError=Az,sW.CancelToken=uW,sW.isCancel=Yz,sW.VERSION=Zz,sW.toFormData=fz,sW.AxiosError=az,sW.Cancel=sW.CanceledError,sW.all=function(e){return Promise.all(e)},sW.spread=function(e){return function(t){return e.apply(null,t)}},sW.isAxiosError=function(e){return tz.isObject(e)&&!0===e.isAxiosError},sW.formToJSON=function(e){return Sz(tz.isHTMLForm(e)?new FormData(e):e)};var cW,lW=sW,fW=SB("cases/fetchCases",He(Ke().mark((function e(){var t,n;return Ke().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,lW.get("https://634a618a5df952851410556e.mockapi.io/hotSkins");case 3:return t=e.sent,n=t.data,e.abrupt("return",n);case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})))),hW=kB({name:"cases",initialState:{cases:[],loading:!1,status:!1},reducers:{setCases:function(e,t){e.cases=t.payload},deleteCases:function(e){e.cases=[]}},extraReducers:(cW={},ba(cW,fW.pending,(function(e){e.loading=!0,e.status=!1})),ba(cW,fW.fulfilled,(function(e,t){e.cases=t.payload,e.loading=!1,e.status=!0})),ba(cW,fW.rejected,(function(e){e.loading=!1,e.status=!1})),cW)}),dW=hW.actions,pW=(dW.setCases,dW.deleteCases,hW.reducer),vW=n(7248),yW=n(327),mW=n(4164);var gW=function(e){e()},kW=function(){return gW},bW=(0,r.createContext)(null);function wW(){return(0,r.useContext)(bW)}var _W=function(){throw new Error("uSES not initialized!")},xW=_W,EW=function(e,t){return e===t};function SW(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:bW,t=e===bW?wW:function(){return(0,r.useContext)(e)};return function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:EW;var i=t(),a=i.store,o=i.subscription,u=i.getServerState,s=xW(o.addNestedSub,a.getState,u||a.getState,e,n);return(0,r.useDebugValue)(s),s}}var IW=SW();n(6900);var TW={notify:function(){},get:function(){return[]}};function CW(e,t){var n,r=TW;function i(){o.onStateChange&&o.onStateChange()}function a(){n||(n=t?t.addNestedSub(i):e.subscribe(i),r=function(){var e=kW(),t=null,n=null;return{clear:function(){t=null,n=null},notify:function(){e((function(){for(var e=t;e;)e.callback(),e=e.next}))},get:function(){for(var e=[],n=t;n;)e.push(n),n=n.next;return e},subscribe:function(e){var r=!0,i=n={callback:e,next:null,prev:n};return i.prev?i.prev.next=i:t=i,function(){r&&null!==t&&(r=!1,i.next?i.next.prev=i.prev:n=i.prev,i.prev?i.prev.next=i.next:t=i.next)}}}}())}var o={addNestedSub:function(e){return a(),r.subscribe(e)},notifyNestedSubs:function(){r.notify()},handleChangeWrapper:i,isSubscribed:function(){return Boolean(n)},trySubscribe:a,tryUnsubscribe:function(){n&&(n(),n=void 0,r.clear(),r=TW)},getListeners:function(){return r}};return o}var NW=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement)?r.useLayoutEffect:r.useEffect;var AW=function(e){var t=e.store,n=e.context,i=e.children,a=e.serverState,o=(0,r.useMemo)((function(){var e=CW(t);return{store:t,subscription:e,getServerState:a?function(){return a}:void 0}}),[t,a]),u=(0,r.useMemo)((function(){return t.getState()}),[t]);NW((function(){var e=o.subscription;return e.onStateChange=e.notifyNestedSubs,e.trySubscribe(),u!==t.getState()&&e.notifyNestedSubs(),function(){e.tryUnsubscribe(),e.onStateChange=void 0}}),[o,u]);var s=n||bW;return r.createElement(s.Provider,{value:o},i)};function OW(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:bW,t=e===bW?wW:function(){return(0,r.useContext)(e)};return function(){return t().store}}var PW=OW();function RW(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:bW,t=e===bW?PW:OW(e);return function(){return t().dispatch}}var DW,FW=RW();!function(e){xW=e}(yW.useSyncExternalStoreWithSelector),function(e){e}(vW.useSyncExternalStore),DW=mW.unstable_batchedUpdates,gW=DW;var LW,jW=n.p+"static/media/loading.6173eb758b6e42c1e7734dc79a1c6bd6.svg",MW=function(){var e=FW(),t=IW((function(e){return e.cases})),n=t.cases,i=t.loading;return(0,r.useEffect)((function(){0===n.length&&e(fW())}),[e,n]),(0,ze.jsxs)("div",{className:"container container-transparent container-cases",children:[(0,ze.jsxs)("div",{className:"title",children:[(0,ze.jsx)("h1",{children:"HOT OFFERS"}),(0,ze.jsx)("h2",{children:"\u041b\u0423\u0427\u0428\u0418\u0415 \u041a\u0415\u0419\u0421\u042b \u0421 \u0411\u041e\u041b\u042c\u0428\u0418\u041c\u0418 \u0421\u041a\u0418\u0414\u041a\u0410\u041c\u0418"})]}),i?(0,ze.jsx)("span",{className:"loading",children:(0,ze.jsx)("img",{src:jW,alt:""})}):null,(0,ze.jsx)("div",{className:"cases",children:n&&n.map((function(e){return(0,ze.jsx)(UV,{imageUrl:e.imageUrl,title:e.title,price:e.price,id:e.id},e.id)}))})]})},UW=kB({name:"filter",initialState:{filter:{mysteryRare:!1,covertRare:!1,classifiedRare:!1,restrictedRare:!1,milSpecGradeRare:!1}},reducers:{setFilters:function(e,t){e.filter=Co(Co({},e.filter),{},{mysteryRare:t.payload.mysteryRare,covertRare:t.payload.covertRare,classifiedRare:t.payload.classifiedRare,restrictedRare:t.payload.restrictedRare,milSpecGradeRare:t.payload.milSpecGradeRare})}}}),VW=UW.actions.setFilters,qW=UW.reducer,BW=function(e){var t=e.inventory,n=FW(),i=l((0,r.useState)(!1),2),a=i[0],o=i[1],u=l((0,r.useState)(!1),2),s=u[0],c=u[1],f=l((0,r.useState)(!1),2),h=f[0],d=f[1],p=l((0,r.useState)(!1),2),v=p[0],y=p[1],m=l((0,r.useState)(!1),2),g=m[0],k=m[1],b=l((0,r.useState)(0),2),w=b[0],_=b[1],x=l((0,r.useState)(0),2),E=x[0],S=x[1],I=l((0,r.useState)(0),2),T=I[0],C=I[1],N=l((0,r.useState)(0),2),A=N[0],O=N[1],P=l((0,r.useState)(0),2),R=P[0],D=P[1];return(0,r.useEffect)((function(){n(VW({mysteryRare:a,covertRare:s,classifiedRare:h,restrictedRare:v,milSpecGradeRare:g}))}),[a,s,h,v,g,n]),(0,r.useEffect)((function(){for(var e=0,n=0,r=0,i=0,a=0,o=0;o<t.length;o++)switch(t[o].color){case"Covert Mystery":e+=1;break;case"Covert":n+=1;break;case"Classified":r+=1;break;case"Restricted":i+=1;break;case"Mil-Spec-Grade":a+=1;break;default:console.error("\u041d\u0435\u0442 \u043f\u043e\u0434\u0445\u043e\u0434\u044f\u0449\u0435\u0439 \u0440\u0435\u0434\u043a\u043e\u0441\u0442\u0438 \u0434\u043b\u044f ".concat(t[o].color))}_(e),S(n),C(r),O(i),D(a)}),[t]),(0,ze.jsxs)("div",{className:"categories-rare",children:[(0,ze.jsx)("span",{className:"rare-title",children:"\u0420\u0435\u0434\u043a\u043e\u0441\u0442\u044c"}),(0,ze.jsxs)("span",{className:"rare-item",children:[(0,ze.jsx)("button",{className:"square square-mystery ".concat(a&&"square-mystery-active"),onClick:function(){return o(!a)},children:a&&(0,ze.jsx)("i",{className:"ri-check-line"})}),(0,ze.jsx)("span",{className:"number",children:w})]}),(0,ze.jsxs)("span",{className:"rare-item",children:[(0,ze.jsx)("button",{className:"square square-covert ".concat(s&&"square-covert-active"),onClick:function(){return c(!s)},children:s&&(0,ze.jsx)("i",{className:"ri-check-line"})}),(0,ze.jsx)("span",{className:"number",children:E})]}),(0,ze.jsxs)("span",{className:"rare-item",children:[(0,ze.jsx)("button",{className:"square square-classified ".concat(h&&"square-classified-active"),onClick:function(){return d(!h)},children:h&&(0,ze.jsx)("i",{className:"ri-check-line"})}),(0,ze.jsx)("span",{className:"number",children:T})]}),(0,ze.jsxs)("span",{className:"rare-item",children:[(0,ze.jsx)("button",{className:"square square-restricted ".concat(v&&"square-restricted-active"),onClick:function(){return y(!v)},children:v&&(0,ze.jsx)("i",{className:"ri-check-line"})}),(0,ze.jsx)("span",{className:"number",children:A})]}),(0,ze.jsxs)("span",{className:"rare-item",children:[(0,ze.jsx)("button",{className:"square square-mil-spec-grade ".concat(g&&"square-mil-spec-grade-active"),onClick:function(){return k(!g)},children:g&&(0,ze.jsx)("i",{className:"ri-check-line"})}),(0,ze.jsx)("span",{className:"number",children:R})]})]})},zW=function(e,t,n,r){var i,a=[],o=ka(n);try{for(o.s();!(i=o.n()).done;)for(var u=i.value,s=0;s<r;s++)t[s].color===u&&a.push(t[s])}catch(c){o.e(c)}finally{o.f()}e(0===n.length?t:a)},WW=function(e){var t=e.inventory,n=e.uid,i=e.sellItem,a=void 0!==t?t.slice().reverse():[],o=void 0!==t?t.length:0,u=IW((function(e){return e.filter.filter})),s=l((0,r.useState)([]),2),c=s[0],f=s[1],d=l((0,r.useState)([]),2),p=d[0],v=d[1],y=void 0!==t?p.length:0;return(0,r.useEffect)((function(){var e={mysteryRare:"Covert Mystery",covertRare:"Covert",classifiedRare:"Classified",restrictedRare:"Restricted",milSpecGradeRare:"Mil-Spec-Grade"},t=function(t){u[t]&&!c.includes(e[t])?f([].concat(h(c),[e[t]])):!u[t]&&c.includes(e[t])&&f(c.filter((function(n){return n!==e[t]})))};for(var n in e)t(n)}),[u]),(0,r.useEffect)((function(){zW(v,a,c,o)}),[c]),(0,r.useEffect)((function(){0!==o&&0===y&&v(a),v(0===o?[]:a),o<y?v(0===o?[]:a):o>y&&zW(v,a,c,o)}),[t]),0===o?(0,ze.jsxs)("div",{className:"profile-title",children:[(0,ze.jsx)("div",{className:"suptitle",children:"\u0412\u0430\u0448 \u0438\u043d\u0432\u0435\u043d\u0442\u0430\u0440\u0442\u044c \u043f\u0443\u0441\u0442\u043e\u0439"}),(0,ze.jsxs)("div",{children:[(0,ze.jsx)("span",{children:"\u041f\u0435\u0440\u0435\u0439\u0442\u0438 \u0432 "}),(0,ze.jsx)(Ve,{className:"profile-link",to:"/home",children:"\u041a\u0435\u0439\u0441\u044b"})]})]}):(0,ze.jsx)("div",{className:"container-inventory",children:(0,ze.jsx)("div",{className:"profile-skin",children:p.map((function(e,t){return(0,ze.jsxs)("div",{className:"profile-skin-item",children:[(0,ze.jsx)("img",{src:e.imageUrl,alt:""}),(0,ze.jsxs)("span",{children:[e.price," \u20bd"]}),(0,ze.jsx)("div",{className:"light light-".concat("Covert Mystery"===e.color?"Mystery":e.color)}),(0,ze.jsx)("button",{className:"btn btn-small-".concat("Covert Mystery"===e.color?"Mystery":e.color),onClick:function(){return i(n,e.index,Number(e.price).toFixed(2))},children:"\u041f\u0440\u043e\u0434\u0430\u0442\u044c"})]},t)}))})})},KW=function(){var e=IW((function(e){return e.login})),t=e.inventory,n=e.uid,r=e.balance,i=void 0!==t?t.length:0,a=void 0!==t&&t.reduce((function(e,t){return e+t.price}),0);return(0,ze.jsxs)("div",{className:"container container-transparent",children:[(0,ze.jsxs)("div",{className:"container-profile",children:[(0,ze.jsxs)("div",{className:"left-side",children:[(0,ze.jsx)("div",{className:"left-side-title",children:"\u0412\u044b\u0431\u043e\u0440 \u043f\u0440\u0435\u0434\u043c\u0435\u0442\u043e\u0432 \u0434\u043b\u044f \u043e\u0431\u043c\u0435\u043d\u0430"}),(0,ze.jsxs)("div",{className:"left-side-subtitle",children:["\u0412\u0441\u0435\u0433\u043e",(0,ze.jsxs)("span",{children:[" ",i," \u043f\u0440\u0435\u0434\u043c\u0435\u0442\u043e\u0432 "]}),"\u043d\u0430 \u0441\u0443\u043c\u043c\u0443",(0,ze.jsxs)("span",{children:[" ",a.toFixed(2)," \u20bd "]})]}),(0,ze.jsx)(BW,{inventory:t})]}),(0,ze.jsx)("div",{className:"right-side",children:(0,ze.jsx)("button",{className:"btn",onClick:function(){return QM(n,Number(r)+3e3)},children:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c 3000\u0440\u0443\u0431 \u043d\u0430 \u0430\u043a\u043a\u0430\u0443\u043d\u0442"})})]}),(0,ze.jsx)(WW,{uid:n,inventory:t,sellItem:function(e,n,i){var a=t.filter((function(e,t){return t!==n}));YM(e,a),QM(e,Number(r)+Number(i))}})]})},GW=SB("case/fetchDataCase",function(){var e=He(Ke().mark((function e(t){var n,r,i;return Ke().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.id,e.next=3,lW.get("https://634a618a5df952851410556e.mockapi.io/cases".concat("1"===n?"":n,"?id=").concat(n));case 3:return r=e.sent,i=r.data,e.abrupt("return",i);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),HW=kB({name:"case",initialState:{caseData:[],loading:!1,status:!1},reducers:{setDataCase:function(e,t){e.caseData=t.payload}},extraReducers:(LW={},ba(LW,GW.pending,(function(e){e.loading=!0,e.status=!1})),ba(LW,GW.fulfilled,(function(e,t){e.caseData=t.payload[0],e.loading=!1,e.status=!0})),ba(LW,GW.rejected,(function(e){e.loading=!1,e.status=!1})),LW)}),QW=(HW.actions.setDataCase,HW.reducer),YW=function(e){var t=e.skinItem;return(0,ze.jsxs)("div",{className:"completed-skin",children:[(0,ze.jsx)("span",{className:"bg ".concat(t.color)}),(0,ze.jsx)("img",{src:t.imageUrl,alt:""}),(0,ze.jsxs)("div",{className:"info",children:[(0,ze.jsxs)("div",{className:"info-type",children:[t.StatTrak&&(0,ze.jsxs)("span",{className:"StatTrak",children:["\u2605StatTrak ",(0,ze.jsx)("span",{children:" | "})]}),t.type," | ",t.skinTitle]}),(0,ze.jsx)("div",{className:"info-property",children:t.property}),(0,ze.jsxs)("div",{className:"price",children:[t.price," \u20bd"]})]})]})},$W=function(e){var t=e.fullObjSkins,n=e.skinsLength,r=55*Math.random();return(0,ze.jsxs)("div",{className:"carousel",children:[(0,ze.jsx)("div",{className:"carousel-border"}),(0,ze.jsx)("div",{className:"carousel-container",style:{transform:"translateX(".concat(Math.random()>=.5?-r:r,"px)")},children:t.map((function(e,t){return(0,ze.jsx)("div",{className:"carousel-item ".concat(e.color),style:{transform:"translateX(-".concat(122*(n-3)*2,"px)")},children:(0,ze.jsxs)("div",{className:"carousel-item-img",children:[(0,ze.jsx)("div",{children:(0,ze.jsx)("img",{src:e.imageUrl,alt:""})}),(0,ze.jsx)("div",{className:"carousel-item-title",children:e.skinTitle})]})},t)}))})]})},JW=function(e){var t=e.isAuth,n=e.allowBuy,r=e.duringCarousel,i=e.leaveSkin,a=e.openCase,o=e.price,u=e.dropItem,s=e.skinItem,c=e.sellItem,l=e.dropPrice,f=e.leaveSkinInProfile;return(0,ze.jsxs)("div",{className:"open-btn",children:[t&&n&&!r&&!i&&(0,ze.jsxs)("button",{className:"btn btn-min-width",onClick:a,children:["\u041e\u0442\u043a\u0440\u044b\u0442\u044c \u0437\u0430 ",o,"\u20bd"]}),t&&!n&&!r&&!i&&(0,ze.jsx)(Ve,{to:"/profile",className:"btn btn-min-width",children:"\u041f\u043e\u043f\u043e\u043b\u043d\u0438\u0442\u044c \u0431\u0430\u043b\u0430\u043d\u0441"}),!t&&(0,ze.jsx)(Ve,{className:"btn btn-min-width",to:"/signin",children:"\u0412\u043e\u0439\u0442\u0438, \u0447\u0442\u043e\u0431\u044b \u043e\u0442\u043a\u0440\u044b\u0442\u044c"}),t&&u&&i&&(0,ze.jsxs)("div",{className:"two-btns",children:[(0,ze.jsx)("button",{onClick:function(){return f(s)},className:"btn btn-min-width",children:"\u041e\u0441\u0442\u0430\u0432\u0438\u0442\u044c"}),(0,ze.jsxs)("button",{className:"btn btn-min-width",onClick:function(){return c(l)},children:["\u041f\u0440\u043e\u0434\u0430\u0442\u044c \u0437\u0430 ",l,"\u20bd"]})]}),t&&r&&!u&&(0,ze.jsx)("button",{disabled:!0,className:"btn btn-min-width",children:"\u041e\u0442\u043a\u0440\u044b\u0432\u0430\u0435\u0442\u0441\u044f..."})]})},XW=function(){var e=function(){var e=r.useContext(de).matches,t=e[e.length-1];return t?t.params:{}}(),t=e.id,n=FW(),i=uU(),a=document.body.clientWidth,o=Math.random(),u=IW((function(e){return e.caseData})),s=u.caseData,c=u.loading,f=IW((function(e){return e.login})),d=f.balance,p=f.uid,v=f.luckyChance,y=f.inventory,m=l((0,r.useState)(!1),2),g=m[0],k=m[1],b=l((0,r.useState)(null),2),w=b[0],_=b[1],x=l((0,r.useState)(!1),2),E=x[0],S=x[1],I=l((0,r.useState)(!1),2),T=I[0],C=I[1],N=l((0,r.useState)(0),2),A=N[0],O=N[1],P=l((0,r.useState)(!1),2),R=P[0],D=P[1],F=l((0,r.useState)(!1),2),L=F[0],j=F[1];(0,r.useEffect)((function(){n(GW({id:t}))}),[n,t]),(0,r.useEffect)((function(){d-s.price>=0?S(!0):S(!1)}),[d,s.price]);return c||0===s.length?(0,ze.jsx)("img",{src:jW,className:"loading",alt:""}):(0,ze.jsxs)("div",{children:[(0,ze.jsxs)("div",{className:"container container-transparent",children:[(0,ze.jsxs)("div",{className:"info",children:[(0,ze.jsx)("h1",{children:s.title}),g&&!T&&function(){for(var e=[],t=0;t<2*s.skins.length-2;t++){var n=Math.random(),r=s.skins[Math.round(n*(s.skins.length-6))],i={skinTitle:r.skinTitle,imageUrl:r.skinItems[0].image,color:r.color};43===t?e.push(w):e.push(i)}return(0,ze.jsx)($W,{fullObjSkins:e,skinsLength:s.skins.length})}(),!g&&(0,ze.jsx)("div",{className:"case-form",children:(0,ze.jsx)("img",{src:s.imageUrl,alt:""})}),g&&(0,ze.jsx)(YW,{skinItem:w})]}),(0,ze.jsx)(JW,{isAuth:i,allowBuy:E,duringCarousel:R,leaveSkin:L,openCase:function(){var e=function(){var e=s.skins.length/5-1,t=Math.round(Math.random()*e),n=o-v;return n<=.0026?20+t:.0026<n&&n<=.009?15+t:.009<n&&n<=.041?10+t:.041<n&&n<=.2053?5+t:t}(),t=s.skins[e].skinItems.length/2-1,n=s.skins[e],r=n.skinItems[Math.round(Math.random()*t)+(Math.random()<=.1?t+1:0)],i={skinId:n.skinId,skinTitle:n.skinTitle,type:n.type,color:n.color,imageUrl:r.image,price:r.price,StatTrak:r.StatTrak,property:r.property};!function(e){if(y){var t=[].concat(h(y),[e]);YM(p,t)}else YM(p,[e])}(i),k(!0),QM(p,d-s.price),_(i),O(i.price),D(!0),setTimeout((function(){j(!0),C(!0)}),11700),setTimeout((function(){D(!1)}),12e3)},price:s.price,dropItem:T,sellItem:function(e){k(!1),C(!1),j(!1);var t=y.filter((function(e,t){return t!==y.length-1}));YM(p,t),QM(p,Math.round(d+e))},leaveSkinInProfile:function(e){j(!1),k(!1),C(!1)},dropPrice:A,skinItem:w})]}),(0,ze.jsxs)("div",{className:"container container-transparent container-black",children:[(0,ze.jsx)("h2",{children:"\u0421\u043e\u0434\u0435\u0440\u0436\u0438\u043c\u043e\u0435 \u043a\u0435\u0439\u0441\u0430"}),(0,ze.jsx)("div",{className:"skins",children:s&&s.skins.map((function(e){return(0,ze.jsxs)("div",{className:"skin ".concat(e.color),children:[(0,ze.jsx)("img",{src:e.skinItems[0].image,alt:""}),(0,ze.jsx)("div",{className:"skin-title",children:a>415?e.skinTitle:(t=e.skinTitle,n=14,String(t).length>n&&t?String(t).slice(0,n)+"...":String(t))}),(0,ze.jsx)("div",{className:"skin-type",children:e.type})]},e.skinId);var t,n}))})]})]})},ZW=kB({name:"login",initialState:{email:"",balance:0,username:"",uid:"",luckyChance:0,inventory:[],isDataProfile:!1},reducers:{setDataAccount:function(e,t){e.username=t.payload.username,e.email=t.payload.email,e.balance=t.payload.balance.toFixed(2),e.uid=t.payload.uid,e.luckyChance=t.payload.luckyChance;var n=[],r=t.payload.inventory;if(r)for(var i=0;i<r.length;i++){var a=r[i];a.index=i,n.push(a)}e.inventory=n,e.isDataProfile=!0}}}),eK=ZW.actions.setDataAccount,tK=ZW.reducer,nK=n.p+"static/media/imgContact.f0ffeecc92ed32bc93ba.jpg",rK=function(){return(0,ze.jsx)("div",{className:"container container-transparent",children:(0,ze.jsxs)("div",{className:"contacts",children:[(0,ze.jsx)("div",{children:"\u0414\u0435\u043b\u0430\u043b\u0438:"}),(0,ze.jsxs)("div",{className:"fffff",children:[(0,ze.jsx)("img",{src:nK,alt:""}),(0,ze.jsx)("div",{className:"username",children:"\u042f"}),(0,ze.jsx)("div",{className:"link",children:"Telegram: @offnik228420"})]})]})})},iK=function(){return(0,ze.jsx)("div",{className:"container container-footer",children:(0,ze.jsxs)("footer",{className:"footer",children:[(0,ze.jsx)("div",{className:"copyright",children:"Copyright \xa9 Skincash.ru"}),(0,ze.jsxs)("div",{children:[(0,ze.jsx)(Ve,{to:"/",children:"\u041f\u043e\u043c\u043e\u0449\u044c"}),(0,ze.jsx)(Ve,{to:"/contacts",children:"\u041a\u043e\u043d\u0442\u0430\u043a\u0442\u044b"}),(0,ze.jsx)(Ve,{to:"/?",children:"\u041f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044c\u0441\u043a\u043e\u0435 \u0441\u043e\u0433\u043b\u0430\u0448\u0435\u043d\u0438\u0435"})]})]})})},aK=function(){var e=(0,r.useRef)(null),t=uU(),n=IW((function(e){return e.login})),i=n.username,a=n.balance,o=l((0,r.useState)(!1),2),u=o[0],s=o[1],c=function(){s(!1),XM()},f=l((0,r.useState)(0),2),h=f[0],d=f[1];return(0,r.useEffect)((function(){String(a).includes(".00")?d(a.slice(0,a.length-3)):d(a),String(a).length>10&&a&&d(String(a).slice(0,10)+"...")}),[a]),(0,ze.jsx)("div",{className:"container",children:(0,ze.jsxs)("header",{className:"header",children:[(0,ze.jsx)("div",{className:"navbar-mobile ".concat(u?"navbar-mobile-open":"navbar-mobile-close"),children:(0,ze.jsx)("div",{className:"container container-transparent",children:(0,ze.jsxs)("div",{className:"link",children:[t&&(0,ze.jsx)(Ve,{to:"/profile",className:"link-item",onClick:function(){return s(!1)},children:"\u041f\u0440\u043e\u0444\u0438\u043b\u044c"}),(0,ze.jsx)(Ve,{to:"/home",className:"link-item",onClick:function(){return s(!1)},children:"\u041a\u0435\u0439\u0441\u044b"}),(0,ze.jsx)(Ve,{to:"/",className:"link-item",onClick:function(){return s(!1)},children:"\u041c\u043e\u043d\u0435\u0442\u043a\u0430"}),(0,ze.jsx)(Ve,{to:"/",className:"link-item",onClick:function(){return s(!1)},children:"\u041f\u043e\u043c\u043e\u0449\u044c"}),(0,ze.jsx)(Ve,{to:"/contacts",className:"link-item",onClick:function(){return s(!1)},children:"\u041a\u043e\u043d\u0442\u0430\u043a\u0442\u044b"}),t?(0,ze.jsx)(Ve,{onClick:c,to:"/",className:"link-item",children:"\u0412\u044b\u0439\u0442\u0438"}):(0,ze.jsx)(Ve,{onClick:c,to:"/signin",className:"link-item",children:"\u0412\u043e\u0439\u0442\u0438"})]})})}),(0,ze.jsxs)("div",{className:"burger",children:[u?(0,ze.jsx)("i",{ref:e,className:"ri-close-line",onClick:function(){return s(!u)}}):(0,ze.jsx)("i",{ref:e,className:"ri-menu-2-line",onClick:function(){return s(!u)}}),(0,ze.jsxs)(Ve,{to:"".concat(t?"/home":"/"),className:"logo",children:[(0,ze.jsx)("span",{children:"Hot"}),(0,ze.jsx)("span",{children:"Skins"})]})]}),(0,ze.jsxs)("div",{className:"info",children:[(0,ze.jsx)(Ve,{to:"/home",children:"\u041a\u0435\u0439\u0441\u044b"}),(0,ze.jsx)(Ve,{to:"/home",children:"\u041c\u043e\u043d\u0435\u0442\u043a\u0430"})]}),t&&(0,ze.jsxs)("div",{className:"account",children:[(0,ze.jsxs)("div",{className:"account-container",style:{width:h.length<6&&"100%"},children:[(0,ze.jsx)(Ve,{className:"account-photo",to:"/profile",children:(0,ze.jsx)("img",{src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAAoCAYAAACM/rhtAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAU+SURBVHgBxVlNU9tWFL2SZQsbbAQ4CUNbatppS9uZ4O6YTmfi0k2Xpv0D+QeIZVfQXXY1/6C/oKG7dhOcHUs3M23ptFOcpFAgDhY42MhYVs4VlmISWx+245wZYSG/Jx2dd+995z0L1CMyWTUjEqVJpFtk4pNIaR0MTSAqmgIVqUm/NYny+c1cnnqAEKQxSCmiSCsgpOq1U+WiXqN67ZT40zAMMpuNy5uKEknhCElShCLRBMkjcQrLsSKelm826XuQLfp9pi+CLWJrTaOhnp0cUrXylBoXOgVBSJIpMTlDEZCVIvKPfomGvBpkvl1dwVBuVsp7mePDXdKrJ9RsGhQUJvqcn2nWAaXTI9FEdm5+8WR3Z7vg1s9VwaVv1B+glHp88A9d6FUaJFjR5MxHrGbu3k+5VQpCkIdUEOhurVLKaKXHTmwNGqIYoonrcxQdnSgYJn2JIddeadOpY0igLSZXPtp9beQYHCpPMTpnlVKaBenU5pUY5GE9Pytnjw//JT/gDE1MvkXjU7OkJGetcyiCZBhD4AlIpnPPe3BcSmE59WF6Sdn9c/vXrgSXsurtRkO/U/r/b45q15tyDE1Nf2ARQgkhMSS1fRe2rsXikzSaSFKtqllJ4oZ6rYIXm1x8/5MvOHG27etODCLuUiKG9uDRg5ThUUL44dcQ4Fzv/ICHsrS/45lofN/rb3+qNU2as+PRiUGcrFXK+57kWLkg5Kx7IxmSM/MUCsuu7fgFTo/3rJrbxutSvYah30awkheCkmsnOXFtzrMdTwSmYahcSRyCrB7HgJd60VHFUwU3yNG4dbiBw6GiHTAn1SGISMyclvfJCyPIzn4Riyc92/BUCk4rfC6yK6nrVc/YY4QjMeoXXgoyjIZObEYsxwQJMzy8fsBZ1i84yfyAE4btHA/xgn7uj+AwUQcnE+KJmGJSfq1TUIvV8cE+TUddrxG4LYhgmeIx99Wp1r/Sjbo/gi0PoPAQK6ZPf1d95l0nvVA703y1a3lORaQA0KEgsot6BeZ5GINyoD5MUBNET2PtoHxUJLMHR93EkJX2//LdXrzkpIlIFa3diXiB4/UJJv4gJG1yRoAk4xkL+VFkBQtBCzDXqMPHv/vKag6Jo//+CLxk4BUhGD6U4Pruw3Rmg8YGK3n46IE1P/MUyC9pF3ImznWsCvOh95j5vPqDFyzw2Bb6mSE4K/1mZhDIWE/zgt8yrEvLahlGVekWI2zrR5VpqBRla26pwupUK/7KDvePw3lH5CjUrSOb61Y2d+vP0+GNd28Wt+7m5i6zw6SN2FgShnXvSkNWlj3cywrbtokX4hbZ0xKGvG6VEYaEB0gYcjmGF4tPXfGPYVmy7sehwf2fdEgevo5ZJG/di/9AytyYcmPt2cmBk51si5TkO67mlN80Fpd9Wahu/adnbxKvHm01+RorzjsP/L9VqNn/i0JoY2x82mnE69VenHMvGMdq0B6lGBQPYWvE3hZxZhKouA5pNXtBNEzYywEWBrFatNVjOFNIcWf7HHslOpaKX4tcg4YMXqqOJqaQDuJq+1bdlTmO16Pvffz5BArQIr0BCCRubG3m7ly91gFfLatbbBZpiMDzCigrn718vaObwUbOMnegIQHPypvYPOr0nfv2W1bN2aur1wbU4HubObXb164+CzH5CxLnIfaA0sKL/edBARs29B3Irbs18jSCvAOaml/8GacTqO5pGgSgGsra8paPjfWgm+gpdFhHr1v4TFEwaC1iuU4blQMh2I7WzxAZpNkCAjzVIuz8DGEdAhVQdO/jvNDrzxDPAUDLTxOeP6DZAAAAAElFTkSuQmCC",alt:""})}),(0,ze.jsxs)("div",{className:"account-info",children:[(0,ze.jsx)(Ve,{className:"account-info-username",to:"/profile",children:i}),(0,ze.jsxs)("div",{className:"account-info-balance",style:{width:h.length<6&&"120px"},children:["\u0411\u0430\u043b\u0430\u043d\u0441:",(0,ze.jsxs)("span",{style:{fontSize:h.length>=7&&"13px"},children:[h,"\u20bd"]})]})]})]}),(0,ze.jsx)("i",{onClick:function(){return XM()},className:"ri-logout-box-line"})]}),t?null:(0,ze.jsx)(Ve,{to:"/signin",className:"btn",children:"\u0412\u043e\u0439\u0442\u0438"})]})})},oK=function(){return(0,ze.jsxs)("div",{className:"app",children:[(0,ze.jsx)(aK,{}),(0,ze.jsx)(Ae,{}),(0,ze.jsx)(iK,{})]})},uK=function(){var e=l(oU(GM),2),t=e[0],n=e[1],i=FW(),a=ye();return(0,r.useEffect)((function(){GM.currentUser&&bf(GM,(function(e){if(e){var t=e.uid,n=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:hu(),t=arguments.length>1?arguments[1]:void 0;return iu(e,"database").getImmediate({identifier:t})}();yj(rj(n,"users/"+t),(function(e){var t=e.val();i(eK(t))}))}}))}),[t,i]),(0,r.useEffect)((function(){if("/profile"!==a.pathname){i(VW({mysteryRare:!1,covertRare:!1,classifiedRare:!1,restrictedRare:!1,milSpecGradeRare:!1}))}}),[a.pathname,i]),n?null:(0,ze.jsx)(Re,{children:(0,ze.jsxs)(Oe,{path:"/",element:(0,ze.jsx)(oK,{}),children:[(0,ze.jsx)(Oe,{path:"/",element:t?(0,ze.jsx)(Ne,{to:"/home"}):(0,ze.jsx)(We,{})}),(0,ze.jsx)(Oe,{path:"/home",element:(0,ze.jsx)(MW,{})}),(0,ze.jsx)(Oe,{path:"/profile",element:t?(0,ze.jsx)(KW,{}):(0,ze.jsx)(Ne,{to:"/home"})}),(0,ze.jsx)(Oe,{path:"/signin",element:(0,ze.jsx)(jV,{})}),(0,ze.jsx)(Oe,{path:"/login",element:(0,ze.jsx)(MV,{})}),(0,ze.jsx)(Oe,{path:"/cases/:id",element:(0,ze.jsx)(XW,{})}),(0,ze.jsx)(Oe,{path:"/contacts",element:(0,ze.jsx)(rK,{})})]})})},sK=function(e){var t,n=yB(),r=e||{},i=r.reducer,a=void 0===i?void 0:i,o=r.middleware,u=void 0===o?n():o,s=r.devTools,c=void 0===s||s,l=r.preloadedState,f=void 0===l?void 0:l,h=r.enhancers,d=void 0===h?void 0:h;if("function"===typeof a)t=a;else{if(!dB(a))throw new Error('"reducer" is a required argument, and must be a function or an object of functions that can be passed to combineReducers');t=Hq(a)}var p=u;"function"===typeof p&&(p=p(n));var v=Yq.apply(void 0,p),y=Qq;c&&(y=hB(cB({trace:!1},"object"===typeof c&&c)));var m=[v];return Array.isArray(d)?m=tB([v],d):"function"===typeof d&&(m=d(m)),Gq(t,f,y.apply(void 0,m))}({reducer:{login:tK,cases:pW,caseData:QW,filter:qW}});window.store=sK,a.createRoot(document.getElementById("root")).render((0,ze.jsx)(Ue,{children:(0,ze.jsx)(AW,{store:sK,children:(0,ze.jsx)(uK,{})})}))}()}();
//# sourceMappingURL=main.666d6b4b.js.map